function Qm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Gm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _d={exports:{}},il={},Ed={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ls=Symbol.for("react.element"),Ym=Symbol.for("react.portal"),Jm=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),ep=Symbol.for("react.provider"),tp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),sp=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),Oc=Symbol.iterator;function lp(e){return e===null||typeof e!="object"?null:(e=Oc&&e[Oc]||e["@@iterator"],typeof e=="function"?e:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,Ld={};function Rr(e,t,n){this.props=e,this.context=t,this.refs=Ld,this.updater=n||Td}Rr.prototype.isReactComponent={};Rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pd(){}Pd.prototype=Rr.prototype;function Na(e,t,n){this.props=e,this.context=t,this.refs=Ld,this.updater=n||Td}var Sa=Na.prototype=new Pd;Sa.constructor=Na;Rd(Sa,Rr.prototype);Sa.isPureReactComponent=!0;var Ac=Array.isArray,Od=Object.prototype.hasOwnProperty,ka={current:null},Ad={key:!0,ref:!0,__self:!0,__source:!0};function Dd(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Od.call(t,r)&&!Ad.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ls,type:e,key:l,ref:o,props:s,_owner:ka.current}}function op(e,t){return{$$typeof:Ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ca(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ls}function ap(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Dc=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ap(""+e.key):t.toString(36)}function fi(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ls:case Ym:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ol(o,0):r,Ac(s)?(n="",e!=null&&(n=e.replace(Dc,"$&/")+"/"),fi(s,t,n,"",function(u){return u})):s!=null&&(Ca(s)&&(s=op(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ac(e))for(var a=0;a<e.length;a++){l=e[a];var c=r+Ol(l,a);o+=fi(l,t,n,c,s)}else if(c=lp(e),typeof c=="function")for(e=c.call(e),a=0;!(l=e.next()).done;)l=l.value,c=r+Ol(l,a++),o+=fi(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $s(e,t,n){if(e==null)return e;var r=[],s=0;return fi(e,r,"","",function(l){return t.call(n,l,s++)}),r}function cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},hi={transition:null},up={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:hi,ReactCurrentOwner:ka};function Md(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:$s,forEach:function(e,t,n){$s(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $s(e,function(){t++}),t},toArray:function(e){return $s(e,function(t){return t})||[]},only:function(e){if(!Ca(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Rr;he.Fragment=Jm;he.Profiler=Zm;he.PureComponent=Na;he.StrictMode=Xm;he.Suspense=rp;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;he.act=Md;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rd({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=ka.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Od.call(t,c)&&!Ad.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ls,type:e.type,key:s,ref:l,props:r,_owner:o}};he.createContext=function(e){return e={$$typeof:tp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ep,_context:e},e.Consumer=e};he.createElement=Dd;he.createFactory=function(e){var t=Dd.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:np,render:e}};he.isValidElement=Ca;he.lazy=function(e){return{$$typeof:ip,_payload:{_status:-1,_result:e},_init:cp}};he.memo=function(e,t){return{$$typeof:sp,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=hi.transition;hi.transition={};try{e()}finally{hi.transition=t}};he.unstable_act=Md;he.useCallback=function(e,t){return nt.current.useCallback(e,t)};he.useContext=function(e){return nt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};he.useEffect=function(e,t){return nt.current.useEffect(e,t)};he.useId=function(){return nt.current.useId()};he.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return nt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};he.useRef=function(e){return nt.current.useRef(e)};he.useState=function(e){return nt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return nt.current.useTransition()};he.version="18.3.1";Ed.exports=he;var y=Ed.exports;const ll=Gm(y),dp=Qm({__proto__:null,default:ll},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=y,hp=Symbol.for("react.element"),mp=Symbol.for("react.fragment"),pp=Object.prototype.hasOwnProperty,gp=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xp={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)pp.call(t,r)&&!xp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:hp,type:e,key:l,ref:o,props:s,_owner:gp.current}}il.Fragment=mp;il.jsx=zd;il.jsxs=zd;_d.exports=il;var i=_d.exports,po={},Fd={exports:{}},yt={},Ud={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,B){var W=T.length;T.push(B);e:for(;0<W;){var w=W-1>>>1,R=T[w];if(0<s(R,B))T[w]=B,T[W]=R,W=w;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var B=T[0],W=T.pop();if(W!==B){T[0]=W;e:for(var w=0,R=T.length,q=R>>>1;w<q;){var _=2*(w+1)-1,U=T[_],J=_+1,O=T[J];if(0>s(U,W))J<R&&0>s(O,U)?(T[w]=O,T[J]=W,w=J):(T[w]=U,T[_]=W,w=_);else if(J<R&&0>s(O,W))T[w]=O,T[J]=W,w=J;else break e}}return B}function s(T,B){var W=T.sortIndex-B.sortIndex;return W!==0?W:T.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,p=3,N=!1,v=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=T)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function S(T){if(g=!1,x(T),!v)if(n(c)!==null)v=!0,K(k);else{var B=n(u);B!==null&&ee(S,B.startTime-T)}}function k(T,B){v=!1,g&&(g=!1,m(z),z=-1),N=!0;var W=p;try{for(x(B),h=n(c);h!==null&&(!(h.expirationTime>B)||T&&!le());){var w=h.callback;if(typeof w=="function"){h.callback=null,p=h.priorityLevel;var R=w(h.expirationTime<=B);B=e.unstable_now(),typeof R=="function"?h.callback=R:h===n(c)&&r(c),x(B)}else r(c);h=n(c)}if(h!==null)var q=!0;else{var _=n(u);_!==null&&ee(S,_.startTime-B),q=!1}return q}finally{h=null,p=W,N=!1}}var D=!1,L=null,z=-1,Z=5,Q=-1;function le(){return!(e.unstable_now()-Q<Z)}function F(){if(L!==null){var T=e.unstable_now();Q=T;var B=!0;try{B=L(!0,T)}finally{B?ie():(D=!1,L=null)}}else D=!1}var ie;if(typeof f=="function")ie=function(){f(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=F,ie=function(){H.postMessage(null)}}else ie=function(){j(F,0)};function K(T){L=T,D||(D=!0,ie())}function ee(T,B){z=j(function(){T(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||N||(v=!0,K(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var W=p;p=B;try{return T()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,B){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=p;p=T;try{return B()}finally{p=W}},e.unstable_scheduleCallback=function(T,B,W){var w=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?w+W:w):W=w,T){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=W+R,T={id:d++,callback:B,priorityLevel:T,startTime:W,expirationTime:R,sortIndex:-1},W>w?(T.sortIndex=W,t(u,T),n(c)===null&&T===n(u)&&(g?(m(z),z=-1):g=!0,ee(S,W-w))):(T.sortIndex=R,t(c,T),v||N||(v=!0,K(k))),T},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(T){var B=p;return function(){var W=p;p=B;try{return T.apply(this,arguments)}finally{p=W}}}})(Bd);Ud.exports=Bd;var yp=Ud.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=y,xt=yp;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Id=new Set,ds={};function Zn(e,t){br(e,t),br(e+"Capture",t)}function br(e,t){for(ds[e]=t,e=0;e<t.length;e++)Id.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,wp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mc={},zc={};function bp(e){return go.call(zc,e)?!0:go.call(Mc,e)?!1:wp.test(e)?zc[e]=!0:(Mc[e]=!0,!1)}function jp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Np(e,t,n,r){if(t===null||typeof t>"u"||jp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var _a=/[\-:]([a-z])/g;function Ea(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_a,Ea);Ke[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_a,Ea);Ke[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_a,Ea);Ke[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ta(e,t,n,r){var s=Ke.hasOwnProperty(t)?Ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Np(t,n,s,r)&&(n=null),r||s===null?bp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qs=Symbol.for("react.element"),nr=Symbol.for("react.portal"),rr=Symbol.for("react.fragment"),Ra=Symbol.for("react.strict_mode"),xo=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),qd=Symbol.for("react.context"),La=Symbol.for("react.forward_ref"),yo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Pa=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function Br(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Al;function Yr(e){if(Al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||""}return`
`+Al+e}var Dl=!1;function Ml(e,t){if(!e||Dl)return"";Dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,a=l.length-1;1<=o&&0<=a&&s[o]!==l[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==l[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==l[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Dl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function Sp(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=Ml(e.type,!1),e;case 11:return e=Ml(e.type.render,!1),e;case 1:return e=Ml(e.type,!0),e;default:return""}}function wo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rr:return"Fragment";case nr:return"Portal";case xo:return"Profiler";case Ra:return"StrictMode";case yo:return"Suspense";case vo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qd:return(e.displayName||"Context")+".Consumer";case $d:return(e._context.displayName||"Context")+".Provider";case La:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pa:return t=e.displayName||null,t!==null?t:wo(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return wo(e(t))}catch{}}return null}function kp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(t);case 8:return t===Ra?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cp(e){var t=Wd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hs(e){e._valueTracker||(e._valueTracker=Cp(e))}function Vd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kd(e,t){t=t.checked,t!=null&&Ta(e,"checked",t,!1)}function jo(e,t){Kd(e,t);var n=Rn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?No(e,t.type,n):t.hasOwnProperty("defaultValue")&&No(e,t.type,Rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function No(e,t,n){(t!=="number"||Li(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jr=Array.isArray;function mr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function So(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Jr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rn(n)}}function Qd(e,t){var n=Rn(t.value),r=Rn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $c(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,Yd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_p=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(e){_p.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ts[t]=ts[e]})});function Jd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ts.hasOwnProperty(e)&&ts[e]?(""+t).trim():t+"px"}function Xd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ep=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(e,t){if(t){if(Ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function _o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var To=null,pr=null,gr=null;function qc(e){if(e=As(e)){if(typeof To!="function")throw Error(M(280));var t=e.stateNode;t&&(t=dl(t),To(e.stateNode,e.type,t))}}function Zd(e){pr?gr?gr.push(e):gr=[e]:pr=e}function ef(){if(pr){var e=pr,t=gr;if(gr=pr=null,qc(e),t)for(e=0;e<t.length;e++)qc(t[e])}}function tf(e,t){return e(t)}function nf(){}var zl=!1;function rf(e,t,n){if(zl)return e(t,n);zl=!0;try{return tf(e,t,n)}finally{zl=!1,(pr!==null||gr!==null)&&(nf(),ef())}}function hs(e,t){var n=e.stateNode;if(n===null)return null;var r=dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ro=!1;if(rn)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Ro=!1}function Tp(e,t,n,r,s,l,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ns=!1,Pi=null,Oi=!1,Lo=null,Rp={onError:function(e){ns=!0,Pi=e}};function Lp(e,t,n,r,s,l,o,a,c){ns=!1,Pi=null,Tp.apply(Rp,arguments)}function Pp(e,t,n,r,s,l,o,a,c){if(Lp.apply(this,arguments),ns){if(ns){var u=Pi;ns=!1,Pi=null}else throw Error(M(198));Oi||(Oi=!0,Lo=u)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hc(e){if(er(e)!==e)throw Error(M(188))}function Op(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Hc(s),e;if(l===r)return Hc(s),t;l=l.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o){for(a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function lf(e){return e=Op(e),e!==null?of(e):null}function of(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=of(e);if(t!==null)return t;e=e.sibling}return null}var af=xt.unstable_scheduleCallback,Wc=xt.unstable_cancelCallback,Ap=xt.unstable_shouldYield,Dp=xt.unstable_requestPaint,Ae=xt.unstable_now,Mp=xt.unstable_getCurrentPriorityLevel,Aa=xt.unstable_ImmediatePriority,cf=xt.unstable_UserBlockingPriority,Ai=xt.unstable_NormalPriority,zp=xt.unstable_LowPriority,uf=xt.unstable_IdlePriority,ol=null,Ht=null;function Fp(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ol,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Ip,Up=Math.log,Bp=Math.LN2;function Ip(e){return e>>>=0,e===0?32:31-(Up(e)/Bp|0)|0}var Vs=64,Ks=4194304;function Xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Xr(a):(l&=o,l!==0&&(r=Xr(l)))}else o=n&~s,o!==0?r=Xr(o):l!==0&&(r=Xr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function $p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Dt(l),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=$p(a,t)):c<=t&&(e.expiredLanes|=a),l&=~a}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function df(){var e=Vs;return Vs<<=1,!(Vs&4194240)&&(Vs=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ps(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function Hp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Da(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var be=0;function ff(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hf,Ma,mf,pf,gf,Oo=!1,Qs=[],vn=null,wn=null,bn=null,ms=new Map,ps=new Map,hn=[],Wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(t.pointerId)}}function $r(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=As(t),t!==null&&Ma(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vp(e,t,n,r,s){switch(t){case"focusin":return vn=$r(vn,e,t,n,r,s),!0;case"dragenter":return wn=$r(wn,e,t,n,r,s),!0;case"mouseover":return bn=$r(bn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return ms.set(l,$r(ms.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,ps.set(l,$r(ps.get(l)||null,e,t,n,r,s)),!0}return!1}function xf(e){var t=Un(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=sf(n),t!==null){e.blockedOn=t,gf(e.priority,function(){mf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Eo=r,n.target.dispatchEvent(r),Eo=null}else return t=As(n),t!==null&&Ma(t),e.blockedOn=n,!1;t.shift()}return!0}function Kc(e,t,n){mi(e)&&n.delete(t)}function Kp(){Oo=!1,vn!==null&&mi(vn)&&(vn=null),wn!==null&&mi(wn)&&(wn=null),bn!==null&&mi(bn)&&(bn=null),ms.forEach(Kc),ps.forEach(Kc)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Kp)))}function gs(e){function t(s){return qr(s,e)}if(0<Qs.length){qr(Qs[0],e);for(var n=1;n<Qs.length;n++){var r=Qs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vn!==null&&qr(vn,e),wn!==null&&qr(wn,e),bn!==null&&qr(bn,e),ms.forEach(t),ps.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)xf(n),n.blockedOn===null&&hn.shift()}var xr=an.ReactCurrentBatchConfig,Mi=!0;function Qp(e,t,n,r){var s=be,l=xr.transition;xr.transition=null;try{be=1,za(e,t,n,r)}finally{be=s,xr.transition=l}}function Gp(e,t,n,r){var s=be,l=xr.transition;xr.transition=null;try{be=4,za(e,t,n,r)}finally{be=s,xr.transition=l}}function za(e,t,n,r){if(Mi){var s=Ao(e,t,n,r);if(s===null)Ql(e,t,r,zi,n),Vc(e,r);else if(Vp(s,e,t,n,r))r.stopPropagation();else if(Vc(e,r),t&4&&-1<Wp.indexOf(e)){for(;s!==null;){var l=As(s);if(l!==null&&hf(l),l=Ao(e,t,n,r),l===null&&Ql(e,t,r,zi,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Ql(e,t,r,null,n)}}var zi=null;function Ao(e,t,n,r){if(zi=null,e=Oa(r),e=Un(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zi=e,null}function yf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mp()){case Aa:return 1;case cf:return 4;case Ai:case zp:return 16;case uf:return 536870912;default:return 16}default:return 16}}var pn=null,Fa=null,pi=null;function vf(){if(pi)return pi;var e,t=Fa,n=t.length,r,s="value"in pn?pn.value:pn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return pi=s.slice(e,1<r?1-r:void 0)}function gi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function Qc(){return!1}function vt(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Gs:Qc,this.isPropagationStopped=Qc,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=vt(Lr),Os=Le({},Lr,{view:0,detail:0}),Yp=vt(Os),Ul,Bl,Hr,al=Le({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Ul=e.screenX-Hr.screenX,Bl=e.screenY-Hr.screenY):Bl=Ul=0,Hr=e),Ul)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),Gc=vt(al),Jp=Le({},al,{dataTransfer:0}),Xp=vt(Jp),Zp=Le({},Os,{relatedTarget:0}),Il=vt(Zp),e0=Le({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=vt(e0),n0=Le({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),r0=vt(n0),s0=Le({},Lr,{data:0}),Yc=vt(s0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o0[e])?!!t[e]:!1}function Ba(){return a0}var c0=Le({},Os,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u0=vt(c0),d0=Le({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=vt(d0),f0=Le({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),h0=vt(f0),m0=Le({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),p0=vt(m0),g0=Le({},al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=vt(g0),y0=[9,13,27,32],Ia=rn&&"CompositionEvent"in window,rs=null;rn&&"documentMode"in document&&(rs=document.documentMode);var v0=rn&&"TextEvent"in window&&!rs,wf=rn&&(!Ia||rs&&8<rs&&11>=rs),Xc=" ",Zc=!1;function bf(e,t){switch(e){case"keyup":return y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function w0(e,t){switch(e){case"compositionend":return jf(t);case"keypress":return t.which!==32?null:(Zc=!0,Xc);case"textInput":return e=t.data,e===Xc&&Zc?null:e;default:return null}}function b0(e,t){if(sr)return e==="compositionend"||!Ia&&bf(e,t)?(e=vf(),pi=Fa=pn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var j0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j0[e.type]:t==="textarea"}function Nf(e,t,n,r){Zd(r),t=Fi(t,"onChange"),0<t.length&&(n=new Ua("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ss=null,xs=null;function N0(e){Af(e,0)}function cl(e){var t=or(e);if(Vd(t))return e}function S0(e,t){if(e==="change")return t}var Sf=!1;if(rn){var $l;if(rn){var ql="oninput"in document;if(!ql){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),ql=typeof tu.oninput=="function"}$l=ql}else $l=!1;Sf=$l&&(!document.documentMode||9<document.documentMode)}function nu(){ss&&(ss.detachEvent("onpropertychange",kf),xs=ss=null)}function kf(e){if(e.propertyName==="value"&&cl(xs)){var t=[];Nf(t,xs,e,Oa(e)),rf(N0,t)}}function k0(e,t,n){e==="focusin"?(nu(),ss=t,xs=n,ss.attachEvent("onpropertychange",kf)):e==="focusout"&&nu()}function C0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(xs)}function _0(e,t){if(e==="click")return cl(t)}function E0(e,t){if(e==="input"||e==="change")return cl(t)}function T0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:T0;function ys(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!go.call(t,s)||!zt(e[s],t[s]))return!1}return!0}function ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function su(e,t){var n=ru(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ru(n)}}function Cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _f(){for(var e=window,t=Li();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Li(e.document)}return t}function $a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R0(e){var t=_f(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cf(n.ownerDocument.documentElement,n)){if(r!==null&&$a(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=su(n,l);var o=su(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L0=rn&&"documentMode"in document&&11>=document.documentMode,ir=null,Do=null,is=null,Mo=!1;function iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mo||ir==null||ir!==Li(r)||(r=ir,"selectionStart"in r&&$a(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),is&&ys(is,r)||(is=r,r=Fi(Do,"onSelect"),0<r.length&&(t=new Ua("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function Ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var lr={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Hl={},Ef={};rn&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function ul(e){if(Hl[e])return Hl[e];if(!lr[e])return e;var t=lr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ef)return Hl[e]=t[n];return e}var Tf=ul("animationend"),Rf=ul("animationiteration"),Lf=ul("animationstart"),Pf=ul("transitionend"),Of=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Of.set(e,t),Zn(t,[e])}for(var Wl=0;Wl<lu.length;Wl++){var Vl=lu[Wl],P0=Vl.toLowerCase(),O0=Vl[0].toUpperCase()+Vl.slice(1);Pn(P0,"on"+O0)}Pn(Tf,"onAnimationEnd");Pn(Rf,"onAnimationIteration");Pn(Lf,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Pf,"onTransitionEnd");br("onMouseEnter",["mouseout","mouseover"]);br("onMouseLeave",["mouseout","mouseover"]);br("onPointerEnter",["pointerout","pointerover"]);br("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zr));function ou(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pp(r,t,void 0,e),e.currentTarget=null}function Af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==l&&s.isPropagationStopped())break e;ou(s,a,u),l=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==l&&s.isPropagationStopped())break e;ou(s,a,u),l=c}}}if(Oi)throw e=Lo,Oi=!1,Lo=null,e}function ke(e,t){var n=t[Io];n===void 0&&(n=t[Io]=new Set);var r=e+"__bubble";n.has(r)||(Df(t,e,2,!1),n.add(r))}function Kl(e,t,n){var r=0;t&&(r|=4),Df(n,e,r,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function vs(e){if(!e[Js]){e[Js]=!0,Id.forEach(function(n){n!=="selectionchange"&&(A0.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Kl("selectionchange",!1,t))}}function Df(e,t,n,r){switch(yf(t)){case 1:var s=Qp;break;case 4:s=Gp;break;default:s=za}n=s.bind(null,t,n,e),s=void 0,!Ro||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ql(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Un(a),o===null)return;if(c=o.tag,c===5||c===6){r=l=o;continue e}a=a.parentNode}}r=r.return}rf(function(){var u=l,d=Oa(n),h=[];e:{var p=Of.get(e);if(p!==void 0){var N=Ua,v=e;switch(e){case"keypress":if(gi(n)===0)break e;case"keydown":case"keyup":N=u0;break;case"focusin":v="focus",N=Il;break;case"focusout":v="blur",N=Il;break;case"beforeblur":case"afterblur":N=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=h0;break;case Tf:case Rf:case Lf:N=t0;break;case Pf:N=p0;break;case"scroll":N=Yp;break;case"wheel":N=x0;break;case"copy":case"cut":case"paste":N=r0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Jc}var g=(t&4)!==0,j=!g&&e==="scroll",m=g?p!==null?p+"Capture":null:p;g=[];for(var f=u,x;f!==null;){x=f;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=hs(f,m),S!=null&&g.push(ws(f,S,x)))),j)break;f=f.return}0<g.length&&(p=new N(p,v,null,n,d),h.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",p&&n!==Eo&&(v=n.relatedTarget||n.fromElement)&&(Un(v)||v[sn]))break e;if((N||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,N?(v=n.relatedTarget||n.toElement,N=u,v=v?Un(v):null,v!==null&&(j=er(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(N=null,v=u),N!==v)){if(g=Gc,S="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=Jc,S="onPointerLeave",m="onPointerEnter",f="pointer"),j=N==null?p:or(N),x=v==null?p:or(v),p=new g(S,f+"leave",N,n,d),p.target=j,p.relatedTarget=x,S=null,Un(d)===u&&(g=new g(m,f+"enter",v,n,d),g.target=x,g.relatedTarget=j,S=g),j=S,N&&v)t:{for(g=N,m=v,f=0,x=g;x;x=tr(x))f++;for(x=0,S=m;S;S=tr(S))x++;for(;0<f-x;)g=tr(g),f--;for(;0<x-f;)m=tr(m),x--;for(;f--;){if(g===m||m!==null&&g===m.alternate)break t;g=tr(g),m=tr(m)}g=null}else g=null;N!==null&&au(h,p,N,g,!1),v!==null&&j!==null&&au(h,j,v,g,!0)}}e:{if(p=u?or(u):window,N=p.nodeName&&p.nodeName.toLowerCase(),N==="select"||N==="input"&&p.type==="file")var k=S0;else if(eu(p))if(Sf)k=E0;else{k=C0;var D=k0}else(N=p.nodeName)&&N.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=_0);if(k&&(k=k(e,u))){Nf(h,k,n,d);break e}D&&D(e,p,u),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&No(p,"number",p.value)}switch(D=u?or(u):window,e){case"focusin":(eu(D)||D.contentEditable==="true")&&(ir=D,Do=u,is=null);break;case"focusout":is=Do=ir=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,iu(h,n,d);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":iu(h,n,d)}var L;if(Ia)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else sr?bf(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(wf&&n.locale!=="ko"&&(sr||z!=="onCompositionStart"?z==="onCompositionEnd"&&sr&&(L=vf()):(pn=d,Fa="value"in pn?pn.value:pn.textContent,sr=!0)),D=Fi(u,z),0<D.length&&(z=new Yc(z,e,null,n,d),h.push({event:z,listeners:D}),L?z.data=L:(L=jf(n),L!==null&&(z.data=L)))),(L=v0?w0(e,n):b0(e,n))&&(u=Fi(u,"onBeforeInput"),0<u.length&&(d=new Yc("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=L))}Af(h,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=hs(e,n),l!=null&&r.unshift(ws(e,l,s)),l=hs(e,t),l!=null&&r.push(ws(e,l,s))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function au(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=hs(n,l),c!=null&&o.unshift(ws(n,c,a))):s||(c=hs(n,l),c!=null&&o.push(ws(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var D0=/\r\n?/g,M0=/\u0000|\uFFFD/g;function cu(e){return(typeof e=="string"?e:""+e).replace(D0,`
`).replace(M0,"")}function Xs(e,t,n){if(t=cu(t),cu(e)!==t&&n)throw Error(M(425))}function Ui(){}var zo=null,Fo=null;function Uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,uu=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof uu<"u"?function(e){return uu.resolve(null).then(e).catch(U0)}:Bo;function U0(e){setTimeout(function(){throw e})}function Gl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gs(t)}function jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function du(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),qt="__reactFiber$"+Pr,bs="__reactProps$"+Pr,sn="__reactContainer$"+Pr,Io="__reactEvents$"+Pr,B0="__reactListeners$"+Pr,I0="__reactHandles$"+Pr;function Un(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=du(e);e!==null;){if(n=e[qt])return n;e=du(e)}return t}e=n,n=e.parentNode}return null}function As(e){return e=e[qt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function dl(e){return e[bs]||null}var $o=[],ar=-1;function On(e){return{current:e}}function Ce(e){0>ar||(e.current=$o[ar],$o[ar]=null,ar--)}function Se(e,t){ar++,$o[ar]=e.current,e.current=t}var Ln={},Xe=On(Ln),lt=On(!1),Kn=Ln;function jr(e,t){var n=e.type.contextTypes;if(!n)return Ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ot(e){return e=e.childContextTypes,e!=null}function Bi(){Ce(lt),Ce(Xe)}function fu(e,t,n){if(Xe.current!==Ln)throw Error(M(168));Se(Xe,t),Se(lt,n)}function Mf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,kp(e)||"Unknown",s));return Le({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Kn=Xe.current,Se(Xe,e),Se(lt,lt.current),!0}function hu(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Mf(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,Ce(lt),Ce(Xe),Se(Xe,e)):Ce(lt),Se(lt,n)}var Zt=null,fl=!1,Yl=!1;function zf(e){Zt===null?Zt=[e]:Zt.push(e)}function $0(e){fl=!0,zf(e)}function An(){if(!Yl&&Zt!==null){Yl=!0;var e=0,t=be;try{var n=Zt;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zt=null,fl=!1}catch(s){throw Zt!==null&&(Zt=Zt.slice(e+1)),af(Aa,An),s}finally{be=t,Yl=!1}}return null}var cr=[],ur=0,$i=null,qi=0,jt=[],Nt=0,Qn=null,en=1,tn="";function zn(e,t){cr[ur++]=qi,cr[ur++]=$i,$i=e,qi=t}function Ff(e,t,n){jt[Nt++]=en,jt[Nt++]=tn,jt[Nt++]=Qn,Qn=e;var r=en;e=tn;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var l=32-Dt(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,en=1<<32-Dt(t)+s|n<<s|r,tn=l+e}else en=1<<l|n<<s|r,tn=e}function qa(e){e.return!==null&&(zn(e,1),Ff(e,1,0))}function Ha(e){for(;e===$i;)$i=cr[--ur],cr[ur]=null,qi=cr[--ur],cr[ur]=null;for(;e===Qn;)Qn=jt[--Nt],jt[Nt]=null,tn=jt[--Nt],jt[Nt]=null,en=jt[--Nt],jt[Nt]=null}var gt=null,pt=null,Ee=!1,At=null;function Uf(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,pt=jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,pt=null,!0):!1;default:return!1}}function qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ho(e){if(Ee){var t=pt;if(t){var n=t;if(!mu(e,t)){if(qo(e))throw Error(M(418));t=jn(n.nextSibling);var r=gt;t&&mu(e,t)?Uf(r,n):(e.flags=e.flags&-4097|2,Ee=!1,gt=e)}}else{if(qo(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ee=!1,gt=e}}}function pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Zs(e){if(e!==gt)return!1;if(!Ee)return pu(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uo(e.type,e.memoizedProps)),t&&(t=pt)){if(qo(e))throw Bf(),Error(M(418));for(;t;)Uf(e,t),t=jn(t.nextSibling)}if(pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=jn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=gt?jn(e.stateNode.nextSibling):null;return!0}function Bf(){for(var e=pt;e;)e=jn(e.nextSibling)}function Nr(){pt=gt=null,Ee=!1}function Wa(e){At===null?At=[e]:At.push(e)}var q0=an.ReactCurrentBatchConfig;function Wr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var a=s.refs;o===null?delete a[l]:a[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function ei(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gu(e){var t=e._init;return t(e._payload)}function If(e){function t(m,f){if(e){var x=m.deletions;x===null?(m.deletions=[f],m.flags|=16):x.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Cn(m,f),m.index=0,m.sibling=null,m}function l(m,f,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<f?(m.flags|=2,f):x):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,x,S){return f===null||f.tag!==6?(f=ro(x,m.mode,S),f.return=m,f):(f=s(f,x),f.return=m,f)}function c(m,f,x,S){var k=x.type;return k===rr?d(m,f,x.props.children,S,x.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dn&&gu(k)===f.type)?(S=s(f,x.props),S.ref=Wr(m,f,x),S.return=m,S):(S=Ni(x.type,x.key,x.props,null,m.mode,S),S.ref=Wr(m,f,x),S.return=m,S)}function u(m,f,x,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=so(x,m.mode,S),f.return=m,f):(f=s(f,x.children||[]),f.return=m,f)}function d(m,f,x,S,k){return f===null||f.tag!==7?(f=Hn(x,m.mode,S,k),f.return=m,f):(f=s(f,x),f.return=m,f)}function h(m,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ro(""+f,m.mode,x),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case qs:return x=Ni(f.type,f.key,f.props,null,m.mode,x),x.ref=Wr(m,null,f),x.return=m,x;case nr:return f=so(f,m.mode,x),f.return=m,f;case dn:var S=f._init;return h(m,S(f._payload),x)}if(Jr(f)||Br(f))return f=Hn(f,m.mode,x,null),f.return=m,f;ei(m,f)}return null}function p(m,f,x,S){var k=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(m,f,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case qs:return x.key===k?c(m,f,x,S):null;case nr:return x.key===k?u(m,f,x,S):null;case dn:return k=x._init,p(m,f,k(x._payload),S)}if(Jr(x)||Br(x))return k!==null?null:d(m,f,x,S,null);ei(m,x)}return null}function N(m,f,x,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(x)||null,a(f,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qs:return m=m.get(S.key===null?x:S.key)||null,c(f,m,S,k);case nr:return m=m.get(S.key===null?x:S.key)||null,u(f,m,S,k);case dn:var D=S._init;return N(m,f,x,D(S._payload),k)}if(Jr(S)||Br(S))return m=m.get(x)||null,d(f,m,S,k,null);ei(f,S)}return null}function v(m,f,x,S){for(var k=null,D=null,L=f,z=f=0,Z=null;L!==null&&z<x.length;z++){L.index>z?(Z=L,L=null):Z=L.sibling;var Q=p(m,L,x[z],S);if(Q===null){L===null&&(L=Z);break}e&&L&&Q.alternate===null&&t(m,L),f=l(Q,f,z),D===null?k=Q:D.sibling=Q,D=Q,L=Z}if(z===x.length)return n(m,L),Ee&&zn(m,z),k;if(L===null){for(;z<x.length;z++)L=h(m,x[z],S),L!==null&&(f=l(L,f,z),D===null?k=L:D.sibling=L,D=L);return Ee&&zn(m,z),k}for(L=r(m,L);z<x.length;z++)Z=N(L,m,z,x[z],S),Z!==null&&(e&&Z.alternate!==null&&L.delete(Z.key===null?z:Z.key),f=l(Z,f,z),D===null?k=Z:D.sibling=Z,D=Z);return e&&L.forEach(function(le){return t(m,le)}),Ee&&zn(m,z),k}function g(m,f,x,S){var k=Br(x);if(typeof k!="function")throw Error(M(150));if(x=k.call(x),x==null)throw Error(M(151));for(var D=k=null,L=f,z=f=0,Z=null,Q=x.next();L!==null&&!Q.done;z++,Q=x.next()){L.index>z?(Z=L,L=null):Z=L.sibling;var le=p(m,L,Q.value,S);if(le===null){L===null&&(L=Z);break}e&&L&&le.alternate===null&&t(m,L),f=l(le,f,z),D===null?k=le:D.sibling=le,D=le,L=Z}if(Q.done)return n(m,L),Ee&&zn(m,z),k;if(L===null){for(;!Q.done;z++,Q=x.next())Q=h(m,Q.value,S),Q!==null&&(f=l(Q,f,z),D===null?k=Q:D.sibling=Q,D=Q);return Ee&&zn(m,z),k}for(L=r(m,L);!Q.done;z++,Q=x.next())Q=N(L,m,z,Q.value,S),Q!==null&&(e&&Q.alternate!==null&&L.delete(Q.key===null?z:Q.key),f=l(Q,f,z),D===null?k=Q:D.sibling=Q,D=Q);return e&&L.forEach(function(F){return t(m,F)}),Ee&&zn(m,z),k}function j(m,f,x,S){if(typeof x=="object"&&x!==null&&x.type===rr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case qs:e:{for(var k=x.key,D=f;D!==null;){if(D.key===k){if(k=x.type,k===rr){if(D.tag===7){n(m,D.sibling),f=s(D,x.props.children),f.return=m,m=f;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dn&&gu(k)===D.type){n(m,D.sibling),f=s(D,x.props),f.ref=Wr(m,D,x),f.return=m,m=f;break e}n(m,D);break}else t(m,D);D=D.sibling}x.type===rr?(f=Hn(x.props.children,m.mode,S,x.key),f.return=m,m=f):(S=Ni(x.type,x.key,x.props,null,m.mode,S),S.ref=Wr(m,f,x),S.return=m,m=S)}return o(m);case nr:e:{for(D=x.key;f!==null;){if(f.key===D)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(m,f.sibling),f=s(f,x.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=so(x,m.mode,S),f.return=m,m=f}return o(m);case dn:return D=x._init,j(m,f,D(x._payload),S)}if(Jr(x))return v(m,f,x,S);if(Br(x))return g(m,f,x,S);ei(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,x),f.return=m,m=f):(n(m,f),f=ro(x,m.mode,S),f.return=m,m=f),o(m)):n(m,f)}return j}var Sr=If(!0),$f=If(!1),Hi=On(null),Wi=null,dr=null,Va=null;function Ka(){Va=dr=Wi=null}function Qa(e){var t=Hi.current;Ce(Hi),e._currentValue=t}function Wo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yr(e,t){Wi=e,Va=dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Va!==e)if(e={context:e,memoizedValue:t,next:null},dr===null){if(Wi===null)throw Error(M(308));dr=e,Wi.dependencies={lanes:0,firstContext:e}}else dr=dr.next=e;return t}var Bn=null;function Ga(e){Bn===null?Bn=[e]:Bn.push(e)}function qf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ga(t)):(n.next=s.next,s.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ln(e,n)}return s=r.interleaved,s===null?(t.next=t,Ga(r)):(t.next=s.next,s.next=t),r.interleaved=t,ln(e,n)}function xi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Da(e,n)}}function xu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var s=e.updateQueue;fn=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?l=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(l!==null){var h=s.baseState;o=0,d=u=c=null,a=l;do{var p=a.lane,N=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:N,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,N=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(N,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(N,h,p):v,p==null)break e;h=Le({},h,p);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else N={eventTime:N,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=N,c=h):d=d.next=N,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Yn|=o,e.lanes=o,e.memoizedState=h}}function yu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Ds={},Wt=On(Ds),js=On(Ds),Ns=On(Ds);function In(e){if(e===Ds)throw Error(M(174));return e}function Ja(e,t){switch(Se(Ns,t),Se(js,e),Se(Wt,Ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ko(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ko(t,e)}Ce(Wt),Se(Wt,t)}function kr(){Ce(Wt),Ce(js),Ce(Ns)}function Wf(e){In(Ns.current);var t=In(Wt.current),n=ko(t,e.type);t!==n&&(Se(js,e),Se(Wt,n))}function Xa(e){js.current===e&&(Ce(Wt),Ce(js))}var Te=On(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jl=[];function Za(){for(var e=0;e<Jl.length;e++)Jl[e]._workInProgressVersionPrimary=null;Jl.length=0}var yi=an.ReactCurrentDispatcher,Xl=an.ReactCurrentBatchConfig,Gn=0,Re=null,Ie=null,qe=null,Qi=!1,ls=!1,Ss=0,H0=0;function Qe(){throw Error(M(321))}function ec(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function tc(e,t,n,r,s,l){if(Gn=l,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yi.current=e===null||e.memoizedState===null?Q0:G0,e=n(r,s),ls){l=0;do{if(ls=!1,Ss=0,25<=l)throw Error(M(301));l+=1,qe=Ie=null,t.updateQueue=null,yi.current=Y0,e=n(r,s)}while(ls)}if(yi.current=Gi,t=Ie!==null&&Ie.next!==null,Gn=0,qe=Ie=Re=null,Qi=!1,t)throw Error(M(300));return e}function nc(){var e=Ss!==0;return Ss=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Re.memoizedState=qe=e:qe=qe.next=e,qe}function Tt(){if(Ie===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=qe===null?Re.memoizedState:qe.next;if(t!==null)qe=t,Ie=e;else{if(e===null)throw Error(M(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},qe===null?Re.memoizedState=qe=e:qe=qe.next=e}return qe}function ks(e,t){return typeof t=="function"?t(e):t}function Zl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Ie,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=o=null,c=null,u=l;do{var d=u.lane;if((Gn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,Re.lanes|=d,Yn|=d}u=u.next}while(u!==null&&u!==l);c===null?o=r:c.next=a,zt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,Re.lanes|=l,Yn|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eo(e){var t=Tt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);zt(l,t.memoizedState)||(it=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Vf(){}function Kf(e,t){var n=Re,r=Tt(),s=t(),l=!zt(r.memoizedState,s);if(l&&(r.memoizedState=s,it=!0),r=r.queue,rc(Yf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Cs(9,Gf.bind(null,n,r,s,t),void 0,null),He===null)throw Error(M(349));Gn&30||Qf(n,t,s)}return s}function Qf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gf(e,t,n,r){t.value=n,t.getSnapshot=r,Jf(t)&&Xf(e)}function Yf(e,t,n){return n(function(){Jf(t)&&Xf(e)})}function Jf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function Xf(e){var t=ln(e,1);t!==null&&Mt(t,e,1,-1)}function vu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:e},t.queue=e,e=e.dispatch=K0.bind(null,Re,e),[t.memoizedState,e]}function Cs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zf(){return Tt().memoizedState}function vi(e,t,n,r){var s=It();Re.flags|=e,s.memoizedState=Cs(1|t,n,void 0,r===void 0?null:r)}function hl(e,t,n,r){var s=Tt();r=r===void 0?null:r;var l=void 0;if(Ie!==null){var o=Ie.memoizedState;if(l=o.destroy,r!==null&&ec(r,o.deps)){s.memoizedState=Cs(t,n,l,r);return}}Re.flags|=e,s.memoizedState=Cs(1|t,n,l,r)}function wu(e,t){return vi(8390656,8,e,t)}function rc(e,t){return hl(2048,8,e,t)}function eh(e,t){return hl(4,2,e,t)}function th(e,t){return hl(4,4,e,t)}function nh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rh(e,t,n){return n=n!=null?n.concat([e]):null,hl(4,4,nh.bind(null,t,e),n)}function sc(){}function sh(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ec(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ih(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ec(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lh(e,t,n){return Gn&21?(zt(n,t)||(n=df(),Re.lanes|=n,Yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function W0(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=Xl.transition;Xl.transition={};try{e(!1),t()}finally{be=n,Xl.transition=r}}function oh(){return Tt().memoizedState}function V0(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ah(e))ch(t,n);else if(n=qf(e,t,n,r),n!==null){var s=tt();Mt(n,e,r,s),uh(n,t,r)}}function K0(e,t,n){var r=kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ah(e))ch(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,a=l(o,n);if(s.hasEagerState=!0,s.eagerState=a,zt(a,o)){var c=t.interleaved;c===null?(s.next=s,Ga(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=qf(e,t,s,r),n!==null&&(s=tt(),Mt(n,e,r,s),uh(n,t,r))}}function ah(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function ch(e,t){ls=Qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Da(e,n)}}var Gi={readContext:Et,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Q0={readContext:Et,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:wu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vi(4194308,4,nh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=V0.bind(null,Re,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:vu,useDebugValue:sc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=vu(!1),t=e[0];return e=W0.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Re,s=It();if(Ee){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),He===null)throw Error(M(349));Gn&30||Qf(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,wu(Yf.bind(null,r,l,e),[e]),r.flags|=2048,Cs(9,Gf.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=It(),t=He.identifierPrefix;if(Ee){var n=tn,r=en;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ss++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=H0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},G0={readContext:Et,useCallback:sh,useContext:Et,useEffect:rc,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:Zl,useRef:Zf,useState:function(){return Zl(ks)},useDebugValue:sc,useDeferredValue:function(e){var t=Tt();return lh(t,Ie.memoizedState,e)},useTransition:function(){var e=Zl(ks)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Vf,useSyncExternalStore:Kf,useId:oh,unstable_isNewReconciler:!1},Y0={readContext:Et,useCallback:sh,useContext:Et,useEffect:rc,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:eo,useRef:Zf,useState:function(){return eo(ks)},useDebugValue:sc,useDeferredValue:function(e){var t=Tt();return Ie===null?t.memoizedState=e:lh(t,Ie.memoizedState,e)},useTransition:function(){var e=eo(ks)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Vf,useSyncExternalStore:Kf,useId:oh,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),s=kn(e),l=nn(r,s);l.payload=t,n!=null&&(l.callback=n),t=Nn(e,l,s),t!==null&&(Mt(t,e,s,r),xi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),s=kn(e),l=nn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Nn(e,l,s),t!==null&&(Mt(t,e,s,r),xi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=kn(e),s=nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Nn(e,s,r),t!==null&&(Mt(t,e,r,n),xi(t,e,r))}};function bu(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!ys(n,r)||!ys(s,l):!0}function dh(e,t,n){var r=!1,s=Ln,l=t.contextType;return typeof l=="object"&&l!==null?l=Et(l):(s=ot(t)?Kn:Xe.current,r=t.contextTypes,l=(r=r!=null)?jr(e,s):Ln),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function ju(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ya(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Et(l):(l=ot(t)?Kn:Xe.current,s.context=jr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Vo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ml.enqueueReplaceState(s,s.state,null),Vi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Cr(e,t){try{var n="",r=t;do n+=Sp(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function to(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var J0=typeof WeakMap=="function"?WeakMap:Map;function fh(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ji||(Ji=!0,sa=r),Qo(e,t)},n}function hh(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Qo(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Qo(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Nu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new J0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=dg.bind(null,e,t,n),t.then(e,e))}function Su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ku(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,Nn(n,t,1))),n.lanes|=1),e)}var X0=an.ReactCurrentOwner,it=!1;function Ze(e,t,n,r){t.child=e===null?$f(t,null,n,r):Sr(t,e.child,n,r)}function Cu(e,t,n,r,s){n=n.render;var l=t.ref;return yr(t,s),r=tc(e,t,n,r,l,s),n=nc(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,on(e,t,s)):(Ee&&n&&qa(t),t.flags|=1,Ze(e,t,r,s),t.child)}function _u(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!fc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,mh(e,t,l,r,s)):(e=Ni(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(o,r)&&e.ref===t.ref)return on(e,t,s)}return t.flags|=1,e=Cn(l,r),e.ref=t.ref,e.return=t,t.child=e}function mh(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(ys(l,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,on(e,t,s)}return Go(e,t,n,r,s)}function ph(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(hr,ht),ht|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(hr,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Se(hr,ht),ht|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Se(hr,ht),ht|=r;return Ze(e,t,s,n),t.child}function gh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Go(e,t,n,r,s){var l=ot(n)?Kn:Xe.current;return l=jr(t,l),yr(t,s),n=tc(e,t,n,r,l,s),r=nc(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,on(e,t,s)):(Ee&&r&&qa(t),t.flags|=1,Ze(e,t,n,s),t.child)}function Eu(e,t,n,r,s){if(ot(n)){var l=!0;Ii(t)}else l=!1;if(yr(t,s),t.stateNode===null)wi(e,t),dh(t,n,r),Ko(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=ot(n)?Kn:Xe.current,u=jr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ju(t,o,r,u),fn=!1;var p=t.memoizedState;o.state=p,Vi(t,r,o,s),c=t.memoizedState,a!==r||p!==c||lt.current||fn?(typeof d=="function"&&(Vo(t,n,d,r),c=t.memoizedState),(a=fn||bu(t,n,a,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Hf(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Lt(t.type,a),o.props=u,h=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Et(c):(c=ot(n)?Kn:Xe.current,c=jr(t,c));var N=n.getDerivedStateFromProps;(d=typeof N=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==c)&&ju(t,o,r,c),fn=!1,p=t.memoizedState,o.state=p,Vi(t,r,o,s);var v=t.memoizedState;a!==h||p!==v||lt.current||fn?(typeof N=="function"&&(Vo(t,n,N,r),v=t.memoizedState),(u=fn||bu(t,n,u,r,p,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Yo(e,t,n,r,l,s)}function Yo(e,t,n,r,s,l){gh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hu(t,n,!1),on(e,t,l);r=t.stateNode,X0.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Sr(t,e.child,null,l),t.child=Sr(t,null,a,l)):Ze(e,t,a,l),t.memoizedState=r.state,s&&hu(t,n,!0),t.child}function xh(e){var t=e.stateNode;t.pendingContext?fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fu(e,t.context,!1),Ja(e,t.containerInfo)}function Tu(e,t,n,r,s){return Nr(),Wa(s),t.flags|=256,Ze(e,t,n,r),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Xo(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,n){var r=t.pendingProps,s=Te.current,l=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Se(Te,s&1),e===null)return Ho(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=xl(o,r,0,null),e=Hn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Xo(n),t.memoizedState=Jo,e):ic(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Z0(e,t,o,r,a,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=Cn(a,l):(l=Hn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Xo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Jo,r}return l=e.child,e=l.sibling,r=Cn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ic(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ti(e,t,n,r){return r!==null&&Wa(r),Sr(t,e.child,null,n),e=ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Z0(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=to(Error(M(422))),ti(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=xl({mode:"visible",children:r.children},s,0,null),l=Hn(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Sr(t,e.child,null,o),t.child.memoizedState=Xo(o),t.memoizedState=Jo,l);if(!(t.mode&1))return ti(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(M(419)),r=to(l,r,void 0),ti(e,t,o,r)}if(a=(o&e.childLanes)!==0,it||a){if(r=He,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,ln(e,s),Mt(r,e,s,-1))}return dc(),r=to(Error(M(421))),ti(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fg.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,pt=jn(s.nextSibling),gt=t,Ee=!0,At=null,e!==null&&(jt[Nt++]=en,jt[Nt++]=tn,jt[Nt++]=Qn,en=e.id,tn=e.overflow,Qn=t),t=ic(t,r.children),t.flags|=4096,t)}function Ru(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wo(e.return,t,n)}function no(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function vh(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Ze(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ru(e,n,t);else if(e.tag===19)Ru(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(Te,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ki(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),no(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}no(t,!0,n,null,l);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eg(e,t,n){switch(t.tag){case 3:xh(t),Nr();break;case 5:Wf(t);break;case 1:ot(t.type)&&Ii(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Se(Hi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?yh(e,t,n):(Se(Te,Te.current&1),e=on(e,t,n),e!==null?e.sibling:null);Se(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,ph(e,t,n)}return on(e,t,n)}var wh,Zo,bh,jh;wh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zo=function(){};bh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,In(Wt.current);var l=null;switch(n){case"input":s=bo(e,s),r=bo(e,r),l=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),l=[];break;case"textarea":s=So(e,s),r=So(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ui)}Co(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ds.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ds.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ke("scroll",e),l||a===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};jh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function tg(e,t,n){var r=t.pendingProps;switch(Ha(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ot(t.type)&&Bi(),Ge(t),null;case 3:return r=t.stateNode,kr(),Ce(lt),Ce(Xe),Za(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(oa(At),At=null))),Zo(e,t),Ge(t),null;case 5:Xa(t);var s=In(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)bh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ge(t),null}if(e=In(Wt.current),Zs(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[qt]=t,r[bs]=l,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<Zr.length;s++)ke(Zr[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Uc(r,l),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ke("invalid",r);break;case"textarea":Ic(r,l),ke("invalid",r)}Co(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Xs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Xs(r.textContent,a,e),s=["children",""+a]):ds.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":Hs(r),Bc(r,l,!0);break;case"textarea":Hs(r),$c(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Ui)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qt]=t,e[bs]=r,wh(e,t,!1,!1),t.stateNode=e;e:{switch(o=_o(n,r),n){case"dialog":ke("cancel",e),ke("close",e),s=r;break;case"iframe":case"object":case"embed":ke("load",e),s=r;break;case"video":case"audio":for(s=0;s<Zr.length;s++)ke(Zr[s],e);s=r;break;case"source":ke("error",e),s=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=r;break;case"details":ke("toggle",e),s=r;break;case"input":Uc(e,r),s=bo(e,r),ke("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),ke("invalid",e);break;case"textarea":Ic(e,r),s=So(e,r),ke("invalid",e);break;default:s=r}Co(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="style"?Xd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yd(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fs(e,c):typeof c=="number"&&fs(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ds.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ke("scroll",e):c!=null&&Ta(e,l,c,o))}switch(n){case"input":Hs(e),Bc(e,r,!1);break;case"textarea":Hs(e),$c(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?mr(e,!!r.multiple,l,!1):r.defaultValue!=null&&mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ui)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)jh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=In(Ns.current),In(Wt.current),Zs(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(l=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xs(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ge(t),null;case 13:if(Ce(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&pt!==null&&t.mode&1&&!(t.flags&128))Bf(),Nr(),t.flags|=98560,l=!1;else if(l=Zs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(M(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(M(317));l[qt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),l=!1}else At!==null&&(oa(At),At=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?$e===0&&($e=3):dc())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return kr(),Zo(e,t),e===null&&vs(t.stateNode.containerInfo),Ge(t),null;case 10:return Qa(t.type._context),Ge(t),null;case 17:return ot(t.type)&&Bi(),Ge(t),null;case 19:if(Ce(Te),l=t.memoizedState,l===null)return Ge(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Vr(l,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ki(e),o!==null){for(t.flags|=128,Vr(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(Te,Te.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ae()>_r&&(t.flags|=128,r=!0,Vr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Ki(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Ee)return Ge(t),null}else 2*Ae()-l.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,r=!0,Vr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ae(),t.sibling=null,n=Te.current,Se(Te,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return uc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function ng(e,t){switch(Ha(t),t.tag){case 1:return ot(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kr(),Ce(lt),Ce(Xe),Za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xa(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return kr(),null;case 10:return Qa(t.type._context),null;case 22:case 23:return uc(),null;case 24:return null;default:return null}}var ni=!1,Ye=!1,rg=typeof WeakSet=="function"?WeakSet:Set,Y=null;function fr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(e,t,r)}else n.current=null}function ea(e,t,n){try{n()}catch(r){Oe(e,t,r)}}var Lu=!1;function sg(e,t){if(zo=Mi,e=_f(),$a(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var N;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==l||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(N=h.firstChild)!==null;)p=h,h=N;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=o),p===l&&++d===r&&(c=o),(N=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=N}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fo={focusedElem:e,selectionRange:n},Mi=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,j=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Lt(t.type,g),j);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(S){Oe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return v=Lu,Lu=!1,v}function os(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&ea(t,n,l)}s=s.next}while(s!==r)}}function pl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ta(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nh(e){var t=e.alternate;t!==null&&(e.alternate=null,Nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[bs],delete t[Io],delete t[B0],delete t[I0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sh(e){return e.tag===5||e.tag===3||e.tag===4}function Pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ui));else if(r!==4&&(e=e.child,e!==null))for(na(e,t,n),e=e.sibling;e!==null;)na(e,t,n),e=e.sibling}function ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ra(e,t,n),e=e.sibling;e!==null;)ra(e,t,n),e=e.sibling}var We=null,Pt=!1;function un(e,t,n){for(n=n.child;n!==null;)kh(e,t,n),n=n.sibling}function kh(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ol,n)}catch{}switch(n.tag){case 5:Ye||fr(n,t);case 6:var r=We,s=Pt;We=null,un(e,t,n),We=r,Pt=s,We!==null&&(Pt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Pt?(e=We,n=n.stateNode,e.nodeType===8?Gl(e.parentNode,n):e.nodeType===1&&Gl(e,n),gs(e)):Gl(We,n.stateNode));break;case 4:r=We,s=Pt,We=n.stateNode.containerInfo,Pt=!0,un(e,t,n),We=r,Pt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&ea(n,t,o),s=s.next}while(s!==r)}un(e,t,n);break;case 1:if(!Ye&&(fr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,t,a)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,un(e,t,n),Ye=r):un(e,t,n);break;default:un(e,t,n)}}function Ou(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rg),t.forEach(function(r){var s=hg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Pt=!1;break e;case 3:We=a.stateNode.containerInfo,Pt=!0;break e;case 4:We=a.stateNode.containerInfo,Pt=!0;break e}a=a.return}if(We===null)throw Error(M(160));kh(l,o,s),We=null,Pt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Oe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ch(t,e),t=t.sibling}function Ch(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Ut(e),r&4){try{os(3,e,e.return),pl(3,e)}catch(g){Oe(e,e.return,g)}try{os(5,e,e.return)}catch(g){Oe(e,e.return,g)}}break;case 1:Rt(t,e),Ut(e),r&512&&n!==null&&fr(n,n.return);break;case 5:if(Rt(t,e),Ut(e),r&512&&n!==null&&fr(n,n.return),e.flags&32){var s=e.stateNode;try{fs(s,"")}catch(g){Oe(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&Kd(s,l),_o(a,o);var u=_o(a,l);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Xd(s,h):d==="dangerouslySetInnerHTML"?Yd(s,h):d==="children"?fs(s,h):Ta(s,d,h,u)}switch(a){case"input":jo(s,l);break;case"textarea":Qd(s,l);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var N=l.value;N!=null?mr(s,!!l.multiple,N,!1):p!==!!l.multiple&&(l.defaultValue!=null?mr(s,!!l.multiple,l.defaultValue,!0):mr(s,!!l.multiple,l.multiple?[]:"",!1))}s[bs]=l}catch(g){Oe(e,e.return,g)}}break;case 6:if(Rt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(g){Oe(e,e.return,g)}}break;case 3:if(Rt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(g){Oe(e,e.return,g)}break;case 4:Rt(t,e),Ut(e);break;case 13:Rt(t,e),Ut(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(ac=Ae())),r&4&&Ou(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||d,Rt(t,e),Ye=u):Rt(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(h=Y=d;Y!==null;){switch(p=Y,N=p.child,p.tag){case 0:case 11:case 14:case 15:os(4,p,p.return);break;case 1:fr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Oe(r,n,g)}}break;case 5:fr(p,p.return);break;case 22:if(p.memoizedState!==null){Du(h);continue}}N!==null?(N.return=p,Y=N):Du(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Jd("display",o))}catch(g){Oe(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Oe(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Rt(t,e),Ut(e),r&4&&Ou(e);break;case 21:break;default:Rt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sh(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fs(s,""),r.flags&=-33);var l=Pu(e);ra(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Pu(e);na(e,a,o);break;default:throw Error(M(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ig(e,t,n){Y=e,_h(e)}function _h(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ni;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ye;a=ni;var u=Ye;if(ni=o,(Ye=c)&&!u)for(Y=s;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?Mu(s):c!==null?(c.return=o,Y=c):Mu(s);for(;l!==null;)Y=l,_h(l),l=l.sibling;Y=s,ni=a,Ye=u}Au(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Y=l):Au(e)}}function Au(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||pl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&yu(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&gs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Ye||t.flags&512&&ta(t)}catch(p){Oe(t,t.return,p)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Du(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Mu(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pl(4,t)}catch(c){Oe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Oe(t,s,c)}}var l=t.return;try{ta(t)}catch(c){Oe(t,l,c)}break;case 5:var o=t.return;try{ta(t)}catch(c){Oe(t,o,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var lg=Math.ceil,Yi=an.ReactCurrentDispatcher,lc=an.ReactCurrentOwner,_t=an.ReactCurrentBatchConfig,ye=0,He=null,Ue=null,Ve=0,ht=0,hr=On(0),$e=0,_s=null,Yn=0,gl=0,oc=0,as=null,st=null,ac=0,_r=1/0,Xt=null,Ji=!1,sa=null,Sn=null,ri=!1,gn=null,Xi=0,cs=0,ia=null,bi=-1,ji=0;function tt(){return ye&6?Ae():bi!==-1?bi:bi=Ae()}function kn(e){return e.mode&1?ye&2&&Ve!==0?Ve&-Ve:q0.transition!==null?(ji===0&&(ji=df()),ji):(e=be,e!==0||(e=window.event,e=e===void 0?16:yf(e.type)),e):1}function Mt(e,t,n,r){if(50<cs)throw cs=0,ia=null,Error(M(185));Ps(e,n,r),(!(ye&2)||e!==He)&&(e===He&&(!(ye&2)&&(gl|=n),$e===4&&mn(e,Ve)),at(e,r),n===1&&ye===0&&!(t.mode&1)&&(_r=Ae()+500,fl&&An()))}function at(e,t){var n=e.callbackNode;qp(e,t);var r=Di(e,e===He?Ve:0);if(r===0)n!==null&&Wc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wc(n),t===1)e.tag===0?$0(zu.bind(null,e)):zf(zu.bind(null,e)),F0(function(){!(ye&6)&&An()}),n=null;else{switch(ff(r)){case 1:n=Aa;break;case 4:n=cf;break;case 16:n=Ai;break;case 536870912:n=uf;break;default:n=Ai}n=Dh(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(bi=-1,ji=0,ye&6)throw Error(M(327));var n=e.callbackNode;if(vr()&&e.callbackNode!==n)return null;var r=Di(e,e===He?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zi(e,r);else{t=r;var s=ye;ye|=2;var l=Rh();(He!==e||Ve!==t)&&(Xt=null,_r=Ae()+500,qn(e,t));do try{cg();break}catch(a){Th(e,a)}while(!0);Ka(),Yi.current=l,ye=s,Ue!==null?t=0:(He=null,Ve=0,t=$e)}if(t!==0){if(t===2&&(s=Po(e),s!==0&&(r=s,t=la(e,s))),t===1)throw n=_s,qn(e,0),mn(e,r),at(e,Ae()),n;if(t===6)mn(e,r);else{if(s=e.current.alternate,!(r&30)&&!og(s)&&(t=Zi(e,r),t===2&&(l=Po(e),l!==0&&(r=l,t=la(e,l))),t===1))throw n=_s,qn(e,0),mn(e,r),at(e,Ae()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Fn(e,st,Xt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=ac+500-Ae(),10<t)){if(Di(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bo(Fn.bind(null,e,st,Xt),t);break}Fn(e,st,Xt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Dt(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lg(r/1960))-r,10<r){e.timeoutHandle=Bo(Fn.bind(null,e,st,Xt),r);break}Fn(e,st,Xt);break;case 5:Fn(e,st,Xt);break;default:throw Error(M(329))}}}return at(e,Ae()),e.callbackNode===n?Eh.bind(null,e):null}function la(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=st,st=n,t!==null&&oa(t)),e}function oa(e){st===null?st=e:st.push.apply(st,e)}function og(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!zt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~oc,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function zu(e){if(ye&6)throw Error(M(327));vr();var t=Di(e,0);if(!(t&1))return at(e,Ae()),null;var n=Zi(e,t);if(e.tag!==0&&n===2){var r=Po(e);r!==0&&(t=r,n=la(e,r))}if(n===1)throw n=_s,qn(e,0),mn(e,t),at(e,Ae()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fn(e,st,Xt),at(e,Ae()),null}function cc(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(_r=Ae()+500,fl&&An())}}function Jn(e){gn!==null&&gn.tag===0&&!(ye&6)&&vr();var t=ye;ye|=1;var n=_t.transition,r=be;try{if(_t.transition=null,be=1,e)return e()}finally{be=r,_t.transition=n,ye=t,!(ye&6)&&An()}}function uc(){ht=hr.current,Ce(hr)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,z0(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Ha(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:kr(),Ce(lt),Ce(Xe),Za();break;case 5:Xa(r);break;case 4:kr();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:Qa(r.type._context);break;case 22:case 23:uc()}n=n.return}if(He=e,Ue=e=Cn(e.current,null),Ve=ht=t,$e=0,_s=null,oc=gl=Yn=0,st=as=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}Bn=null}return e}function Th(e,t){do{var n=Ue;try{if(Ka(),yi.current=Gi,Qi){for(var r=Re.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qi=!1}if(Gn=0,qe=Ie=Re=null,ls=!1,Ss=0,lc.current=null,n===null||n.return===null){$e=1,_s=t,Ue=null;break}e:{var l=e,o=n.return,a=n,c=t;if(t=Ve,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var N=Su(o);if(N!==null){N.flags&=-257,ku(N,o,a,l,t),N.mode&1&&Nu(l,u,t),t=N,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){Nu(l,u,t),dc();break e}c=Error(M(426))}}else if(Ee&&a.mode&1){var j=Su(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ku(j,o,a,l,t),Wa(Cr(c,a));break e}}l=c=Cr(c,a),$e!==4&&($e=2),as===null?as=[l]:as.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=fh(l,c,t);xu(l,m);break e;case 1:a=c;var f=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sn===null||!Sn.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=hh(l,a,t);xu(l,S);break e}}l=l.return}while(l!==null)}Ph(n)}catch(k){t=k,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Rh(){var e=Yi.current;return Yi.current=Gi,e===null?Gi:e}function dc(){($e===0||$e===3||$e===2)&&($e=4),He===null||!(Yn&268435455)&&!(gl&268435455)||mn(He,Ve)}function Zi(e,t){var n=ye;ye|=2;var r=Rh();(He!==e||Ve!==t)&&(Xt=null,qn(e,t));do try{ag();break}catch(s){Th(e,s)}while(!0);if(Ka(),ye=n,Yi.current=r,Ue!==null)throw Error(M(261));return He=null,Ve=0,$e}function ag(){for(;Ue!==null;)Lh(Ue)}function cg(){for(;Ue!==null&&!Ap();)Lh(Ue)}function Lh(e){var t=Ah(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Ph(e):Ue=t,lc.current=null}function Ph(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ng(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ue=null;return}}else if(n=tg(n,t,ht),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);$e===0&&($e=5)}function Fn(e,t,n){var r=be,s=_t.transition;try{_t.transition=null,be=1,ug(e,t,n,r)}finally{_t.transition=s,be=r}return null}function ug(e,t,n,r){do vr();while(gn!==null);if(ye&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Hp(e,l),e===He&&(Ue=He=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ri||(ri=!0,Dh(Ai,function(){return vr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=_t.transition,_t.transition=null;var o=be;be=1;var a=ye;ye|=4,lc.current=null,sg(e,n),Ch(n,e),R0(Fo),Mi=!!zo,Fo=zo=null,e.current=n,ig(n),Dp(),ye=a,be=o,_t.transition=l}else e.current=n;if(ri&&(ri=!1,gn=e,Xi=s),l=e.pendingLanes,l===0&&(Sn=null),Fp(n.stateNode),at(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ji)throw Ji=!1,e=sa,sa=null,e;return Xi&1&&e.tag!==0&&vr(),l=e.pendingLanes,l&1?e===ia?cs++:(cs=0,ia=e):cs=0,An(),null}function vr(){if(gn!==null){var e=ff(Xi),t=_t.transition,n=be;try{if(_t.transition=null,be=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Xi=0,ye&6)throw Error(M(331));var s=ye;for(ye|=4,Y=e.current;Y!==null;){var l=Y,o=l.child;if(Y.flags&16){var a=l.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:os(8,d,l)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var p=d.sibling,N=d.return;if(Nh(d),d===u){Y=null;break}if(p!==null){p.return=N,Y=p;break}Y=N}}}var v=l.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var j=g.sibling;g.sibling=null,g=j}while(g!==null)}}Y=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,Y=o;else e:for(;Y!==null;){if(l=Y,l.flags&2048)switch(l.tag){case 0:case 11:case 15:os(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,Y=m;break e}Y=l.return}}var f=e.current;for(Y=f;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=f;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:pl(9,a)}}catch(k){Oe(a,a.return,k)}if(a===o){Y=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Y=S;break e}Y=a.return}}if(ye=s,An(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ol,e)}catch{}r=!0}return r}finally{be=n,_t.transition=t}}return!1}function Fu(e,t,n){t=Cr(n,t),t=fh(e,t,1),e=Nn(e,t,1),t=tt(),e!==null&&(Ps(e,1,t),at(e,t))}function Oe(e,t,n){if(e.tag===3)Fu(e,e,n);else for(;t!==null;){if(t.tag===3){Fu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Cr(n,e),e=hh(t,e,1),t=Nn(t,e,1),e=tt(),t!==null&&(Ps(t,1,e),at(t,e));break}}t=t.return}}function dg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ve&n)===n&&($e===4||$e===3&&(Ve&130023424)===Ve&&500>Ae()-ac?qn(e,0):oc|=n),at(e,t)}function Oh(e,t){t===0&&(e.mode&1?(t=Ks,Ks<<=1,!(Ks&130023424)&&(Ks=4194304)):t=1);var n=tt();e=ln(e,t),e!==null&&(Ps(e,t,n),at(e,n))}function fg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oh(e,n)}function hg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Oh(e,n)}var Ah;Ah=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,eg(e,t,n);it=!!(e.flags&131072)}else it=!1,Ee&&t.flags&1048576&&Ff(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wi(e,t),e=t.pendingProps;var s=jr(t,Xe.current);yr(t,n),s=tc(null,t,r,e,s,n);var l=nc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(r)?(l=!0,Ii(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ya(t),s.updater=ml,t.stateNode=s,s._reactInternals=t,Ko(t,r,e,n),t=Yo(null,t,r,!0,l,n)):(t.tag=0,Ee&&l&&qa(t),Ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=pg(r),e=Lt(r,e),s){case 0:t=Go(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=Cu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,Lt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Go(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Eu(e,t,r,s,n);case 3:e:{if(xh(t),e===null)throw Error(M(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Hf(e,t),Vi(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Cr(Error(M(423)),t),t=Tu(e,t,r,n,s);break e}else if(r!==s){s=Cr(Error(M(424)),t),t=Tu(e,t,r,n,s);break e}else for(pt=jn(t.stateNode.containerInfo.firstChild),gt=t,Ee=!0,At=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===s){t=on(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Wf(t),e===null&&Ho(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,Uo(r,s)?o=null:l!==null&&Uo(r,l)&&(t.flags|=32),gh(e,t),Ze(e,t,o,n),t.child;case 6:return e===null&&Ho(t),null;case 13:return yh(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Sr(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Cu(e,t,r,s,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,Se(Hi,r._currentValue),r._currentValue=o,l!==null)if(zt(l.value,o)){if(l.children===s.children&&!lt.current){t=on(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=nn(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Wo(l.return,n,t),a.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wo(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,yr(t,n),s=Et(s),r=r(s),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,s=Lt(r,t.pendingProps),s=Lt(r.type,s),_u(e,t,r,s,n);case 15:return mh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),wi(e,t),t.tag=1,ot(r)?(e=!0,Ii(t)):e=!1,yr(t,n),dh(t,r,s),Ko(t,r,s,n),Yo(null,t,r,!0,e,n);case 19:return vh(e,t,n);case 22:return ph(e,t,n)}throw Error(M(156,t.tag))};function Dh(e,t){return af(e,t)}function mg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,r){return new mg(e,t,n,r)}function fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pg(e){if(typeof e=="function")return fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===La)return 11;if(e===Pa)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ni(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")fc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rr:return Hn(n.children,s,l,t);case Ra:o=8,s|=8;break;case xo:return e=kt(12,n,t,s|2),e.elementType=xo,e.lanes=l,e;case yo:return e=kt(13,n,t,s),e.elementType=yo,e.lanes=l,e;case vo:return e=kt(19,n,t,s),e.elementType=vo,e.lanes=l,e;case Hd:return xl(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $d:o=10;break e;case qd:o=9;break e;case La:o=11;break e;case Pa:o=14;break e;case dn:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=kt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Hn(e,t,n,r){return e=kt(7,e,r,t),e.lanes=n,e}function xl(e,t,n,r){return e=kt(22,e,r,t),e.elementType=Hd,e.lanes=n,e.stateNode={isHidden:!1},e}function ro(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function so(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function gg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hc(e,t,n,r,s,l,o,a,c){return e=new gg(e,t,n,a,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=kt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ya(l),e}function xg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mh(e){if(!e)return Ln;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(ot(n))return Mf(e,n,t)}return t}function zh(e,t,n,r,s,l,o,a,c){return e=hc(n,r,!0,e,s,l,o,a,c),e.context=Mh(null),n=e.current,r=tt(),s=kn(n),l=nn(r,s),l.callback=t??null,Nn(n,l,s),e.current.lanes=s,Ps(e,s,r),at(e,r),e}function yl(e,t,n,r){var s=t.current,l=tt(),o=kn(s);return n=Mh(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nn(s,t,o),e!==null&&(Mt(e,s,o,l),xi(e,s,o)),o}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mc(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}function yg(){return null}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function pc(e){this._internalRoot=e}vl.prototype.render=pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));yl(e,t,null,null)};vl.prototype.unmount=pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jn(function(){yl(null,e,null,null)}),t[sn]=null}};function vl(e){this._internalRoot=e}vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&xf(e)}};function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bu(){}function vg(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var u=el(o);l.call(u)}}var o=zh(t,r,e,0,null,!1,!1,"",Bu);return e._reactRootContainer=o,e[sn]=o.current,vs(e.nodeType===8?e.parentNode:e),Jn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=el(c);a.call(u)}}var c=hc(e,0,!1,null,null,!1,!1,"",Bu);return e._reactRootContainer=c,e[sn]=c.current,vs(e.nodeType===8?e.parentNode:e),Jn(function(){yl(t,c,n,r)}),c}function bl(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var a=s;s=function(){var c=el(o);a.call(c)}}yl(t,o,e,s)}else o=vg(n,t,e,s,r);return el(o)}hf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xr(t.pendingLanes);n!==0&&(Da(t,n|1),at(t,Ae()),!(ye&6)&&(_r=Ae()+500,An()))}break;case 13:Jn(function(){var r=ln(e,1);if(r!==null){var s=tt();Mt(r,e,1,s)}}),mc(e,1)}};Ma=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=tt();Mt(t,e,134217728,n)}mc(e,134217728)}};mf=function(e){if(e.tag===13){var t=kn(e),n=ln(e,t);if(n!==null){var r=tt();Mt(n,e,t,r)}mc(e,t)}};pf=function(){return be};gf=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};To=function(e,t,n){switch(t){case"input":if(jo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=dl(r);if(!s)throw Error(M(90));Vd(r),jo(r,s)}}}break;case"textarea":Qd(e,n);break;case"select":t=n.value,t!=null&&mr(e,!!n.multiple,t,!1)}};tf=cc;nf=Jn;var wg={usingClientEntryPoint:!1,Events:[As,or,dl,Zd,ef,cc]},Kr={findFiberByHostInstance:Un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bg={bundleType:Kr.bundleType,version:Kr.version,rendererPackageName:Kr.rendererPackageName,rendererConfig:Kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lf(e),e===null?null:e.stateNode},findFiberByHostInstance:Kr.findFiberByHostInstance||yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!si.isDisabled&&si.supportsFiber)try{ol=si.inject(bg),Ht=si}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(t))throw Error(M(200));return xg(e,t,null,n)};yt.createRoot=function(e,t){if(!gc(e))throw Error(M(299));var n=!1,r="",s=Fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hc(e,1,!1,null,null,n,!1,r,s),e[sn]=t.current,vs(e.nodeType===8?e.parentNode:e),new pc(t)};yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=lf(t),e=e===null?null:e.stateNode,e};yt.flushSync=function(e){return Jn(e)};yt.hydrate=function(e,t,n){if(!wl(t))throw Error(M(200));return bl(null,e,t,!0,n)};yt.hydrateRoot=function(e,t,n){if(!gc(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=Fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zh(t,null,e,1,n??null,s,!1,l,o),e[sn]=t.current,vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vl(t)};yt.render=function(e,t,n){if(!wl(t))throw Error(M(200));return bl(null,e,t,!1,n)};yt.unmountComponentAtNode=function(e){if(!wl(e))throw Error(M(40));return e._reactRootContainer?(Jn(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};yt.unstable_batchedUpdates=cc;yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return bl(e,t,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function Uh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uh)}catch(e){console.error(e)}}Uh(),Fd.exports=yt;var jg=Fd.exports,Iu=jg;po.createRoot=Iu.createRoot,po.hydrateRoot=Iu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(this,arguments)}var xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xn||(xn={}));const $u="popstate";function Ng(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:o,hash:a}=r.location;return aa("",{pathname:l,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tl(s)}return kg(t,n,null,e)}function De(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sg(){return Math.random().toString(36).substr(2,8)}function qu(e,t){return{usr:e.state,key:e.key,idx:t}}function aa(e,t,n,r){return n===void 0&&(n=null),Es({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Or(t):t,{state:n,key:t&&t.key||r||Sg()})}function tl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Or(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,o=s.history,a=xn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Es({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=xn.Pop;let j=d(),m=j==null?null:j-u;u=j,c&&c({action:a,location:g.location,delta:m})}function p(j,m){a=xn.Push;let f=aa(g.location,j,m);u=d()+1;let x=qu(f,u),S=g.createHref(f);try{o.pushState(x,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(S)}l&&c&&c({action:a,location:g.location,delta:1})}function N(j,m){a=xn.Replace;let f=aa(g.location,j,m);u=d();let x=qu(f,u),S=g.createHref(f);o.replaceState(x,"",S),l&&c&&c({action:a,location:g.location,delta:0})}function v(j){let m=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof j=="string"?j:tl(j);return f=f.replace(/ $/,"%20"),De(m,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,m)}let g={get action(){return a},get location(){return e(s,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($u,h),c=j,()=>{s.removeEventListener($u,h),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let m=v(j);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:N,go(j){return o.go(j)}};return g}var Hu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hu||(Hu={}));function Cg(e,t,n){return n===void 0&&(n="/"),_g(e,t,n)}function _g(e,t,n,r){let s=typeof t=="string"?Or(t):t,l=xc(s.pathname||"/",n);if(l==null)return null;let o=Ih(e);Eg(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Bg(l);a=zg(o[c],u)}return a}function Ih(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,o,a)=>{let c={relativePath:a===void 0?l.path||"":a,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=_n([r,c.relativePath]),d=n.concat(c);l.children&&l.children.length>0&&(De(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ih(l.children,t,d,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Dg(u,l.index),routesMeta:d})};return e.forEach((l,o)=>{var a;if(l.path===""||!((a=l.path)!=null&&a.includes("?")))s(l,o);else for(let c of $h(l.path))s(l,o,c)}),t}function $h(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let o=$h(r.join("/")),a=[];return a.push(...o.map(c=>c===""?l:[l,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Eg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Mg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Tg=/^:[\w-]+$/,Rg=3,Lg=2,Pg=1,Og=10,Ag=-2,Wu=e=>e==="*";function Dg(e,t){let n=e.split("/"),r=n.length;return n.some(Wu)&&(r+=Ag),t&&(r+=Lg),n.filter(s=>!Wu(s)).reduce((s,l)=>s+(Tg.test(l)?Rg:l===""?Pg:Og),r)}function Mg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function zg(e,t,n){let{routesMeta:r}=e,s={},l="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=l==="/"?t:t.slice(l.length)||"/",h=Fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:_n([l,h.pathname]),pathnameBase:Hg(_n([l,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(l=_n([l,h.pathnameBase]))}return o}function Fg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ug(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],o=l.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:N}=d;if(p==="*"){let g=a[h]||"";o=l.slice(0,l.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[h];return N&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:e}}function Ug(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Bh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Bg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ig(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Or(e):e;return{pathname:n?n.startsWith("/")?n:$g(n,t):t,search:Wg(r),hash:Vg(s)}}function $g(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function io(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yc(e,t){let n=qg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Or(e):(s=Es({},e),De(!s.pathname||!s.pathname.includes("?"),io("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),io("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),io("#","search","hash",s)));let l=e===""||s.pathname==="",o=l?"/":s.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let c=Ig(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(l||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const _n=e=>e.join("/").replace(/\/\/+/g,"/"),Hg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qh=["post","put","patch","delete"];new Set(qh);const Qg=["get",...qh];new Set(Qg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ts.apply(this,arguments)}const wc=y.createContext(null),Gg=y.createContext(null),Dn=y.createContext(null),jl=y.createContext(null),Mn=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Hh=y.createContext(null);function Yg(e,t){let{relative:n}=t===void 0?{}:t;Ar()||De(!1);let{basename:r,navigator:s}=y.useContext(Dn),{hash:l,pathname:o,search:a}=Vh(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:_n([r,o])),s.createHref({pathname:c,search:a,hash:l})}function Ar(){return y.useContext(jl)!=null}function cn(){return Ar()||De(!1),y.useContext(jl).location}function Wh(e){y.useContext(Dn).static||y.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=y.useContext(Mn);return e?cx():Jg()}function Jg(){Ar()||De(!1);let e=y.useContext(wc),{basename:t,future:n,navigator:r}=y.useContext(Dn),{matches:s}=y.useContext(Mn),{pathname:l}=cn(),o=JSON.stringify(yc(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return Wh(()=>{a.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=vc(u,JSON.parse(o),l,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:_n([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,l,e])}function Vh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Dn),{matches:s}=y.useContext(Mn),{pathname:l}=cn(),o=JSON.stringify(yc(s,r.v7_relativeSplatPath));return y.useMemo(()=>vc(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function Xg(e,t){return Zg(e,t)}function Zg(e,t,n,r){Ar()||De(!1);let{navigator:s}=y.useContext(Dn),{matches:l}=y.useContext(Mn),o=l[l.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=cn(),d;if(t){var h;let j=typeof t=="string"?Or(t):t;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||De(!1),d=j}else d=u;let p=d.pathname||"/",N=p;if(c!=="/"){let j=c.replace(/^\//,"").split("/");N="/"+p.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=Cg(e,{pathname:N}),g=sx(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},a,j.params),pathname:_n([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:_n([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,r);return t&&g?y.createElement(jl.Provider,{value:{location:Ts({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xn.Pop}},g):g}function ex(){let e=ax(),t=Kg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,null)}const tx=y.createElement(ex,null);class nx extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Mn.Provider,{value:this.props.routeContext},y.createElement(Hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rx(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(wc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Mn.Provider,{value:t},r)}function sx(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:N}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!N||N[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let N,v=!1,g=null,j=null;n&&(N=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||tx,c&&(u<0&&p===0?(ux("route-fallback"),v=!0,j=null):u===p&&(v=!0,j=h.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),f=()=>{let x;return N?x=g:v?x=j:h.route.Component?x=y.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,y.createElement(rx,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:x})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(nx,{location:n.location,revalidation:n.revalidation,component:g,error:N,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}var Kh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kh||{}),Qh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qh||{});function ix(e){let t=y.useContext(wc);return t||De(!1),t}function lx(e){let t=y.useContext(Gg);return t||De(!1),t}function ox(e){let t=y.useContext(Mn);return t||De(!1),t}function Gh(e){let t=ox(),n=t.matches[t.matches.length-1];return n.route.id||De(!1),n.route.id}function ax(){var e;let t=y.useContext(Hh),n=lx(),r=Gh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function cx(){let{router:e}=ix(Kh.UseNavigateStable),t=Gh(Qh.UseNavigateStable),n=y.useRef(!1);return Wh(()=>{n.current=!0}),y.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ts({fromRouteId:t},l)))},[e,t])}const Vu={};function ux(e,t,n){Vu[e]||(Vu[e]=!0)}function dx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ii(e){let{to:t,replace:n,state:r,relative:s}=e;Ar()||De(!1);let{future:l,static:o}=y.useContext(Dn),{matches:a}=y.useContext(Mn),{pathname:c}=cn(),u=Qt(),d=vc(t,yc(a,l.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Fe(e){De(!1)}function fx(e){let{basename:t="/",children:n=null,location:r,navigationType:s=xn.Pop,navigator:l,static:o=!1,future:a}=e;Ar()&&De(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:l,static:o,future:Ts({v7_relativeSplatPath:!1},a)}),[c,a,l,o]);typeof r=="string"&&(r=Or(r));let{pathname:d="/",search:h="",hash:p="",state:N=null,key:v="default"}=r,g=y.useMemo(()=>{let j=xc(d,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:N,key:v},navigationType:s}},[c,d,h,p,N,v,s]);return g==null?null:y.createElement(Dn.Provider,{value:u},y.createElement(jl.Provider,{children:n,value:g}))}function li(e){let{children:t,location:n}=e;return Xg(ca(t),n)}new Promise(()=>{});function ca(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let l=[...t,s];if(r.type===y.Fragment){n.push.apply(n,ca(r.props.children,l));return}r.type!==Fe&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ca(r.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ua.apply(this,arguments)}function hx(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function mx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function px(e,t){return e.button===0&&(!t||t==="_self")&&!mx(e)}function da(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function gx(e,t){let n=da(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(l=>{n.append(s,l)})}),n}const xx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yx="6";try{window.__reactRouterVersion=yx}catch{}const vx="startTransition",Ku=dp[vx];function wx(e){let{basename:t,children:n,future:r,window:s}=e,l=y.useRef();l.current==null&&(l.current=Ng({window:s,v5Compat:!0}));let o=l.current,[a,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(h=>{u&&Ku?Ku(()=>c(h)):c(h)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>dx(r),[r]),y.createElement(fx,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=hx(t,xx),{basename:N}=y.useContext(Dn),v,g=!1;if(typeof u=="string"&&jx.test(u)&&(v=u,bx))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=xc(S.pathname,N);S.origin===x.origin&&k!=null?u=k+S.search+S.hash:g=!0}catch{}let j=Yg(u,{relative:s}),m=Nx(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:h});function f(x){r&&r(x),x.defaultPrevented||m(x)}return y.createElement("a",ua({},p,{href:v||j,onClick:g||l?r:f,ref:n,target:c}))});var Qu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qu||(Qu={}));var Gu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gu||(Gu={}));function Nx(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:o,viewTransition:a}=t===void 0?{}:t,c=Qt(),u=cn(),d=Vh(e,{relative:o});return y.useCallback(h=>{if(px(h,n)){h.preventDefault();let p=r!==void 0?r:tl(u)===tl(d);c(e,{replace:p,state:s,preventScrollReset:l,relative:o,viewTransition:a})}},[u,c,d,r,s,n,e,l,o,a])}function Sx(e){let t=y.useRef(da(e)),n=y.useRef(!1),r=cn(),s=y.useMemo(()=>gx(r.search,n.current?null:t.current),[r.search]),l=Qt(),o=y.useCallback((a,c)=>{const u=da(typeof a=="function"?a(s):a);n.current=!0,l("?"+u,c)},[l,s]);return[s,o]}function Yh(e,t){return function(){return e.apply(t,arguments)}}const{toString:kx}=Object.prototype,{getPrototypeOf:bc}=Object,{iterator:Nl,toStringTag:Jh}=Symbol,Sl=(e=>t=>{const n=kx.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ft=e=>(e=e.toLowerCase(),t=>Sl(t)===e),kl=e=>t=>typeof t===e,{isArray:Dr}=Array,Er=kl("undefined");function Ms(e){return e!==null&&!Er(e)&&e.constructor!==null&&!Er(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xh=Ft("ArrayBuffer");function Cx(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xh(e.buffer),t}const _x=kl("string"),ct=kl("function"),Zh=kl("number"),zs=e=>e!==null&&typeof e=="object",Ex=e=>e===!0||e===!1,Si=e=>{if(Sl(e)!=="object")return!1;const t=bc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jh in e)&&!(Nl in e)},Tx=e=>{if(!zs(e)||Ms(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Rx=Ft("Date"),Lx=Ft("File"),Px=Ft("Blob"),Ox=Ft("FileList"),Ax=e=>zs(e)&&ct(e.pipe),Dx=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Sl(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},Mx=Ft("URLSearchParams"),[zx,Fx,Ux,Bx]=["ReadableStream","Request","Response","Headers"].map(Ft),Ix=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Dr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ms(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),o=l.length;let a;for(r=0;r<o;r++)a=l[r],t.call(null,e[a],a,e)}}function em(e,t){if(Ms(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const $n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tm=e=>!Er(e)&&e!==$n;function fa(){const{caseless:e,skipUndefined:t}=tm(this)&&this||{},n={},r=(s,l)=>{const o=e&&em(n,l)||l;Si(n[o])&&Si(s)?n[o]=fa(n[o],s):Si(s)?n[o]=fa({},s):Dr(s)?n[o]=s.slice():(!t||!Er(s))&&(n[o]=s)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Fs(arguments[s],r);return n}const $x=(e,t,n,{allOwnKeys:r}={})=>(Fs(t,(s,l)=>{n&&ct(s)?e[l]=Yh(s,n):e[l]=s},{allOwnKeys:r}),e),qx=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hx=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Wx=(e,t,n,r)=>{let s,l,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)o=s[l],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&bc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Vx=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Kx=e=>{if(!e)return null;if(Dr(e))return e;let t=e.length;if(!Zh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Qx=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bc(Uint8Array)),Gx=(e,t)=>{const r=(e&&e[Nl]).call(e);let s;for(;(s=r.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},Yx=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Jx=Ft("HTMLFormElement"),Xx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Yu=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zx=Ft("RegExp"),nm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fs(n,(s,l)=>{let o;(o=t(s,l,e))!==!1&&(r[l]=o||s)}),Object.defineProperties(e,r)},ey=e=>{nm(e,(t,n)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ct(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ty=(e,t)=>{const n={},r=s=>{s.forEach(l=>{n[l]=!0})};return Dr(e)?r(e):r(String(e).split(t)),n},ny=()=>{},ry=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sy(e){return!!(e&&ct(e.append)&&e[Jh]==="FormData"&&e[Nl])}const iy=e=>{const t=new Array(10),n=(r,s)=>{if(zs(r)){if(t.indexOf(r)>=0)return;if(Ms(r))return r;if(!("toJSON"in r)){t[s]=r;const l=Dr(r)?[]:{};return Fs(r,(o,a)=>{const c=n(o,s+1);!Er(c)&&(l[a]=c)}),t[s]=void 0,l}}return r};return n(e,0)},ly=Ft("AsyncFunction"),oy=e=>e&&(zs(e)||ct(e))&&ct(e.then)&&ct(e.catch),rm=((e,t)=>e?setImmediate:t?((n,r)=>($n.addEventListener("message",({source:s,data:l})=>{s===$n&&l===n&&r.length&&r.shift()()},!1),s=>{r.push(s),$n.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct($n.postMessage)),ay=typeof queueMicrotask<"u"?queueMicrotask.bind($n):typeof process<"u"&&process.nextTick||rm,cy=e=>e!=null&&ct(e[Nl]),C={isArray:Dr,isArrayBuffer:Xh,isBuffer:Ms,isFormData:Dx,isArrayBufferView:Cx,isString:_x,isNumber:Zh,isBoolean:Ex,isObject:zs,isPlainObject:Si,isEmptyObject:Tx,isReadableStream:zx,isRequest:Fx,isResponse:Ux,isHeaders:Bx,isUndefined:Er,isDate:Rx,isFile:Lx,isBlob:Px,isRegExp:Zx,isFunction:ct,isStream:Ax,isURLSearchParams:Mx,isTypedArray:Qx,isFileList:Ox,forEach:Fs,merge:fa,extend:$x,trim:Ix,stripBOM:qx,inherits:Hx,toFlatObject:Wx,kindOf:Sl,kindOfTest:Ft,endsWith:Vx,toArray:Kx,forEachEntry:Gx,matchAll:Yx,isHTMLForm:Jx,hasOwnProperty:Yu,hasOwnProp:Yu,reduceDescriptors:nm,freezeMethods:ey,toObjectSet:ty,toCamelCase:Xx,noop:ny,toFiniteNumber:ry,findKey:em,global:$n,isContextDefined:tm,isSpecCompliantForm:sy,toJSONObject:iy,isAsyncFn:ly,isThenable:oy,setImmediate:rm,asap:ay,isIterable:cy};function ae(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}C.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const sm=ae.prototype,im={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{im[e]={value:e}});Object.defineProperties(ae,im);Object.defineProperty(sm,"isAxiosError",{value:!0});ae.from=(e,t,n,r,s,l)=>{const o=Object.create(sm);C.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ae.call(o,a,c,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",l&&Object.assign(o,l),o};const uy=null;function ha(e){return C.isPlainObject(e)||C.isArray(e)}function lm(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function Ju(e,t,n){return e?e.concat(t).map(function(s,l){return s=lm(s),!n&&l?"["+s+"]":s}).join(n?".":""):t}function dy(e){return C.isArray(e)&&!e.some(ha)}const fy=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function Cl(e,t,n){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,j){return!C.isUndefined(j[g])});const r=n.metaTokens,s=n.visitor||d,l=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(C.isDate(v))return v.toISOString();if(C.isBoolean(v))return v.toString();if(!c&&C.isBlob(v))throw new ae("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(v)||C.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,g,j){let m=v;if(v&&!j&&typeof v=="object"){if(C.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(C.isArray(v)&&dy(v)||(C.isFileList(v)||C.endsWith(g,"[]"))&&(m=C.toArray(v)))return g=lm(g),m.forEach(function(x,S){!(C.isUndefined(x)||x===null)&&t.append(o===!0?Ju([g],S,l):o===null?g:g+"[]",u(x))}),!1}return ha(v)?!0:(t.append(Ju(j,g,l),u(v)),!1)}const h=[],p=Object.assign(fy,{defaultVisitor:d,convertValue:u,isVisitable:ha});function N(v,g){if(!C.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(v),C.forEach(v,function(m,f){(!(C.isUndefined(m)||m===null)&&s.call(t,m,C.isString(f)?f.trim():f,g,p))===!0&&N(m,g?g.concat(f):[f])}),h.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return N(e),t}function Xu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jc(e,t){this._pairs=[],e&&Cl(e,this,t)}const om=jc.prototype;om.append=function(t,n){this._pairs.push([t,n])};om.toString=function(t){const n=t?function(r){return t.call(this,r,Xu)}:Xu;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function hy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function am(e,t,n){if(!t)return e;const r=n&&n.encode||hy;C.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(t,n):l=C.isURLSearchParams(t)?t.toString():new jc(t,n).toString(r),l){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Zu{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},my=typeof URLSearchParams<"u"?URLSearchParams:jc,py=typeof FormData<"u"?FormData:null,gy=typeof Blob<"u"?Blob:null,xy={isBrowser:!0,classes:{URLSearchParams:my,FormData:py,Blob:gy},protocols:["http","https","file","blob","url","data"]},Nc=typeof window<"u"&&typeof document<"u",ma=typeof navigator=="object"&&navigator||void 0,yy=Nc&&(!ma||["ReactNative","NativeScript","NS"].indexOf(ma.product)<0),vy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wy=Nc&&window.location.href||"http://localhost",by=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nc,hasStandardBrowserEnv:yy,hasStandardBrowserWebWorkerEnv:vy,navigator:ma,origin:wy},Symbol.toStringTag,{value:"Module"})),Je={...by,...xy};function jy(e,t){return Cl(e,new Je.classes.URLSearchParams,{visitor:function(n,r,s,l){return Je.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Ny(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sy(e){const t={},n=Object.keys(e);let r;const s=n.length;let l;for(r=0;r<s;r++)l=n[r],t[l]=e[l];return t}function um(e){function t(n,r,s,l){let o=n[l++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=l>=n.length;return o=!o&&C.isArray(s)?s.length:o,c?(C.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!C.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],l)&&C.isArray(s[o])&&(s[o]=Sy(s[o])),!a)}if(C.isFormData(e)&&C.isFunction(e.entries)){const n={};return C.forEachEntry(e,(r,s)=>{t(Ny(r),s,n,0)}),n}return null}function ky(e,t,n){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Us={transitional:cm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,l=C.isObject(t);if(l&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return s?JSON.stringify(um(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t)||C.isReadableStream(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jy(t,this.formSerializer).toString();if((a=C.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Cl(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),ky(t)):t}],transformResponse:[function(t){const n=this.transitional||Us.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(C.isResponse(t)||C.isReadableStream(t))return t;if(t&&C.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ae.from(a,ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{Us.headers[e]={}});const Cy=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_y=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&Cy[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ed=Symbol("internals");function Qr(e){return e&&String(e).trim().toLowerCase()}function ki(e){return e===!1||e==null?e:C.isArray(e)?e.map(ki):String(e)}function Ey(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Ty=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lo(e,t,n,r,s){if(C.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!C.isString(t)){if(C.isString(r))return t.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(t)}}function Ry(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Ly(e,t){const n=C.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,l,o){return this[r].call(this,t,s,l,o)},configurable:!0})})}let ut=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function l(a,c,u){const d=Qr(c);if(!d)throw new Error("header name must be a non-empty string");const h=C.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=ki(a))}const o=(a,c)=>C.forEach(a,(u,d)=>l(u,d,c));if(C.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(C.isString(t)&&(t=t.trim())&&!Ty(t))o(_y(t),n);else if(C.isObject(t)&&C.isIterable(t)){let a={},c,u;for(const d of t){if(!C.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?C.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,n)}else t!=null&&l(n,t,r);return this}get(t,n){if(t=Qr(t),t){const r=C.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Ey(s);if(C.isFunction(n))return n.call(this,s,r);if(C.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qr(t),t){const r=C.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||lo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function l(o){if(o=Qr(o),o){const a=C.findKey(r,o);a&&(!n||lo(r,r[a],a,n))&&(delete r[a],s=!0)}}return C.isArray(t)?t.forEach(l):l(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const l=n[r];(!t||lo(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const n=this,r={};return C.forEach(this,(s,l)=>{const o=C.findKey(r,l);if(o){n[o]=ki(s),delete n[l];return}const a=t?Ry(l):String(l).trim();a!==l&&delete n[l],n[a]=ki(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return C.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ed]=this[ed]={accessors:{}}).accessors,s=this.prototype;function l(o){const a=Qr(o);r[a]||(Ly(s,o),r[a]=!0)}return C.isArray(t)?t.forEach(l):l(t),this}};ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(ut.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});C.freezeMethods(ut);function oo(e,t){const n=this||Us,r=t||n,s=ut.from(r.headers);let l=r.data;return C.forEach(e,function(a){l=a.call(n,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function dm(e){return!!(e&&e.__CANCEL__)}function Mr(e,t,n){ae.call(this,e??"canceled",ae.ERR_CANCELED,t,n),this.name="CanceledError"}C.inherits(Mr,ae,{__CANCEL__:!0});function fm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Py(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Oy(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,l=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[l];o||(o=u),n[s]=c,r[s]=u;let h=l,p=0;for(;h!==s;)p+=n[h++],h=h%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),u-o<t)return;const N=d&&u-d;return N?Math.round(p*1e3/N):void 0}}function Ay(e,t){let n=0,r=1e3/t,s,l;const o=(u,d=Date.now())=>{n=d,s=null,l&&(clearTimeout(l),l=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(s=u,l||(l=setTimeout(()=>{l=null,o(s)},r-h)))},()=>s&&o(s)]}const nl=(e,t,n=3)=>{let r=0;const s=Oy(50,250);return Ay(l=>{const o=l.loaded,a=l.lengthComputable?l.total:void 0,c=o-r,u=s(c),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:l,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},n)},td=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nd=e=>(...t)=>C.asap(()=>e(...t)),Dy=Je.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Je.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,My=Je.hasStandardBrowserEnv?{write(e,t,n,r,s,l,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];C.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),C.isString(r)&&a.push(`path=${r}`),C.isString(s)&&a.push(`domain=${s}`),l===!0&&a.push("secure"),C.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function zy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Fy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hm(e,t,n){let r=!zy(t);return e&&(r||n==!1)?Fy(e,t):t}const rd=e=>e instanceof ut?{...e}:e;function Xn(e,t){t=t||{};const n={};function r(u,d,h,p){return C.isPlainObject(u)&&C.isPlainObject(d)?C.merge.call({caseless:p},u,d):C.isPlainObject(d)?C.merge({},d):C.isArray(d)?d.slice():d}function s(u,d,h,p){if(C.isUndefined(d)){if(!C.isUndefined(u))return r(void 0,u,h,p)}else return r(u,d,h,p)}function l(u,d){if(!C.isUndefined(d))return r(void 0,d)}function o(u,d){if(C.isUndefined(d)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>s(rd(u),rd(d),h,!0)};return C.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||s,p=h(e[d],t[d],d);C.isUndefined(p)&&h!==a||(n[d]=p)}),n}const mm=e=>{const t=Xn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:l,headers:o,auth:a}=t;if(t.headers=o=ut.from(o),t.url=am(hm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),C.isFormData(n)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(C.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(Je.hasStandardBrowserEnv&&(r&&C.isFunction(r)&&(r=r(t)),r||r!==!1&&Dy(t.url))){const c=s&&l&&My.read(l);c&&o.set(s,c)}return t},Uy=typeof XMLHttpRequest<"u",By=Uy&&function(e){return new Promise(function(n,r){const s=mm(e);let l=s.data;const o=ut.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,h,p,N,v;function g(){N&&N(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function m(){if(!j)return;const x=ut.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:x,config:e,request:j};fm(function(L){n(L),g()},function(L){r(L),g()},k),j=null}"onloadend"in j?j.onloadend=m:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(m)},j.onabort=function(){j&&(r(new ae("Request aborted",ae.ECONNABORTED,e,j)),j=null)},j.onerror=function(S){const k=S&&S.message?S.message:"Network Error",D=new ae(k,ae.ERR_NETWORK,e,j);D.event=S||null,r(D),j=null},j.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||cm;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new ae(S,k.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,j)),j=null},l===void 0&&o.setContentType(null),"setRequestHeader"in j&&C.forEach(o.toJSON(),function(S,k){j.setRequestHeader(k,S)}),C.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),a&&a!=="json"&&(j.responseType=s.responseType),u&&([p,v]=nl(u,!0),j.addEventListener("progress",p)),c&&j.upload&&([h,N]=nl(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(d=x=>{j&&(r(!x||x.type?new Mr(null,e,j):x),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const f=Py(s.url);if(f&&Je.protocols.indexOf(f)===-1){r(new ae("Unsupported protocol "+f+":",ae.ERR_BAD_REQUEST,e));return}j.send(l||null)})},Iy=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const l=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ae?d:new Mr(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,l(new ae(`timeout ${t} of ms exceeded`,ae.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),e=null)};e.forEach(u=>u.addEventListener("abort",l));const{signal:c}=r;return c.unsubscribe=()=>C.asap(a),c}},$y=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},qy=async function*(e,t){for await(const n of Hy(e))yield*$y(n,t)},Hy=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},sd=(e,t,n,r)=>{const s=qy(e,t);let l=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let h=d.byteLength;if(n){let p=l+=h;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},id=64*1024,{isFunction:oi}=C,Wy=(({Request:e,Response:t})=>({Request:e,Response:t}))(C.global),{ReadableStream:ld,TextEncoder:od}=C.global,ad=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Vy=e=>{e=C.merge.call({skipUndefined:!0},Wy,e);const{fetch:t,Request:n,Response:r}=e,s=t?oi(t):typeof fetch=="function",l=oi(n),o=oi(r);if(!s)return!1;const a=s&&oi(ld),c=s&&(typeof od=="function"?(v=>g=>v.encode(g))(new od):async v=>new Uint8Array(await new n(v).arrayBuffer())),u=l&&a&&ad(()=>{let v=!1;const g=new n(Je.origin,{body:new ld,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),d=o&&a&&ad(()=>C.isReadableStream(new r("").body)),h={stream:d&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(g,j)=>{let m=g&&g[v];if(m)return m.call(g);throw new ae(`Response type '${v}' is not supported`,ae.ERR_NOT_SUPPORT,j)})});const p=async v=>{if(v==null)return 0;if(C.isBlob(v))return v.size;if(C.isSpecCompliantForm(v))return(await new n(Je.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(C.isArrayBufferView(v)||C.isArrayBuffer(v))return v.byteLength;if(C.isURLSearchParams(v)&&(v=v+""),C.isString(v))return(await c(v)).byteLength},N=async(v,g)=>{const j=C.toFiniteNumber(v.getContentLength());return j??p(g)};return async v=>{let{url:g,method:j,data:m,signal:f,cancelToken:x,timeout:S,onDownloadProgress:k,onUploadProgress:D,responseType:L,headers:z,withCredentials:Z="same-origin",fetchOptions:Q}=mm(v),le=t||fetch;L=L?(L+"").toLowerCase():"text";let F=Iy([f,x&&x.toAbortSignal()],S),ie=null;const P=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let H;try{if(D&&u&&j!=="get"&&j!=="head"&&(H=await N(z,m))!==0){let w=new n(g,{method:"POST",body:m,duplex:"half"}),R;if(C.isFormData(m)&&(R=w.headers.get("content-type"))&&z.setContentType(R),w.body){const[q,_]=td(H,nl(nd(D)));m=sd(w.body,id,q,_)}}C.isString(Z)||(Z=Z?"include":"omit");const K=l&&"credentials"in n.prototype,ee={...Q,signal:F,method:j.toUpperCase(),headers:z.normalize().toJSON(),body:m,duplex:"half",credentials:K?Z:void 0};ie=l&&new n(g,ee);let T=await(l?le(ie,Q):le(g,ee));const B=d&&(L==="stream"||L==="response");if(d&&(k||B&&P)){const w={};["status","statusText","headers"].forEach(U=>{w[U]=T[U]});const R=C.toFiniteNumber(T.headers.get("content-length")),[q,_]=k&&td(R,nl(nd(k),!0))||[];T=new r(sd(T.body,id,q,()=>{_&&_(),P&&P()}),w)}L=L||"text";let W=await h[C.findKey(h,L)||"text"](T,v);return!B&&P&&P(),await new Promise((w,R)=>{fm(w,R,{data:W,headers:ut.from(T.headers),status:T.status,statusText:T.statusText,config:v,request:ie})})}catch(K){throw P&&P(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,v,ie),{cause:K.cause||K}):ae.from(K,K&&K.code,v,ie)}}},Ky=new Map,pm=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,l=[r,s,n];let o=l.length,a=o,c,u,d=Ky;for(;a--;)c=l[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:Vy(t)),d=u;return u};pm();const Sc={http:uy,xhr:By,fetch:{get:pm}};C.forEach(Sc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cd=e=>`- ${e}`,Qy=e=>C.isFunction(e)||e===null||e===!1;function Gy(e,t){e=C.isArray(e)?e:[e];const{length:n}=e;let r,s;const l={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!Qy(r)&&(s=Sc[(a=String(r)).toLowerCase()],s===void 0))throw new ae(`Unknown adapter '${a}'`);if(s&&(C.isFunction(s)||(s=s.get(t))))break;l[a||"#"+o]=s}if(!s){const o=Object.entries(l).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(cd).join(`
`):" "+cd(o[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const gm={getAdapter:Gy,adapters:Sc};function ao(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mr(null,e)}function ud(e){return ao(e),e.headers=ut.from(e.headers),e.data=oo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gm.getAdapter(e.adapter||Us.adapter,e)(e).then(function(r){return ao(e),r.data=oo.call(e,e.transformResponse,r),r.headers=ut.from(r.headers),r},function(r){return dm(r)||(ao(e),r&&r.response&&(r.response.data=oo.call(e,e.transformResponse,r.response),r.response.headers=ut.from(r.response.headers))),Promise.reject(r)})}const xm="1.13.2",_l={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_l[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const dd={};_l.transitional=function(t,n,r){function s(l,o){return"[Axios v"+xm+"] Transitional option '"+l+"'"+o+(r?". "+r:"")}return(l,o,a)=>{if(t===!1)throw new ae(s(o," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!dd[o]&&(dd[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,o,a):!0}};_l.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Yy(e,t,n){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const l=r[s],o=t[l];if(o){const a=e[l],c=a===void 0||o(a,l,e);if(c!==!0)throw new ae("option "+l+" must be "+c,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+l,ae.ERR_BAD_OPTION)}}const Ci={assertOptions:Yy,validators:_l},Bt=Ci.validators;let Wn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Zu,response:new Zu}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:l}=n;r!==void 0&&Ci.assertOptions(r,{silentJSONParsing:Bt.transitional(Bt.boolean),forcedJSONParsing:Bt.transitional(Bt.boolean),clarifyTimeoutError:Bt.transitional(Bt.boolean)},!1),s!=null&&(C.isFunction(s)?n.paramsSerializer={serialize:s}:Ci.assertOptions(s,{encode:Bt.function,serialize:Bt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ci.assertOptions(n,{baseUrl:Bt.spelling("baseURL"),withXsrfToken:Bt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=l&&C.merge(l.common,l[n.method]);l&&C.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),n.headers=ut.concat(o,l);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,p;if(!c){const v=[ud.bind(this),void 0];for(v.unshift(...a),v.push(...u),p=v.length,d=Promise.resolve(n);h<p;)d=d.then(v[h++],v[h++]);return d}p=a.length;let N=n;for(;h<p;){const v=a[h++],g=a[h++];try{N=v(N)}catch(j){g.call(this,j);break}}try{d=ud.call(this,N)}catch(v){return Promise.reject(v)}for(h=0,p=u.length;h<p;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Xn(this.defaults,t);const n=hm(t.baseURL,t.url,t.allowAbsoluteUrls);return am(n,t.params,t.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(t){Wn.prototype[t]=function(n,r){return this.request(Xn(r||{},{method:t,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(t){function n(r){return function(l,o,a){return this.request(Xn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}Wn.prototype[t]=n(),Wn.prototype[t+"Form"]=n(!0)});let Jy=class ym{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(s=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](s);r._listeners=null}),this.promise.then=s=>{let l;const o=new Promise(a=>{r.subscribe(a),l=a}).then(s);return o.cancel=function(){r.unsubscribe(l)},o},t(function(l,o,a){r.reason||(r.reason=new Mr(l,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ym(function(s){t=s}),cancel:t}}};function Xy(e){return function(n){return e.apply(null,n)}}function Zy(e){return C.isObject(e)&&e.isAxiosError===!0}const pa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pa).forEach(([e,t])=>{pa[t]=e});function vm(e){const t=new Wn(e),n=Yh(Wn.prototype.request,t);return C.extend(n,Wn.prototype,t,{allOwnKeys:!0}),C.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return vm(Xn(e,s))},n}const Me=vm(Us);Me.Axios=Wn;Me.CanceledError=Mr;Me.CancelToken=Jy;Me.isCancel=dm;Me.VERSION=xm;Me.toFormData=Cl;Me.AxiosError=ae;Me.Cancel=Me.CanceledError;Me.all=function(t){return Promise.all(t)};Me.spread=Xy;Me.isAxiosError=Zy;Me.mergeConfig=Xn;Me.AxiosHeaders=ut;Me.formToJSON=e=>um(C.isHTMLForm(e)?new FormData(e):e);Me.getAdapter=gm.getAdapter;Me.HttpStatusCode=pa;Me.default=Me;const{Axios:u1,AxiosError:d1,CanceledError:f1,isCancel:h1,CancelToken:m1,VERSION:p1,all:g1,Cancel:x1,isAxiosError:y1,spread:v1,toFormData:w1,AxiosHeaders:b1,HttpStatusCode:j1,formToJSON:N1,getAdapter:S1,mergeConfig:k1}=Me,V=Me.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});V.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers["x-auth-token"]=t),e},e=>Promise.reject(e));const wm=y.createContext(),wt=()=>y.useContext(wm),ev=({children:e})=>{const[t,n]=y.useState(null),[r,s]=y.useState(!0),[l,o]=y.useState(localStorage.getItem("token")),[a,c]=y.useState(!1),u=async()=>{const v=localStorage.getItem("token");if(v){o(v),s(!0);try{const j=(await V.get("/auth")).data;j.role||(j.role="user"),n(j);try{const m=await V.get("/profile");m.data.skillsToTeach&&m.data.skillsToTeach.length>0?c(!0):c(!1)}catch(m){console.log("Profile not found or incomplete:",m),c(!1)}}catch(g){console.error("Failed to load user",g),localStorage.removeItem("token"),o(null),n(null),c(!1)}}else n(null),c(!1);s(!1)};y.useEffect(()=>{u()},[l]);const N={user:t,token:l,login:async(v,g)=>{const j=await V.post("/auth/login",{email:v,password:g});localStorage.setItem("token",j.data.token),o(j.data.token),await u()},register:async(v,g,j)=>{const m=await V.post("/auth/register",{username:v,email:g,password:j});localStorage.setItem("token",m.data.token),o(m.data.token),await u()},logout:()=>{localStorage.removeItem("token"),o(null),n(null),c(!1)},loading:r,isAuthenticated:!!l,loadUser:u,profileComplete:a};return i.jsx(wm.Provider,{value:N,children:!r&&e})};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nv=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),fd=e=>{const t=nv(e);return t.charAt(0).toUpperCase()+t.slice(1)},bm=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),rv=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...sv,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bm("lucide",s),...!l&&!rv(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=y.forwardRef(({className:r,...s},l)=>y.createElement(iv,{ref:l,iconNode:t,className:bm(`lucide-${tv(fd(e))}`,`lucide-${e}`,r),...s}));return n.displayName=fd(e),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jm=ge("award",lv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ai=ge("ban",ov);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Nm=ge("bell",av);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],et=ge("book-open",cv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bs=ge("calendar",uv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sm=ge("check",dv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hv=ge("chevron-down",fv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pv=ge("chevron-left",mv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xv=ge("chevron-right",gv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vv=ge("circle-alert",yv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yn=ge("circle-check-big",wv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],us=ge("circle-x",bv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mt=ge("clock",jv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hd=ge("eye",Nv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],kv=ge("flag",Sv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_v=ge("funnel",Cv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ga=ge("graduation-cap",Ev);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Rv=ge("layout-dashboard",Tv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Pv=ge("log-in",Lv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],km=ge("log-out",Ov);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Cm=ge("message-circle",Av);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rl=ge("message-square",Dv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],md=ge("plus",Mv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tr=ge("search",zv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Uv=ge("send",Fv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Iv=ge("shield",Bv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vn=ge("star",$v);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Hv=ge("trash-2",qv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_m=ge("trending-up",Wv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],co=ge("triangle-alert",Vv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],El=ge("user-plus",Kv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Em=ge("user",Qv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wr=ge("users",Gv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Rs=ge("video",Yv);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ct=ge("x",Jv),Kt=Object.create(null);Kt.open="0";Kt.close="1";Kt.ping="2";Kt.pong="3";Kt.message="4";Kt.upgrade="5";Kt.noop="6";const _i=Object.create(null);Object.keys(Kt).forEach(e=>{_i[Kt[e]]=e});const xa={type:"error",data:"parser error"},Tm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Rm=typeof ArrayBuffer=="function",Lm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,kc=({type:e,data:t},n,r)=>Tm&&t instanceof Blob?n?r(t):pd(t,r):Rm&&(t instanceof ArrayBuffer||Lm(t))?n?r(t):pd(new Blob([t]),r):r(Kt[e]+(t||"")),pd=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function gd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let uo;function Xv(e,t){if(Tm&&e.data instanceof Blob)return e.data.arrayBuffer().then(gd).then(t);if(Rm&&(e.data instanceof ArrayBuffer||Lm(e.data)))return t(gd(e.data));kc(e,!1,n=>{uo||(uo=new TextEncoder),t(uo.encode(n))})}const xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",es=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<xd.length;e++)es[xd.charCodeAt(e)]=e;const Zv=e=>{let t=e.length*.75,n=e.length,r,s=0,l,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)l=es[e.charCodeAt(r)],o=es[e.charCodeAt(r+1)],a=es[e.charCodeAt(r+2)],c=es[e.charCodeAt(r+3)],d[s++]=l<<2|o>>4,d[s++]=(o&15)<<4|a>>2,d[s++]=(a&3)<<6|c&63;return u},ew=typeof ArrayBuffer=="function",Cc=(e,t)=>{if(typeof e!="string")return{type:"message",data:Pm(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:tw(e.substring(1),t)}:_i[n]?e.length>1?{type:_i[n],data:e.substring(1)}:{type:_i[n]}:xa},tw=(e,t)=>{if(ew){const n=Zv(e);return Pm(n,t)}else return{base64:!0,data:e}},Pm=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Om="",nw=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((l,o)=>{kc(l,!1,a=>{r[o]=a,++s===n&&t(r.join(Om))})})},rw=(e,t)=>{const n=e.split(Om),r=[];for(let s=0;s<n.length;s++){const l=Cc(n[s],t);if(r.push(l),l.type==="error")break}return r};function sw(){return new TransformStream({transform(e,t){Xv(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,r)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let fo;function ci(e){return e.reduce((t,n)=>t+n.length,0)}function ui(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function iw(e,t){fo||(fo=new TextDecoder);const n=[];let r=0,s=-1,l=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ci(n)<1)break;const c=ui(n,1);l=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(ci(n)<2)break;const c=ui(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ci(n)<8)break;const c=ui(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(xa);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if(ci(n)<s)break;const c=ui(n,s);a.enqueue(Cc(l?c:fo.decode(c),t)),r=0}if(s===0||s>e){a.enqueue(xa);break}}}})}const Am=4;function Be(e){if(e)return lw(e)}function lw(e){for(var t in Be.prototype)e[t]=Be.prototype[t];return e}Be.prototype.on=Be.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Be.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Be.prototype.off=Be.prototype.removeListener=Be.prototype.removeAllListeners=Be.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Be.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Be.prototype.emitReserved=Be.prototype.emit;Be.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Be.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Tl=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),St=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ow="arraybuffer";function Dm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const aw=St.setTimeout,cw=St.clearTimeout;function Rl(e,t){t.useNativeTimers?(e.setTimeoutFn=aw.bind(St),e.clearTimeoutFn=cw.bind(St)):(e.setTimeoutFn=St.setTimeout.bind(St),e.clearTimeoutFn=St.clearTimeout.bind(St))}const uw=1.33;function dw(e){return typeof e=="string"?fw(e):Math.ceil((e.byteLength||e.size)*uw)}function fw(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Mm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function hw(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function mw(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let l=n[r].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class pw extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class _c extends Be{constructor(t){super(),this.writable=!1,Rl(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new pw(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Cc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=hw(t);return n.length?"?"+n:""}}class gw extends _c{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};rw(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,nw(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Mm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let zm=!1;try{zm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xw=zm;function yw(){}class vw extends gw{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Vt extends Be{constructor(t,n,r){super(),this.createRequest=t,Rl(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Dm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Vt.requestsCount++,Vt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=yw,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Vt.requestsCount=0;Vt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",yd);else if(typeof addEventListener=="function"){const e="onpagehide"in St?"pagehide":"unload";addEventListener(e,yd,!1)}}function yd(){for(let e in Vt.requests)Vt.requests.hasOwnProperty(e)&&Vt.requests[e].abort()}const ww=function(){const e=Fm({xdomain:!1});return e&&e.responseType!==null}();class bw extends vw{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=ww&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Vt(Fm,this.uri(),t)}}function Fm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||xw))return new XMLHttpRequest}catch{}if(!t)try{return new St[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Um=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jw extends _c{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Um?{}:Dm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;kc(r,this.supportsBinary,l=>{try{this.doWrite(r,l)}catch{}s&&Tl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Mm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const ho=St.WebSocket||St.MozWebSocket;class Nw extends jw{createSocket(t,n,r){return Um?new ho(t,n,r):n?new ho(t,n):new ho(t)}doWrite(t,n){this.ws.send(n)}}class Sw extends _c{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=iw(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=sw();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const l=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),l())}).catch(a=>{})};l();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Tl(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const kw={websocket:Nw,webtransport:Sw,polling:bw},Cw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_w=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ya(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Cw.exec(e||""),l={},o=14;for(;o--;)l[_w[o]]=s[o]||"";return n!=-1&&r!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Ew(l,l.path),l.queryKey=Tw(l,l.query),l}function Ew(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Tw(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,l){s&&(n[s]=l)}),n}const va=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ei=[];va&&addEventListener("offline",()=>{Ei.forEach(e=>e())},!1);class En extends Be{constructor(t,n){if(super(),this.binaryType=ow,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=ya(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=ya(n.host).host);Rl(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=mw(this.opts.query)),va&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ei.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Am,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&En.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",En.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=dw(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Tl(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const l={type:t,data:n,options:r};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(En.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),va&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Ei.indexOf(this._offlineEventListener);r!==-1&&Ei.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}En.protocol=Am;class Rw extends En{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;En.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;En.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function l(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=n.name,l(),this.emitReserved("upgradeError",p)};function a(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&l()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Lw=class extends Rw{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>kw[s]).filter(s=>!!s)),super(t,r)}};function Pw(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ya(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const l=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+l+":"+r.port+t,r.href=r.protocol+"://"+l+(n&&n.port===r.port?"":":"+r.port),r}const Ow=typeof ArrayBuffer=="function",Aw=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Bm=Object.prototype.toString,Dw=typeof Blob=="function"||typeof Blob<"u"&&Bm.call(Blob)==="[object BlobConstructor]",Mw=typeof File=="function"||typeof File<"u"&&Bm.call(File)==="[object FileConstructor]";function Ec(e){return Ow&&(e instanceof ArrayBuffer||Aw(e))||Dw&&e instanceof Blob||Mw&&e instanceof File}function Ti(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ti(e[n]))return!0;return!1}if(Ec(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ti(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ti(e[n]))return!0;return!1}function zw(e){const t=[],n=e.data,r=e;return r.data=wa(n,t),r.attachments=t.length,{packet:r,buffers:t}}function wa(e,t){if(!e)return e;if(Ec(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=wa(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=wa(e[r],t));return n}return e}function Fw(e,t){return e.data=ba(e.data,t),delete e.attachments,e}function ba(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ba(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ba(e[n],t));return e}const Uw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Bw=5;var pe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(pe||(pe={}));class Iw{constructor(t){this.replacer=t}encode(t){return(t.type===pe.EVENT||t.type===pe.ACK)&&Ti(t)?this.encodeAsBinary({type:t.type===pe.EVENT?pe.BINARY_EVENT:pe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===pe.BINARY_EVENT||t.type===pe.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=zw(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function vd(e){return Object.prototype.toString.call(e)==="[object Object]"}class Tc extends Be{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===pe.BINARY_EVENT;r||n.type===pe.BINARY_ACK?(n.type=r?pe.EVENT:pe.ACK,this.reconstructor=new $w(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ec(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(pe[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===pe.BINARY_EVENT||r.type===pe.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(l,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(l,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const l=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(Tc.isPayloadValid(r.type,l))r.data=l;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case pe.CONNECT:return vd(n);case pe.DISCONNECT:return n===void 0;case pe.CONNECT_ERROR:return typeof n=="string"||vd(n);case pe.EVENT:case pe.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Uw.indexOf(n[0])===-1);case pe.ACK:case pe.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $w{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Fw(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Tc,Encoder:Iw,get PacketType(){return pe},protocol:Bw},Symbol.toStringTag,{value:"Module"}));function Ot(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Hw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Im extends Be{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ot(t,"open",this.onopen.bind(this)),Ot(t,"packet",this.onpacket.bind(this)),Ot(t,"error",this.onerror.bind(this)),Ot(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,l;if(Hw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:pe.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(l),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const l=(o,a)=>o?s(o):r(a);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...l)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...l)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case pe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case pe.EVENT:case pe.BINARY_EVENT:this.onevent(t);break;case pe.ACK:case pe.BINARY_ACK:this.onack(t);break;case pe.DISCONNECT:this.ondisconnect();break;case pe.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:pe.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function zr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}zr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};zr.prototype.reset=function(){this.attempts=0};zr.prototype.setMin=function(e){this.ms=e};zr.prototype.setMax=function(e){this.max=e};zr.prototype.setJitter=function(e){this.jitter=e};class ja extends Be{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Rl(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new zr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||qw;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Lw(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Ot(n,"open",function(){r.onopen(),t&&t()}),l=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=Ot(n,"error",l);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ot(t,"ping",this.onping.bind(this)),Ot(t,"data",this.ondata.bind(this)),Ot(t,"error",this.onerror.bind(this)),Ot(t,"close",this.onclose.bind(this)),Ot(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Tl(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Im(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Gr={};function Ri(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Pw(e,t.path||"/socket.io"),r=n.source,s=n.id,l=n.path,o=Gr[s]&&l in Gr[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new ja(r,t):(Gr[s]||(Gr[s]=new ja(r,t)),c=Gr[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Ri,{Manager:ja,Socket:Im,io:Ri,connect:Ri});const $m=y.createContext(),Ll=()=>y.useContext($m),Ww=({children:e})=>{const[t,n]=y.useState(null),{isAuthenticated:r,user:s}=wt();return y.useEffect(()=>{if(r&&s){const l=Ri("http://localhost:5000");return l.on("connect",()=>{l.emit("joinUserRoom",s._id)}),n(l),()=>{l.close()}}else t&&(t.close(),n(null))},[r,s]),i.jsx($m.Provider,{value:t,children:e})},Vw=()=>{const{isAuthenticated:e,user:t,logout:n}=wt(),r=Ll(),s=Qt(),l=cn(),[o,a]=y.useState(0),[c,u]=y.useState(0),d=()=>{n(),s("/login")},h=v=>l.pathname===v;y.useEffect(()=>{if(e&&t){const v=async()=>{var j;try{const[m,f]=await Promise.all([V.get("/sessions"),V.get("/messages/requests/pending").catch(()=>({data:{incoming:[]}}))]),x=m.data.filter(S=>S.teacher._id===t._id&&S.status==="pending");a(x.length),u(((j=f.data.incoming)==null?void 0:j.length)||0)}catch(m){console.error("Failed to fetch pending requests",m)}};v();const g=setInterval(v,3e4);return()=>clearInterval(g)}},[e,t]),y.useEffect(()=>{if(!r||!e)return;const v=()=>{(async()=>{var f;try{const x=await V.get("/messages/requests/pending").catch(()=>({data:{incoming:[]}}));u(((f=x.data.incoming)==null?void 0:f.length)||0)}catch(x){console.error("Failed to fetch chat requests",x)}})()},g=()=>{v()},j=()=>{v()};return r.on("newChatRequest",v),r.on("chatRequestAccepted",g),r.on("conversationUpdate",j),()=>{r.off("newChatRequest",v),r.off("chatRequestAccepted",g),r.off("conversationUpdate",j)}},[r,e]);const p=i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs($t,{to:"/dashboard",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${h("/dashboard")?"bg-teal-50 text-teal-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(Rv,{size:20}),i.jsx("span",{children:"Dashboard"})]}),i.jsxs($t,{to:"/browse",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${h("/browse")?"bg-teal-50 text-teal-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(wr,{size:20}),i.jsx("span",{children:"Learn"})]}),i.jsxs($t,{to:"/messages",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all relative ${h("/messages")?"bg-teal-50 text-teal-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(rl,{size:20}),i.jsx("span",{children:"Chat"}),c>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-sm",children:c>9?"9+":c})]}),i.jsxs($t,{to:"/requests",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all relative ${h("/requests")?"bg-teal-50 text-teal-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(Nm,{size:20}),i.jsx("span",{children:"Requests"}),o>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow-sm",children:o>9?"9+":o})]}),i.jsxs($t,{to:"/profile",className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${h("/profile")?"bg-teal-50 text-teal-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[i.jsx(Em,{size:20}),i.jsx("span",{children:"Profile"})]}),i.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-red-500 hover:text-red-700 hover:bg-red-50 transition-all",children:[i.jsx(km,{size:20}),i.jsx("span",{children:"Logout"})]})]}),N=i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx($t,{to:"/login",className:"px-4 py-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-all",children:"Login"}),i.jsxs($t,{to:"/register",className:"flex items-center gap-2 bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 py-2 rounded-lg hover:from-teal-600 hover:to-teal-700 transition-all shadow-sm",children:[i.jsx(El,{size:20}),i.jsx("span",{children:"Register"})]})]});return i.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 w-full",children:i.jsx("div",{className:"w-full px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs($t,{to:e?"/dashboard":"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[i.jsx("img",{src:"/logo.png",alt:"SkillSwap Logo",className:"h-12 w-12 object-contain"}),i.jsx("span",{className:"text-2xl font-bold text-gray-800",children:"SkillSwap"})]}),i.jsx("div",{children:e?p:N})]})})})},Kw=({toast:e,onClose:t})=>{const n=()=>{switch(e.type){case"success":return i.jsx(yn,{className:"text-green-500",size:20});case"error":return i.jsx(us,{className:"text-red-500",size:20});case"warning":return i.jsx(vv,{className:"text-yellow-500",size:20});default:return i.jsx(yn,{className:"text-blue-500",size:20})}},r=()=>{switch(e.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}},s=()=>{switch(e.type){case"success":return"text-green-800";case"error":return"text-red-800";case"warning":return"text-yellow-800";default:return"text-blue-800"}};return i.jsxs("div",{className:`${r()} ${s()} border rounded-lg shadow-lg px-4 py-3 mb-3 flex items-center gap-3 min-w-[300px] max-w-[500px] animate-slide-in`,style:{animation:"slideIn 0.3s ease-out"},children:[n(),i.jsx("p",{className:"flex-1 text-sm font-medium",children:e.message}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(Ct,{size:16})})]})},qm=y.createContext(),Is=()=>{const e=y.useContext(qm);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Qw=({children:e})=>{const[t,n]=y.useState([]),r=y.useCallback((o,a="success",c=3e3)=>{const u=Date.now()+Math.random(),d={id:u,message:o,type:a};return n(h=>[...h,d]),setTimeout(()=>{n(h=>h.filter(p=>p.id!==u))},c),u},[]),s=y.useCallback(o=>{n(a=>a.filter(c=>c.id!==o))},[]),l={showToast:r,removeToast:s};return i.jsxs(qm.Provider,{value:l,children:[e,i.jsx("div",{className:"fixed top-4 right-4 z-[9999] pointer-events-none",style:{pointerEvents:"none"},children:i.jsx("div",{style:{pointerEvents:"auto"},children:t.map(o=>i.jsx(Kw,{toast:o,onClose:()=>s(o.id)},o.id))})})]})},Gw=()=>{const[e,t]=y.useState({email:"",password:""}),{login:n,user:r}=wt(),s=Qt(),l=cn(),[o,a]=y.useState(""),{email:c,password:u}=e;y.useEffect(()=>{r&&(r.role==="admin"?s("/admin"):s("/dashboard"))},[r,s]);const d=p=>t({...e,[p.target.name]:p.target.value}),h=async p=>{var N,v;p.preventDefault(),a("");try{await n(c,u)}catch(g){a(((v=(N=g.response)==null?void 0:N.data)==null?void 0:v.msg)||"Login failed")}};return y.useEffect(()=>{var p;if(r){const N=((p=l.state)==null?void 0:p.from)==="/admin";r.role==="admin"||N?s("/admin"):s("/dashboard")}},[r,s,l]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:i.jsx("img",{src:"/logo.png",alt:"SkillSwap Logo",className:"h-24 w-24 object-contain"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back!"}),i.jsx("p",{className:"text-gray-600",children:"Sign in to continue to SkillSwap"})]}),i.jsxs("form",{onSubmit:h,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:c,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Enter your email",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),i.jsx("input",{type:"password",name:"password",value:u,onChange:d,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Enter your password",required:!0})]}),o&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-700",children:o})}),i.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-teal-500 to-teal-600 text-white py-3 rounded-xl font-semibold hover:from-teal-600 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[i.jsx(Pv,{size:20}),i.jsx("span",{children:"Login"})]})]}),i.jsxs("p",{className:"mt-6 text-center text-gray-600",children:["Don't have an account?"," ",i.jsx($t,{to:"/register",className:"text-teal-600 font-semibold hover:text-teal-700 transition-colors",children:"Register here"})]})]})})})},Yw=()=>{const[e,t]=y.useState({username:"",email:"",password:""}),[n,r]=y.useState(""),{register:s}=wt();Qt();const{username:l,email:o,password:a}=e,c=d=>t({...e,[d.target.name]:d.target.value}),u=async d=>{var h,p;if(d.preventDefault(),r(""),a.length<6){r("Password must be at least 6 characters");return}try{await s(l,o,a)}catch(N){const v=((p=(h=N.response)==null?void 0:h.data)==null?void 0:p.msg)||"Registration failed. Please try again.";r(v),console.error("Registration failed",v)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:i.jsx("img",{src:"/logo.png",alt:"SkillSwap Logo",className:"h-24 w-24 object-contain"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create Account"}),i.jsx("p",{className:"text-gray-600",children:"Join SkillSwap and start learning"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),i.jsx("input",{type:"text",name:"username",value:l,onChange:c,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Choose a username",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:o,onChange:c,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Enter your email",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),i.jsx("input",{type:"password",name:"password",value:a,onChange:c,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"At least 6 characters",required:!0,minLength:"6"})]}),n&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-700",children:n})}),i.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-teal-500 to-teal-600 text-white py-3 rounded-xl font-semibold hover:from-teal-600 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[i.jsx(El,{size:20}),i.jsx("span",{children:"Create Account"})]})]}),i.jsxs("p",{className:"mt-6 text-center text-gray-600",children:["Already have an account?"," ",i.jsx($t,{to:"/login",className:"text-teal-600 font-semibold hover:text-teal-700 transition-colors",children:"Login here"})]})]})})})},Jw=({sessionId:e,revieweeId:t,onClose:n,onReviewSubmitted:r})=>{const[s,l]=y.useState(0),[o,a]=y.useState(""),[c,u]=y.useState(0),[d,h]=y.useState(!1),[p,N]=y.useState(""),v=async g=>{var j,m;if(g.preventDefault(),h(!0),N(""),s===0){N("Please provide a rating."),h(!1);return}try{await V.post("/sessions/reviews",{sessionId:e,revieweeId:t,rating:s,comment:o}),r(e),n()}catch(f){console.error("Error submitting review:",f),N(((m=(j=f.response)==null?void 0:j.data)==null?void 0:m.msg)||"Failed to submit review.")}finally{h(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Submit Review"}),i.jsxs("form",{onSubmit:v,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Rating:"}),i.jsx("div",{className:"flex",children:[1,2,3,4,5].map(g=>i.jsx(Vn,{size:30,className:`cursor-pointer ${(c||s)>=g?"text-yellow-400":"text-gray-300"}`,onClick:()=>l(g),onMouseEnter:()=>u(g),onMouseLeave:()=>u(0),fill:(c||s)>=g?"currentColor":"none"},g))}),p&&s===0&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"comment",className:"block text-gray-700 text-sm font-bold mb-2",children:"Comment (optional):"}),i.jsx("textarea",{id:"comment",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:"4",value:o,onChange:g=>a(g.target.value),maxLength:"500"})]}),p&&s!==0&&i.jsx("p",{className:"text-red-500 text-xs mb-4",children:p}),i.jsxs("div",{className:"flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:n,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded",disabled:d,children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",disabled:d,children:d?"Submitting...":"Submit Review"})]})]})]})})},Xw=({meetingData:e,onClose:t,onJoinMeeting:n})=>{if(!e)return null;const{teacher:r,skill:s,meetingLink:l}=e,o=()=>{l&&(window.open(l,"_blank"),n())};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4",style:{animation:"slide-down 0.3s ease"},children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-full flex items-center justify-center text-white",children:i.jsx(Rs,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Meeting Started!"}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[r," has started the session"]})]})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100","aria-label":"Close",children:i.jsx(Ct,{size:20})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-gray-700 mb-2",children:[i.jsx("span",{className:"font-semibold",children:"Skill:"})," ",s]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Click the button below to join the meeting"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-gray-700",children:"Close"}),i.jsxs("button",{onClick:o,className:"flex-1 px-4 py-3 bg-gradient-to-r from-teal-500 to-blue-500 text-white rounded-lg hover:from-teal-600 hover:to-blue-600 transition-colors font-medium flex items-center justify-center gap-2",children:[i.jsx(Rs,{size:18}),"Join Meeting"]})]})]}),i.jsx("style",{children:`
        @keyframes slide-down {
          from {
            transform: translateY(-20px);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
      `})]})},Hm=e=>e?new Date(e).toISOString():"",Zw=e=>{if(!e)return"";const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${n}-${r}-${s}T${l}:${o}`},e1=e=>{if(!e)return null;const t=new Date,[n,r]=e.split(":").map(Number),s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,r),l=String(s.getUTCHours()).padStart(2,"0"),o=String(s.getUTCMinutes()).padStart(2,"0");return`${l}:${o}`},Wm=(e,t={})=>{if(!e)return"";let n;if(e instanceof Date)n=e;else if(typeof e=="string"){let u=e.trim();!u.includes("Z")&&!u.includes("+")&&!u.match(/-\d{2}:\d{2}$/)&&u.includes("T")&&u.length>10&&(u+="Z"),n=new Date(u)}else return"";if(isNaN(n.getTime()))return"";const r=new Date,s=new Date(r);s.setDate(s.getDate()+1);const l=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=new Date(s.getFullYear(),s.getMonth(),s.getDate()),c={month:"short",day:"numeric",hour:"numeric",minute:"2-digit",...t};return l.getTime()===o.getTime()?`Today, ${n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:l.getTime()===a.getTime()?`Tomorrow, ${n.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:n.toLocaleString("en-US",c)},t1=e=>{if(!e)return"";let t;if(e instanceof Date)t=e;else if(typeof e=="string"){let n=e.trim();!n.includes("Z")&&!n.includes("+")&&!n.match(/-\d{2}:\d{2}$/)&&n.includes("T")&&n.length>10&&(n+="Z"),t=new Date(n)}else return"";return isNaN(t.getTime())?"":t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})},di=({icon:e,label:t,value:n,change:r,bgColor:s,iconColor:l})=>i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:n}),r&&i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r})]}),i.jsx("div",{className:`p-3 rounded-full ${s}`,children:ll.cloneElement(e,{className:l})})]}),n1=({sessions:e,user:t})=>{const n=new Date,[r,s]=y.useState(n.getMonth()),[l,o]=y.useState(n.getFullYear()),[a,c]=y.useState("teaching"),[u,d]=y.useState(null),h=new Date(l,r).toLocaleString("default",{month:"long"}),p=new Date(l,r+1,0).getDate(),N=new Date(l,r,1).getDay(),g=new Date(l,r,0).getDate(),j=[];for(let F=N-1;F>=0;F--)j.push(g-F);const m=42,f=j.length+p,x=[];for(let F=1;F<=m-f;F++)x.push(F);const S=e.filter(F=>{const ie=F.status!=="completed",P=F.scheduledTime&&new Date(F.scheduledTime)>=new Date;return a==="teaching"?F.teacher._id===t._id&&F.status==="confirmed"&&ie&&P:F.learner._id===t._id&&F.status==="confirmed"&&ie&&P}),k={};S.filter(F=>{const ie=new Date(F.scheduledTime);return ie.getMonth()===r&&ie.getFullYear()===l}).forEach(F=>{const P=new Date(F.scheduledTime).getDate();k[P]||(k[P]=[]),k[P].push(F)});const D=new Set(Object.keys(k).map(Number)),L=e.filter(F=>F.teacher._id===t._id&&F.status==="confirmed"&&F.status!=="completed"&&F.scheduledTime&&new Date(F.scheduledTime)>=new Date).length,z=e.filter(F=>F.learner._id===t._id&&F.status==="confirmed"&&F.status!=="completed"&&F.scheduledTime&&new Date(F.scheduledTime)>=new Date).length,Z=()=>{r===0?(s(11),o(l-1)):s(r-1)},Q=()=>{r===11?(s(0),o(l+1)):s(r+1)},le=F=>F===n.getDate()&&r===n.getMonth()&&l===n.getFullYear();return y.useEffect(()=>{const F=ie=>{u!==null&&!ie.target.closest(".calendar-tooltip-container")&&d(null)};if(u!==null)return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[u]),i.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 p-6 rounded-3xl shadow-2xl border border-gray-200/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-800 capitalize",children:[h," ",i.jsx("span",{className:"text-gray-500 font-semibold",children:l})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:Z,className:"p-2 rounded-lg bg-white text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 shadow-sm hover:shadow-md border border-gray-200","aria-label":"Previous month",children:i.jsx(pv,{size:18})}),i.jsx("button",{onClick:Q,className:"p-2 rounded-lg bg-white text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 shadow-sm hover:shadow-md border border-gray-200","aria-label":"Next month",children:i.jsx(xv,{size:18})})]})]}),i.jsx("div",{className:"grid grid-cols-7 gap-2 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(F=>i.jsx("div",{className:"text-center text-xs font-semibold text-gray-500 uppercase tracking-wide",children:F},F))}),i.jsxs("div",{className:"grid grid-cols-7 gap-2 mb-6",children:[j.map(F=>i.jsx("div",{className:"aspect-square flex items-center justify-center text-gray-300 text-sm rounded-lg",children:F},`prev-${F}`)),Array.from({length:p},(F,ie)=>{const P=ie+1,H=D.has(P),K=le(P),ee=k[P]||[];return i.jsxs("div",{className:`relative calendar-tooltip-container ${H?"cursor-pointer":""}`,onClick:()=>{H&&d(u===P?null:P)},children:[i.jsxs("div",{className:`aspect-square flex flex-col items-center justify-center rounded-lg transition-all duration-200 ${K?"bg-gradient-to-br from-teal-500 to-teal-600 text-white shadow-lg font-bold":"bg-white hover:bg-gray-50 cursor-pointer"}`,children:[i.jsx("span",{className:`text-sm font-medium ${K?"text-white":"text-gray-800"}`,children:P}),H&&i.jsx("div",{className:`mt-0.5 flex items-center justify-center ${K?"opacity-90":""}`,children:i.jsx("div",{className:`w-1 h-1 rounded-full ${K?"bg-white":"bg-teal-500"}`})})]}),u===P&&ee.length>0&&i.jsxs("div",{className:"absolute z-50 bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-2xl border-2 border-teal-200 min-w-[280px] max-w-[320px] animate-fade-in flex flex-col calendar-tooltip-container",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"10px",animation:"fadeInUp 0.2s ease-out",maxHeight:"70vh"},onClick:T=>T.stopPropagation(),children:[i.jsx("button",{onClick:()=>d(null),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors z-10 bg-white rounded-full p-1 shadow-sm",children:i.jsx(Ct,{size:16})}),i.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b-2 border-teal-100 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full animate-pulse"}),i.jsx("div",{className:"text-sm font-bold text-gray-800",children:new Date(l,r,P).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})})]}),i.jsxs("div",{className:"px-2 py-1 bg-teal-100 text-teal-700 rounded-full text-xs font-bold",children:[ee.length," ",ee.length===1?"Session":"Sessions"]})]}),i.jsxs("div",{className:"overflow-y-auto flex-1 px-4 pb-4 scrollbar-thin scrollbar-thumb-teal-300 scrollbar-track-gray-100",style:{maxHeight:"calc(70vh - 100px)",scrollbarWidth:"thin",scrollbarColor:"#6ee7b7 #f3f4f6"},children:[i.jsx("style",{children:`
                      .scrollbar-thin::-webkit-scrollbar {
                        width: 6px;
                      }
                      .scrollbar-thin::-webkit-scrollbar-track {
                        background: #f3f4f6;
                        border-radius: 10px;
                      }
                      .scrollbar-thin::-webkit-scrollbar-thumb {
                        background: #6ee7b7;
                        border-radius: 10px;
                      }
                      .scrollbar-thin::-webkit-scrollbar-thumb:hover {
                        background: #34d399;
                      }
                    `}),i.jsx("div",{className:"space-y-3 pt-3",children:ee.map((T,B)=>{const W=a==="teaching"?T.learner:T.teacher,w=a==="teaching";return i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-100 hover:border-teal-300 hover:shadow-md transition-all duration-200 flex-shrink-0",style:{animation:`fadeInUp 0.3s ease-out ${B*.1}s both`},children:[i.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${w?"bg-blue-500":"bg-orange-500"}`}),i.jsx("div",{className:"font-bold text-gray-900 text-sm",children:T.skill})]}),i.jsxs("div",{className:"text-xs text-gray-600 ml-5",children:[w?i.jsx("span",{className:"text-blue-600 font-medium",children:"Teaching"}):i.jsx("span",{className:"text-orange-600 font-medium",children:"Learning"})," ","with ",i.jsx("span",{className:"font-semibold text-gray-800",children:W.username})]})]})}),i.jsxs("div",{className:"flex items-center gap-3 ml-5 mt-2 pt-2 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[i.jsx(mt,{size:12,className:"text-teal-500"}),i.jsx("span",{className:"font-medium",children:t1(T.scheduledTime)})]}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-teal-400 rounded-full"}),i.jsxs("span",{className:"font-medium",children:[T.durationHours||1,"hr"]})]})]})]},T._id)})})]}),ee.length>3&&i.jsx("div",{className:"flex-shrink-0 px-4 pb-2 border-t border-teal-100 pt-2",children:i.jsxs("p",{className:"text-xs text-center text-teal-600 font-medium",children:["Scroll to see all ",ee.length," sessions"]})}),i.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1 flex-shrink-0",children:[i.jsx("div",{style:{width:0,height:0,borderLeft:"8px solid transparent",borderRight:"8px solid transparent",borderTop:"8px solid white",filter:"drop-shadow(0 -2px 4px rgba(0,0,0,0.1))"}}),i.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2",style:{width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid #f0fdfa"}})]})]})]},P)}),x.map(F=>i.jsx("div",{className:"aspect-square flex items-center justify-center text-gray-300 text-sm rounded-lg",children:F},`next-${F}`))]}),i.jsxs("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-gray-200",children:[i.jsxs("button",{onClick:()=>c("teaching"),className:`px-4 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${a==="teaching"?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Teaching ",i.jsx("span",{className:"ml-1 font-bold",children:L})]}),i.jsxs("button",{onClick:()=>c("learning"),className:`px-4 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${a==="learning"?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Learning ",i.jsx("span",{className:"ml-1 font-bold",children:z})]})]})]})},wd=()=>{const{user:e}=wt(),t=Ll(),[n,r]=y.useState({hoursExchanged:0,hoursThisWeek:0,activeSessions:0,learningStreak:0,skillsMastered:0,skillsInProgress:0}),[s,l]=y.useState([]),[o,a]=y.useState([]),[c,u]=y.useState([]),[d,h]=y.useState([]),[p,N]=y.useState([]),[v,g]=y.useState([]),[j,m]=y.useState(!0),[f,x]=y.useState("teaching"),[S,k]=y.useState(7),[D,L]=y.useState(!1),[z,Z]=y.useState(null),[Q,le]=y.useState(null),[F,ie]=y.useState(null),P=async()=>{try{const[w,R,q,_]=await Promise.all([V.get("/stats"),V.get("/sessions"),V.get("/reviews/my"),V.get("/stats/skills")]);r(w.data),N(R.data),g(_.data||[]);const U=new Date,J=R.data.filter(G=>G.scheduledTime&&new Date(G.scheduledTime)>U&&G.status!=="completed").sort((G,Pe)=>new Date(G.scheduledTime)-new Date(Pe.scheduledTime)),O=R.data.filter(G=>G.status==="completed").sort((G,Pe)=>new Date(Pe.scheduledTime||Pe.requestedDate)-new Date(G.scheduledTime||G.requestedDate)),b=O.slice(0,7),I=O.filter(G=>{const Pe=G.teacher._id===e._id,Gt=G.learner._id===e._id,Yt=Pe&&G.teacherReviewed||Gt&&G.learnerReviewed,E=q.data.find($=>$.sessionId===G._id&&$.reviewerId===e._id);return!Yt&&!E}),te=new Map;b.forEach(G=>{te.set(G._id.toString(),G)}),I.forEach(G=>{te.set(G._id.toString(),G)});const ce=Array.from(te.values()).sort((G,Pe)=>new Date(Pe.scheduledTime||Pe.requestedDate)-new Date(G.scheduledTime||G.requestedDate)).map(G=>{const Pe=G.teacher._id===e._id,Gt=G.learner._id===e._id,Yt=Pe&&G.teacherReviewed||Gt&&G.learnerReviewed,E=q.data.find(ne=>ne.sessionId===G._id&&ne.reviewerId===e._id);return{...G,userReview:Yt||E?E||{exists:!0}:null}}),ue=new Date;ue.setDate(ue.getDate()+S);const Ne=J.filter(G=>new Date(G.scheduledTime)<=ue),xe=Ne.filter(G=>G.teacher._id===e._id),je=Ne.filter(G=>G.learner._id===e._id);l(Ne),a(xe),u(je),h(ce),m(!1)}catch(w){console.error(w),m(!1)}};y.useEffect(()=>{P()},[e,S]),y.useEffect(()=>{if(t)return t.on("meetingCreated",w=>{const R=q=>q._id===w.sessionId?{...q,meetingLink:w.meetingLink}:q;N(q=>q.map(R)),a(q=>q.map(R)),u(q=>q.map(R)),l(q=>q.map(R)),w.learnerId&&w.learnerId===e._id&&ie({teacher:w.teacher,skill:w.skill,meetingLink:w.meetingLink})}),()=>{t.off("meetingCreated")}},[t]);const H=async w=>{var q,_;const R=w.teacher._id===e._id;if(R&&!w.meetingLink)try{const U=await V.post(`/sessions/create-meeting/${w._id}`),J={...w,meetingLink:U.data.meetingLink,startUrl:U.data.startUrl};N(O=>O.map(b=>b._id===w._id?J:b)),l(O=>O.map(b=>b._id===w._id?J:b)),a(O=>O.map(b=>b._id===w._id?J:b)),u(O=>O.map(b=>b._id===w._id?J:b)),U.data.startUrl?window.open(U.data.startUrl,"_blank"):U.data.meetingLink&&window.open(U.data.meetingLink,"_blank")}catch(U){console.error("Failed to create meeting",U),alert(((_=(q=U.response)==null?void 0:q.data)==null?void 0:_.msg)||"Failed to create meeting")}else w.startUrl&&R?window.open(w.startUrl,"_blank"):w.meetingLink&&window.open(w.meetingLink,"_blank")},K=async w=>{if(window.confirm("Are you sure you want to end this session?"))try{await V.put(`/sessions/complete/${w._id}`),P()}catch(R){console.error("Error completing session:",R),alert("Failed to complete session.")}},ee=w=>{const R=w.learner._id===e._id,q=!!w.userReview;R&&!q&&(Z(w),le(w.teacher._id),L(!0))},T=async w=>{L(!1),Z(null),le(null),w&&h(R=>R.map(q=>q._id===w?{...q,userReview:{_id:"temp-review-id",sessionId:w,reviewerId:e._id,revieweeId:q.teacher._id,rating:0,comment:"",date:new Date}}:q)),await P()},B=w=>w?Wm(w):"",W=w=>w?w.charAt(0).toUpperCase():"?";return j?i.jsx("div",{className:"text-center p-10",children:"Loading dashboard..."}):i.jsxs("div",{className:"bg-gray-50 min-h-screen w-screen",style:{marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",width:"100vw"},children:[D&&z&&i.jsx(Jw,{sessionId:z._id,revieweeId:Q,onClose:()=>L(!1),onReviewSubmitted:T}),F&&i.jsx(Xw,{meetingData:F,onClose:()=>ie(null),onJoinMeeting:()=>ie(null)}),i.jsxs("div",{className:"w-full px-8 py-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Welcome back, ",e==null?void 0:e.username,"!"]}),i.jsx("p",{className:"text-gray-500 mb-8",children:"Track your learning journey and upcoming sessions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx(di,{icon:i.jsx(mt,{size:24}),label:"Hours Exchanged",value:n.hoursExchanged,change:n.hoursThisWeek>0?`+${n.hoursThisWeek} this week`:null,bgColor:"bg-blue-100",iconColor:"text-blue-500"}),i.jsx(di,{icon:i.jsx(wr,{size:24}),label:"Active Sessions",value:n.activeSessions,change:s.length>0?`${s.length} upcoming`:null,bgColor:"bg-orange-100",iconColor:"text-orange-500"}),i.jsx(di,{icon:i.jsx(_m,{size:24}),label:"Learning Streak",value:n.learningStreak,change:"days",bgColor:"bg-purple-100",iconColor:"text-purple-500"}),i.jsx(di,{icon:i.jsx(jm,{size:24}),label:"Skills Mastered",value:n.skillsMastered,change:n.skillsInProgress>0?`${n.skillsInProgress} in progress`:null,bgColor:"bg-green-100",iconColor:"text-green-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-8",children:[i.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-4",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-800",children:"Upcoming Sessions"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded-lg px-2 py-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Filter:"}),i.jsx("button",{onClick:()=>k(7),className:`px-2 py-1 rounded text-xs font-medium transition-all ${S===7?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"7 days"}),i.jsx("button",{onClick:()=>k(15),className:`px-2 py-1 rounded text-xs font-medium transition-all ${S===15?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"15 days"}),i.jsx("button",{onClick:()=>k(30),className:`px-2 py-1 rounded text-xs font-medium transition-all ${S===30?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"30 days"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>x("teaching"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${f==="teaching"?"bg-teal-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Teaching (",o.length,")"]}),i.jsxs("button",{onClick:()=>x("learning"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${f==="learning"?"bg-orange-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["Learning (",c.length,")"]})]})]})]}),i.jsx("div",{className:"space-y-4",children:f==="teaching"?o.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming teaching sessions"}):o.map(w=>{const R=w.learner,q=W(R.username);return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-full flex items-center justify-center font-bold text-teal-600 text-lg",children:q}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-800",children:w.skill}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Teaching ",R.username]}),i.jsx("p",{className:"text-sm text-gray-400",children:B(w.scheduledTime)})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-teal-100 text-teal-700",children:"Teaching"}),w.status==="confirmed"&&i.jsx("button",{onClick:()=>H(w),className:"p-2 text-gray-600 hover:text-gray-800",title:w.meetingLink?"Start Session":"Create & Start Meeting",children:i.jsx(Rs,{size:20})}),w.status==="confirmed"&&i.jsx("button",{onClick:()=>K(w),className:"p-2 text-green-600 hover:text-green-800",title:"End Session",children:i.jsx(yn,{size:20})})]})]},w._id)}):c.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming learning sessions"}):c.map(w=>{const R=w.teacher,q=W(R.username);return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center font-bold text-orange-600 text-lg",children:q}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-800",children:w.skill}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Learning from ",R.username]}),i.jsx("p",{className:"text-sm text-gray-400",children:B(w.scheduledTime)})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-orange-100 text-orange-700",children:"Learning"}),w.status==="confirmed"&&w.meetingLink&&i.jsx("button",{onClick:()=>H(w),className:"p-2 text-gray-600 hover:text-gray-800",title:"Join Session",children:i.jsx(Rs,{size:20})}),w.status==="confirmed"&&!w.meetingLink&&i.jsx("span",{className:"text-xs text-gray-500",children:"Waiting for teacher to start..."})]})]},w._id)})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4",children:"Recent Activity"}),i.jsx("div",{className:"space-y-4",children:d.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"}):d.map(w=>{const R=w.teacher._id===e._id,q=w.learner._id===e._id,_=R?w.learner:w.teacher,U=W(_.username),J=!!w.userReview;return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center font-bold text-blue-600 text-lg",children:U}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-800",children:w.skill}),i.jsx("p",{className:"text-sm text-gray-500",children:_.username}),i.jsx("p",{className:"text-sm text-gray-400",children:B(w.scheduledTime||w.requestedDate)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${R?"bg-teal-100 text-teal-700":"bg-orange-100 text-orange-700"}`,children:R?"Teaching":"Learning"}),i.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Completed"}),q&&i.jsxs("button",{onClick:O=>{O.preventDefault(),O.stopPropagation(),J||ee(w)},disabled:J,className:`px-3 py-1.5 text-xs font-semibold rounded-lg shadow-sm transition-all duration-200 flex items-center gap-1.5 ${J?"bg-gray-200 text-gray-500 cursor-not-allowed opacity-60":"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white hover:shadow-md cursor-pointer"}`,title:J?"You have already reviewed this teacher":"Review this teacher",children:[i.jsx(Vn,{size:14,fill:J?"currentColor":"none"}),i.jsx("span",{children:J?"Reviewed":"Review"})]})]})]},w._id)})})]})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsx(n1,{sessions:p,user:e}),v.length>0&&i.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4",children:"Learning Skills Progress"}),i.jsx("div",{className:"space-y-4",children:v.map(w=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.skill}),i.jsxs("span",{className:"text-sm text-gray-500",children:[w.hoursCompleted.toFixed(1)," / ",w.totalHours," hours"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 to-teal-600 rounded-full transition-all duration-500 ease-out",style:{width:`${w.progress}%`}})}),i.jsxs("div",{className:"text-xs text-gray-400 text-right",children:[w.progress.toFixed(1),"% complete"]})]},w.skill))})]})]})]})]})]})},sl=["JavaScript","Python","React","Node.js","Web Design","UI/UX Design","Graphic Design","Photography","Video Editing","Content Writing","Digital Marketing","SEO","Social Media Marketing","Data Analysis","Machine Learning","Mobile Development","Guitar","Piano","Singing","Dancing","Yoga","Fitness Training","Cooking","Baking","Drawing","Painting","Public Speaking","Language Teaching","Math Tutoring","HTML/CSS","TypeScript","Vue.js","Angular","Express.js","MongoDB","SQL","Java","C++","C#","Swift","Kotlin","Flutter","Dart","PHP","Ruby","Go","Rust","Docker","Kubernetes","AWS","Azure","Git","Linux","DevOps","Cybersecurity","Blockchain","Web3","Game Development","3D Modeling","Animation","Illustration","Music Production","Sound Design","Podcasting","Creative Writing","Business Strategy","Project Management","Agile","Scrum","Financial Planning","Investing","Trading","Accounting","Spanish","French","German","Mandarin","Japanese","Korean","Meditation","Mindfulness","Life Coaching","Career Counseling"],Tn=e=>!e||!e.trim()?"":e.trim().split(/[\s\/\-]+/).map(n=>n.length<=3&&n===n.toUpperCase()?n:n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "),Vm=async e=>{try{const t=await e.get("/profile/all"),n=new Set;return t.data.forEach(r=>{(r.skillsToTeach||[]).forEach(s=>n.add(Tn(s))),(r.skillsToLearn||[]).forEach(s=>n.add(Tn(s)))}),Array.from(n).sort()}catch(t){return console.error("Failed to fetch user skills:",t),[]}},mo=({value:e,label:t})=>i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200 hover:shadow-md transition-shadow",children:[i.jsx("p",{className:"text-4xl font-bold text-gray-800 mb-2",children:e}),i.jsx("p",{className:"text-sm font-medium text-gray-600 text-center",children:t})]}),bd=({skill:e,onRemove:t,color:n})=>i.jsxs("span",{className:`${n} text-white px-4 py-2 rounded-full font-medium flex items-center gap-2`,children:[e,t&&i.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",title:"Remove skill",children:i.jsx(Ct,{size:16})})]}),jd=()=>{const{user:e}=wt(),[t,n]=y.useState(null),[r,s]=y.useState(!0),[l,o]=y.useState([]),[a,c]=y.useState(!0),[u,d]=y.useState(!1),[h,p]=y.useState(""),[N,v]=y.useState(""),[g,j]=y.useState(!1),[m,f]=y.useState(!1),[x,S]=y.useState(""),[k,D]=y.useState(""),[L,z]=y.useState(sl),[Z,Q]=y.useState(!1),[le,F]=y.useState("Not set"),[ie,P]=y.useState("Not set"),[H,K]=y.useState([]),[ee,T]=y.useState([]),[B,W]=y.useState({provider:null,connected:!1}),[w,R]=y.useState(!1),[q,_]=y.useState({summary:[],totalTeaching:0,totalLearning:0}),U=["Weekdays only","Weekends only","Both weekdays and weekends","Flexible"],J=["GMT-12:00","GMT-11:00","GMT-10:00","GMT-09:00","GMT-08:00 (PST)","GMT-07:00 (MST)","GMT-06:00 (CST)","GMT-05:00 (EST)","GMT-04:00","GMT+05:30 (IST)","GMT+08:00","GMT+10:00"],O=["Early Morning (6AM-9AM)","Morning (9AM-12PM)","Afternoon (12PM-3PM)","Evening (3PM-6PM)","Night (6PM-9PM)","Late Night (9PM-12AM)","Flexible"],b=["Video Call","In-Person","Chat-Based","Flexible"],I=async()=>{var A,X,ve;if(e){s(!0),c(!0);try{const de=await V.get("/profile");n(de.data),F(((A=de.data.availability)==null?void 0:A.preferredDays)||"Not set"),P(((X=de.data.availability)==null?void 0:X.timeZone)||"Not set");const me=((ve=de.data.availability)==null?void 0:ve.format)||"";K(me&&me!=="Not set"?me.split(",").map(bt=>bt.trim()).filter(bt=>bt):[]),T(de.data.preferredFormat||[]),s(!1);const _e=await V.get(`/reviews/user/${e._id}`);o(_e.data),c(!1)}catch(de){console.error(de),s(!1),c(!1)}}};y.useEffect(()=>{I(),te(),oe(),e&&(async()=>{const _e=await Vm(V),bt=[...new Set([...sl,..._e])].sort();z(bt)})();const X=new URLSearchParams(window.location.search),ve=X.get("calendar"),de=X.get("status"),me=X.get("msg");if(ve&&de){if(de==="connected")te().then(()=>{alert(`Successfully connected to ${ve==="google"?"Google":"Outlook"} Calendar!`)}).catch(_e=>{console.error("Error fetching calendar status after connection:",_e),alert(`Successfully connected to ${ve==="google"?"Google":"Outlook"} Calendar!`)});else if(de==="error"){const _e=me?decodeURIComponent(me):`Failed to connect to ${ve==="google"?"Google":"Outlook"} Calendar. Please try again.`;alert(_e)}window.history.replaceState({},document.title,window.location.pathname)}},[e]);const te=async()=>{try{const A=await V.get("/calendar/status");W(A.data)}catch(A){console.error("Error fetching calendar status:",A)}},oe=async()=>{try{const A=await V.get("/stats/summary");_(A.data||{summary:[],totalTeaching:0,totalLearning:0})}catch(A){console.error("Error fetching summary:",A)}},ce=async A=>{var X,ve;try{R(!0);const de=await V.get(`/calendar/${A}/auth`);if(de.data.msg){alert(de.data.msg),R(!1);return}if(!de.data.authUrl){alert("Failed to get OAuth URL"),R(!1);return}window.location.href=de.data.authUrl}catch(de){console.error("Error connecting calendar:",de);const me=((ve=(X=de.response)==null?void 0:X.data)==null?void 0:ve.msg)||"Failed to connect calendar. Please check if the calendar integration is properly configured.";alert(me),R(!1)}},ue=async()=>{if(window.confirm("Are you sure you want to disconnect your calendar? This will stop automatic calendar invites for future sessions."))try{await V.delete("/calendar/disconnect"),W({provider:null,connected:!1}),alert("Calendar disconnected successfully")}catch(A){console.error("Error disconnecting calendar:",A),alert("Failed to disconnect calendar")}},Ne=async(A,X,ve,de,me)=>{if(!X||!X.trim())return;const _e=Tn(X),bt=t[A]||[];if(bt.some(Jt=>Jt.toLowerCase()===_e.toLowerCase())){alert("This skill is already in your list");return}try{const Jt=[...bt,_e],dt={...t,[A]:Jt};await V.put("/profile",dt),n(dt),L.some(Pl=>Pl.toLowerCase()===_e.toLowerCase())||z([...L,_e].sort()),ve(""),me&&me(""),de(!1)}catch(Jt){console.error("Error adding skill:",Jt),alert("Failed to add skill")}},xe=(A,X)=>{if(!A.trim())return L.filter(de=>!(t[X]||[]).some(_e=>_e.toLowerCase()===de.toLowerCase()));const ve=A.toLowerCase();return L.filter(de=>!(t[X]||[]).some(bt=>bt.toLowerCase()===de.toLowerCase())&&de.toLowerCase().includes(ve))},je=async(A,X)=>{try{const ve=(t[A]||[]).filter(me=>me!==X),de={...t,[A]:ve};await V.put("/profile",de),n(de)}catch(ve){console.error("Error removing skill:",ve),alert("Failed to remove skill")}},G=async()=>{try{const A={preferredDays:le,timeZone:ie,format:H.length>0?H.join(", "):"Not set"},X={...t,availability:A,preferredFormat:ee};await V.put("/profile",X),n(X),Q(!1)}catch(A){console.error("Error updating availability:",A),alert("Failed to update availability")}},Pe=A=>{H.includes(A)?K(H.filter(X=>X!==A)):K([...H,A])},Gt=A=>{ee.includes(A)?T(ee.filter(X=>X!==A)):T([...ee,A])},Yt=A=>{const X=A.split(" ");return X.length>=2?(X[0][0]+X[X.length-1][0]).toUpperCase():A.substring(0,2).toUpperCase()};if(r)return i.jsx("div",{className:"text-center p-10",children:"Loading profile..."});if(!t)return i.jsx("div",{className:"text-center p-10",children:"Could not load profile."});const{skillsToTeach:E=[],skillsToLearn:$=[],averageRating:ne=0,hoursTaught:re=0,peersConnected:fe=0,memberSince:se}=t,we=e.username||"User",ze=se?new Date(se).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"Recently";return i.jsx("div",{className:"bg-gray-50 min-h-screen w-screen",style:{marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",width:"100vw"},children:i.jsxs("div",{className:"w-full px-8 py-8",children:[i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-10 mb-8",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-teal-500 to-teal-600 flex items-center justify-center text-white text-4xl font-bold mb-5 shadow-lg",children:Yt(we)}),i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:we}),i.jsxs("p",{className:"text-base text-gray-500 mb-8",children:["Member since ",ze]}),i.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-3xl",children:[i.jsx(mo,{value:re,label:"Hours Taught"}),i.jsx(mo,{value:fe,label:"Peers Connected"}),i.jsx(mo,{value:ne.toFixed(1),label:"Rating"})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-5",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Skills I Can Teach"}),i.jsxs("button",{onClick:()=>{j(!g),f(!1)},className:"flex items-center gap-2 text-sm font-medium text-teal-600 hover:text-teal-700 bg-teal-50 hover:bg-teal-100 px-4 py-2 rounded-lg transition-colors",children:[i.jsx(md,{size:18}),"Add Skill"]})]}),i.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:E.length>0?E.map(A=>i.jsx(bd,{skill:A,onRemove:()=>je("skillsToTeach",A),color:"bg-teal-500"},A)):i.jsx("p",{className:"text-gray-500 text-sm",children:"No skills added yet."})}),g&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Search or type new skill...",value:x,onChange:A=>{S(A.target.value),p(A.target.value)},autoFocus:!0}),x&&xe(x,"skillsToTeach").length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-48 overflow-y-auto",children:xe(x,"skillsToTeach").slice(0,10).map((A,X)=>i.jsx("button",{onClick:()=>{Ne("skillsToTeach",A,p,j,S)},className:"w-full text-left px-4 py-2 hover:bg-teal-50 transition-colors border-b border-gray-100 last:border-b-0",children:A},X))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>Ne("skillsToTeach",h,p,j,S),className:"flex-1 px-6 py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all font-medium shadow-sm",children:["Add ",h?`"${Tn(h)}"`:"Skill"]}),i.jsx("button",{onClick:()=>{j(!1),p(""),S("")},className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-xl hover:bg-gray-300 transition-colors font-medium",children:"Cancel"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-5",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Skills I Want to Learn"}),i.jsxs("button",{onClick:()=>{f(!m),j(!1)},className:"flex items-center gap-2 text-sm font-medium text-orange-600 hover:text-orange-700 bg-orange-50 hover:bg-orange-100 px-4 py-2 rounded-lg transition-colors",children:[i.jsx(md,{size:18}),"Add Skill"]})]}),i.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:$.length>0?$.map(A=>i.jsx(bd,{skill:A,onRemove:()=>je("skillsToLearn",A),color:"bg-orange-500"},A)):i.jsx("p",{className:"text-gray-500 text-sm",children:"No skills added yet."})}),m&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Search or type new skill...",value:k,onChange:A=>{D(A.target.value),v(A.target.value)},autoFocus:!0}),k&&xe(k,"skillsToLearn").length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border-2 border-gray-200 rounded-xl shadow-lg max-h-48 overflow-y-auto",children:xe(k,"skillsToLearn").slice(0,10).map((A,X)=>i.jsx("button",{onClick:()=>{Ne("skillsToLearn",A,v,f,D)},className:"w-full text-left px-4 py-2 hover:bg-teal-50 transition-colors border-b border-gray-100 last:border-b-0",children:A},X))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>Ne("skillsToLearn",N,v,f,D),className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-medium shadow-sm",children:["Add ",N?`"${Tn(N)}"`:"Skill"]}),i.jsx("button",{onClick:()=>{f(!1),v(""),D("")},className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-xl hover:bg-gray-300 transition-colors font-medium",children:"Cancel"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-5",children:"Availability"}),Z?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Days:"}),i.jsxs("select",{className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-white",value:le,onChange:A=>F(A.target.value),children:[i.jsx("option",{value:"Not set",children:"Select Preferred Days"}),U.map((A,X)=>i.jsx("option",{value:A,children:A},X))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone:"}),i.jsxs("select",{className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-white",value:ie,onChange:A=>P(A.target.value),children:[i.jsx("option",{value:"Not set",children:"Select Time Zone"}),J.map((A,X)=>i.jsx("option",{value:A,children:A},X))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Slots:"}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border-2 border-gray-200 rounded-xl p-3 bg-gray-50",children:O.map((A,X)=>i.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-white rounded-lg cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:H.includes(A),onChange:()=>Pe(A),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:A})]},X))}),H.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Selected:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((A,X)=>i.jsx("span",{className:"px-2 py-1 bg-teal-100 text-teal-700 rounded-full text-xs font-medium",children:A},X))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mode of Learning:"}),i.jsx("div",{className:"space-y-2 border-2 border-gray-200 rounded-xl p-3 bg-gray-50",children:b.map((A,X)=>i.jsxs("label",{className:"flex items-center gap-3 p-2 hover:bg-white rounded-lg cursor-pointer transition-colors",children:[i.jsx("input",{type:"checkbox",checked:ee.includes(A),onChange:()=>Gt(A),className:"w-4 h-4 text-teal-600 border-gray-300 rounded focus:ring-teal-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:A})]},X))}),ee.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Selected:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map((A,X)=>i.jsx("span",{className:"px-2 py-1 bg-teal-100 text-teal-700 rounded-full text-xs font-medium",children:A},X))})]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:G,className:"flex-1 bg-gradient-to-r from-teal-500 to-teal-600 text-white py-3 rounded-lg hover:from-teal-600 hover:to-teal-700 transition-all font-medium shadow-sm hover:shadow-md",children:"Save"}),i.jsx("button",{onClick:()=>{var X,ve,de;Q(!1),F(((X=t.availability)==null?void 0:X.preferredDays)||"Not set"),P(((ve=t.availability)==null?void 0:ve.timeZone)||"Not set");const A=((de=t.availability)==null?void 0:de.format)||"";K(A&&A!=="Not set"?A.split(",").map(me=>me.trim()).filter(me=>me):[]),T(t.preferredFormat||[])},className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg hover:bg-gray-300 transition-all font-medium",children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-3 text-sm mb-6",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-gray-800",children:[i.jsx("span",{className:"font-medium",children:"Preferred Days:"})," ",le]})}),i.jsx("div",{children:i.jsxs("p",{className:"text-gray-800",children:[i.jsx("span",{className:"font-medium",children:"Time Zone:"})," ",ie]})}),i.jsx("div",{children:i.jsxs("p",{className:"text-gray-800",children:[i.jsx("span",{className:"font-medium",children:"Time Slots:"})," ",H.length>0?H.join(", "):"Not set"]})}),i.jsx("div",{children:i.jsxs("p",{className:"text-gray-800",children:[i.jsx("span",{className:"font-medium",children:"Mode of Learning:"})," ",ee.length>0?ee.join(", "):"Not set"]})})]}),i.jsx("button",{onClick:()=>Q(!0),className:"w-full bg-gradient-to-r from-teal-500 to-teal-600 text-white py-3 rounded-lg hover:from-teal-600 hover:to-teal-700 transition-all font-medium shadow-sm hover:shadow-md",children:"Update Availability"})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[i.jsx(Bs,{className:"text-teal-600",size:24}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Calendar Integration"})]}),B.connected?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx(yn,{className:"text-green-600",size:20}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-gray-800",children:["Connected to ",B.provider==="google"?"Google Calendar":"Outlook Calendar"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Your sessions will be automatically added to your calendar with reminders."})]})]}),i.jsx("button",{onClick:ue,className:"w-full bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition-all font-medium shadow-sm hover:shadow-md",children:"Disconnect Calendar"})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"Connect your calendar to automatically add session invites with reminders. Sessions will be synced to your calendar when confirmed."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("button",{onClick:()=>ce("google"),disabled:w,className:"flex items-center justify-center gap-3 px-6 py-4 bg-white border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all font-medium text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Connect Google Calendar"]}),i.jsxs("button",{onClick:()=>ce("outlook"),disabled:w,className:"flex items-center justify-center gap-3 px-6 py-4 bg-white border-2 border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all font-medium text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"#0078D4",children:[i.jsx("path",{d:"M7.5 7.5h9v9h-9v-9zm1.5 1.5v6h6v-6h-6z"}),i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]}),"Connect Outlook Calendar"]})]})]})]}),q.summary.length>0&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-teal-100 rounded-lg",children:i.jsx(jm,{className:"text-teal-600",size:24})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Summary Report"})]})}),i.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 summary-scroll",children:[i.jsx("style",{children:`
                .summary-scroll::-webkit-scrollbar {
                  width: 6px;
                }
                .summary-scroll::-webkit-scrollbar-track {
                  background: #f3f4f6;
                  border-radius: 10px;
                }
                .summary-scroll::-webkit-scrollbar-thumb {
                  background: #14b8a6;
                  border-radius: 10px;
                }
                .summary-scroll::-webkit-scrollbar-thumb:hover {
                  background: #0d9488;
                }
              `}),q.summary.slice(0,15).map((A,X)=>{const de=(me=>{const _e=[],bt=/(\d+\s+[A-Z][a-zA-Z]+)/g,Jt=[];let dt;for(;(dt=bt.exec(me))!==null;)Jt.push({text:dt[0],index:dt.index,length:dt[0].length});const Pl=/\b([a-zA-Z][a-zA-Z0-9]*\d+)\b/g,Rc=[];for(;(dt=Pl.exec(me))!==null;)Jt.some(Ur=>dt.index>=Ur.index&&dt.index<Ur.index+Ur.length)||Rc.push({text:dt[0],index:dt.index,length:dt[0].length});const Km=[...Jt,...Rc].sort((ft,Ur)=>ft.index-Ur.index),Lc=[];let Pc=0;Km.forEach(ft=>{ft.index>=Pc&&(Lc.push(ft),Pc=ft.index+ft.length)});let Fr=0;return Lc.forEach(ft=>{ft.index>Fr&&_e.push({text:me.substring(Fr,ft.index),bold:!1}),_e.push({text:ft.text,bold:!0}),Fr=ft.index+ft.length}),Fr<me.length&&_e.push({text:me.substring(Fr),bold:!1}),_e.length>0?_e:[{text:me,bold:!1}]})(A.text);return i.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-teal-300 hover:bg-teal-50/30 transition-all duration-200",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${A.type==="barter"?"bg-teal-500":A.type==="teaching"?"bg-blue-500":"bg-orange-500"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-800 leading-relaxed font-semibold text-base",children:de.map((me,_e)=>me.bold?i.jsx("span",{className:"font-bold text-gray-900",children:me.text},_e):i.jsx("span",{children:me.text},_e))}),A.type==="barter"&&i.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[i.jsxs("div",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:["Taught: ",A.totalTeachingHours.toFixed(1),"hrs"]}),i.jsxs("div",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-medium",children:["Learned: ",A.totalLearningHours.toFixed(1),"hrs"]})]})]})]},X)}),q.summary.length>15&&i.jsx("div",{className:"text-center pt-3 pb-2",children:i.jsxs("p",{className:"text-sm text-gray-500",children:["And ",q.summary.length-15," more achievement",q.summary.length-15!==1?"s":"","..."]})})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-gray-600",children:"Teaching"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),i.jsx("span",{className:"text-gray-600",children:"Learning"})]})]}),i.jsxs("div",{className:"text-gray-600",children:["Total: ",i.jsxs("span",{className:"font-bold text-teal-600",children:[q.totalTeaching.toFixed(1),"hrs"]})," taught, ",i.jsxs("span",{className:"font-bold text-orange-600",children:[q.totalLearning.toFixed(1),"hrs"]})," learned"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Reviews About Me"}),a?i.jsx("p",{className:"text-gray-500",children:"Loading reviews..."}):l.length>0?i.jsx("div",{className:"space-y-4",children:l.map(A=>{var X,ve;return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 hover:shadow-md transition-shadow bg-gray-50",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[A.rating,".0"]}),i.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((de,me)=>i.jsx("span",{children:me<A.rating?"":""},me))})]}),i.jsxs("p",{className:"text-gray-600 ml-4 font-medium",children:["by ",((X=A.reviewer)==null?void 0:X.username)||((ve=A.reviewerId)==null?void 0:ve.username)||"Anonymous"]}),i.jsxs("p",{className:"text-sm text-gray-400 ml-auto",children:["on ",new Date(A.date).toLocaleDateString()]})]}),i.jsxs("p",{className:"text-gray-700 italic",children:['"',A.comment,'"']})]},A._id)})}):i.jsx("p",{className:"text-gray-500",children:"No reviews yet."})]})]})})},r1=()=>{var ie;const{user:e,loadUser:t}=wt(),[n,r]=y.useState({skillsToTeach:[],skillsToLearn:[],availability:{preferredDays:"",timeZone:"",format:""},timeSlots:[],preferredFormat:[]}),[s,l]=y.useState([]),[o,a]=y.useState(0),[c,u]=y.useState(!1),[d,h]=y.useState(""),[p,N]=y.useState([]),v=y.useRef(null),g=["JavaScript","Python","React","Node.js","Web Design","UI/UX Design","Graphic Design","Photography","Video Editing","Content Writing","Digital Marketing","SEO","Social Media Marketing","Data Analysis","Machine Learning","Mobile Development","Guitar","Piano","Singing","Dancing","Yoga","Fitness Training","Cooking","Baking","Drawing","Painting","Public Speaking","Language Teaching","Math Tutoring"],j=["GMT-12:00","GMT-11:00","GMT-10:00","GMT-09:00","GMT-08:00 (PST)","GMT-07:00 (MST)","GMT-06:00 (CST)","GMT-05:00 (EST)","GMT-04:00","GMT+05:30 (IST)","GMT+08:00","GMT+10:00"],m=["Early Morning (6AM-9AM)","Morning (9AM-12PM)","Afternoon (12PM-3PM)","Evening (3PM-6PM)","Night (6PM-9PM)","Late Night (9PM-12AM)","Flexible"],f=ll.useMemo(()=>[{question:`Great to meet you, ${(e==null?void 0:e.username)||"there"}!  Let's build your profile. First, what skills can you teach others?`,field:"skillsToTeach",type:"skill-select"},{question:"Awesome! Now, what skills would you like to learn?",field:"skillsToLearn",type:"skill-select",excludeSkills:!0},{question:"Do you prefer weekdays, weekends, or both for your sessions?",field:"preferredDays",type:"choice",options:["Weekdays only","Weekends only","Both weekdays and weekends","Flexible"]},{question:"What's your timezone? Select from the list:",field:"timeZone",type:"dropdown",options:j},{question:"What time slots work best for you? You can select multiple:",field:"timeSlots",type:"multiple",options:m},{question:"How would you prefer to connect with others? Select all that apply:",field:"preferredFormat",type:"multiple",options:["Video Call","In-Person","Chat-Based","Flexible"]}],[e]),x=()=>{var P;(P=v.current)==null||P.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{x()},[s]),y.useEffect(()=>{s.length===0&&e&&f.length>0&&setTimeout(()=>S(f[0].question),500)},[e,s.length,f]);const S=P=>{u(!0),setTimeout(()=>{l(H=>[...H,{sender:"bot",text:P}]),u(!1)},800)},k=P=>{l(H=>[...H,{sender:"user",text:P}])},D=P=>{p.includes(P)?N(p.filter(H=>H!==P)):N([...p,P])},L=()=>{if(p.length===0)return;const P=f[o];k(p.join(", ")),r(H=>({...H,[P.field]:p})),N([]),h(""),Q()},z=P=>{const H=f[o];if(H.type==="choice")k(P),H.field==="preferredDays"?r(K=>({...K,availability:{...K.availability,preferredDays:P}})):r(K=>({...K,[H.field]:P})),Q();else if(H.type==="dropdown")k(P),H.field==="timeZone"?r(K=>({...K,availability:{...K.availability,timeZone:P}})):r(K=>({...K,[H.field]:P})),Q();else if(H.type==="multiple"){const K=n[H.field]||[];let ee;K.includes(P)?ee=K.filter(T=>T!==P):ee=[...K,P],r(T=>({...T,[H.field]:ee}))}},Z=()=>{const P=f[o],H=n[P.field];H&&H.length>0&&(k(H.join(", ")),P.field==="timeSlots"&&r(K=>({...K,availability:{...K.availability,format:H.join(", ")}})),Q())},Q=async()=>{o<f.length-1?setTimeout(()=>{a(o+1),S(f[o+1].question)},1e3):setTimeout(async()=>{S(" Fantastic! Your profile is complete. Saving...");try{const P={skillsToTeach:n.skillsToTeach,skillsToLearn:n.skillsToLearn,availability:{preferredDays:n.availability.preferredDays||"Not set",timeZone:n.availability.timeZone||"Not set",format:n.availability.format||"Not set"},preferredFormat:n.preferredFormat||[]};await V.put("/profile",P),S("Profile saved! Taking you to your dashboard..."),await t()}catch(P){console.error("Failed to save profile:",P),S("Oh no, something went wrong saving your profile. Please try again.")}},1e3)},le=g.filter(P=>{const H=P.toLowerCase().includes(d.toLowerCase()),K=f[o];if(K!=null&&K.excludeSkills&&n.skillsToTeach.length>0){const ee=n.skillsToTeach.some(T=>T.toLowerCase()===P.toLowerCase());return H&&!ee}return H});if(!e)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const F=f[o];return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 p-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"bg-white rounded-t-2xl shadow-lg p-6 border-b",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-full flex items-center justify-center shadow-md",children:i.jsx(Em,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Welcome, ",e==null?void 0:e.username,"!"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Let's set up your profile"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Progress"}),i.jsxs("div",{className:"text-lg font-bold text-teal-600",children:[o+1,"/",f.length]})]})]})}),i.jsx("div",{className:"bg-white shadow-lg p-6 overflow-y-auto",style:{maxHeight:"600px"},children:i.jsxs("div",{className:"space-y-4 pb-4",children:[s.map((P,H)=>i.jsx("div",{className:`flex ${P.sender==="user"?"justify-end":"justify-start"}`,children:i.jsx("div",{className:`max-w-[80%] p-4 rounded-2xl ${P.sender==="user"?"bg-gradient-to-r from-teal-500 to-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:P.text})},H)),c&&i.jsx("div",{className:"flex justify-start",children:i.jsx("div",{className:"bg-gray-100 p-4 rounded-2xl",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),!c&&o<f.length&&i.jsxs("div",{className:"mt-4 pb-4",children:[F.type==="skill-select"&&i.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[i.jsx("input",{type:"text",value:d,onChange:P=>h(P.target.value),placeholder:"Search skills...",className:"w-full px-4 py-2 border-2 border-gray-200 rounded-xl mb-3 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all"}),i.jsx("div",{className:"max-h-48 overflow-y-auto mb-3 space-y-2",children:le.length>0?le.map((P,H)=>i.jsx("button",{onClick:()=>D(P),className:`w-full text-left px-4 py-2 rounded-lg transition ${p.includes(P)?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-sm":"bg-white text-gray-700 hover:bg-teal-50 border border-gray-200"}`,children:P},H)):i.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:F.excludeSkills&&n.skillsToTeach.length>0?"No more skills available (you're already teaching all of them!)":"No skills found"})}),p.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Selected skills:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((P,H)=>i.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium border border-teal-200",children:P},H))})]}),i.jsx("button",{onClick:L,disabled:p.length===0,className:"w-full bg-gradient-to-r from-teal-500 to-teal-600 text-white py-3 rounded-xl font-semibold hover:from-teal-600 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:"Confirm Selection"})]}),F.type==="choice"&&i.jsx("div",{className:"flex flex-wrap gap-3",children:F.options.map((P,H)=>i.jsx("button",{onClick:()=>z(P),className:"px-6 py-3 bg-white border-2 border-teal-500 text-teal-600 rounded-xl hover:bg-teal-500 hover:text-white transition-all font-medium shadow-sm hover:shadow-md",children:P},H))}),F.type==="dropdown"&&i.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:i.jsxs("select",{onChange:P=>z(P.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all bg-white",defaultValue:"",children:[i.jsx("option",{value:"",disabled:!0,children:"Select your timezone"}),F.options.map((P,H)=>i.jsx("option",{value:P,children:P},H))]})}),F.type==="multiple"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-wrap gap-3",children:F.options.map((P,H)=>{var K;return i.jsx("button",{onClick:()=>z(P),className:`px-6 py-3 rounded-xl font-medium transition-all shadow-sm hover:shadow-md ${(K=n[F.field])!=null&&K.includes(P)?"bg-gradient-to-r from-teal-500 to-teal-600 text-white":"bg-white border-2 border-teal-500 text-teal-600 hover:bg-teal-500 hover:text-white"}`,children:P},H)})}),((ie=n[F.field])==null?void 0:ie.length)>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:"Selected:"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n[F.field].map((P,H)=>i.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium border border-teal-200",children:P},H))}),i.jsx("button",{onClick:Z,className:"w-full bg-gradient-to-r from-teal-500 to-teal-600 text-white py-4 rounded-xl font-semibold hover:from-teal-600 hover:to-teal-700 transition-all shadow-lg hover:shadow-xl text-lg",children:"Continue "})]})]})]}),i.jsx("div",{ref:v})]})}),i.jsx("div",{className:"bg-white rounded-b-2xl shadow-lg p-6",children:i.jsx("div",{className:"text-center text-gray-500 text-sm",children:"Select your preferences above to continue"})})]})})},s1=({userId:e,onClose:t})=>{const{user:n}=wt(),r=Qt(),{showToast:s}=Is(),[l,o]=y.useState(null),[a,c]=y.useState([]),[u,d]=y.useState(!0),[h,p]=y.useState(!0),[N,v]=y.useState([]),[g,j]=y.useState({incoming:[],outgoing:[]}),[m,f]=y.useState(!1),[x,S]=y.useState(""),[k,D]=y.useState("");y.useEffect(()=>{(async()=>{if(e){d(!0),p(!0);try{const b=await V.get(`/profile/user/${e}`);o(b.data),d(!1);const I=await V.get(`/reviews/user/${e}`);c(I.data),p(!1);const[te,oe]=await Promise.all([V.get("/messages/conversations/my").catch(()=>({data:[]})),V.get("/messages/requests/pending").catch(()=>({data:{incoming:[],outgoing:[]}}))]);v(te.data||[]),j(oe.data||{incoming:[],outgoing:[]})}catch(b){console.error("Error fetching user profile:",b),d(!1),p(!1)}}})()},[e]);const L=O=>N.some(b=>b.participant._id===O),z=O=>g.outgoing.some(b=>b.participant._id===O),Z=async()=>{var O,b;try{await V.post(`/messages/request/${e}`),s("Connection request sent! The user will need to accept it before you can chat.","success",5e3);const I=await V.get("/messages/requests/pending").catch(()=>({data:{incoming:[],outgoing:[]}}));j(I.data||{incoming:[],outgoing:[]})}catch(I){console.error("Failed to send connection request",I),s(((b=(O=I.response)==null?void 0:O.data)==null?void 0:b.msg)||"Could not send connection request. Please try again.","error")}},Q=async()=>{try{const O=N.find(b=>b.participant._id===e);if(O)r(`/messages?conversation=${O._id}`),t();else{const b=await V.get(`/messages/start/${e}`);r(`/messages?conversation=${b.data._id}`),t()}}catch(O){console.error("Failed to start chat",O),s("Could not open chat. Please try again.","error")}},le=()=>{f(!0)},F=async()=>{var b,I;const O=Tn(x||k);if(!O){s("Please select a skill to learn","warning");return}try{await V.post("/sessions/request",{teacherId:e,skill:O}),s("Session request sent successfully!","success"),f(!1),S(""),D("")}catch(te){console.error(te),s(((I=(b=te.response)==null?void 0:b.data)==null?void 0:I.msg)||"Error sending session request.","error")}},ie=()=>{const O=(l==null?void 0:l.skillsToTeach)||[];if(!k.trim())return O.slice(0,20);const b=k.toLowerCase();return O.filter(I=>I.toLowerCase().includes(b)).slice(0,20)},P=O=>{if(!O)return"?";const b=O.trim().split(" ");return b.length>=2?(b[0][0]+b[b.length-1][0]).toUpperCase():O.substring(0,2).toUpperCase()},H=O=>{const b=["bg-gradient-to-br from-teal-500 to-teal-600","bg-gradient-to-br from-blue-500 to-blue-600","bg-gradient-to-br from-purple-500 to-purple-600","bg-gradient-to-br from-pink-500 to-pink-600","bg-gradient-to-br from-orange-500 to-orange-600","bg-gradient-to-br from-green-500 to-green-600","bg-gradient-to-br from-indigo-500 to-indigo-600","bg-gradient-to-br from-red-500 to-red-600"];if(!O)return b[0];const I=O.charCodeAt(0)%b.length;return b[I]};if(u)return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-4 text-center",children:"Loading profile..."})]})});if(!l)return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md",children:[i.jsx("p",{className:"text-gray-600 text-center",children:"Profile not found"}),i.jsx("button",{onClick:t,className:"mt-4 w-full px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600",children:"Close"})]})});const{username:K,skillsToTeach:ee=[],skillsToLearn:T=[],availability:B={},averageRating:W=0,totalRatings:w=0,hoursTaught:R=0,hoursLearned:q=0,peersConnected:_=0,memberSince:U}=l,J=U?new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short"}):"Recently";return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:O=>{O.target===O.currentTarget&&t()},children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto my-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 rounded-t-2xl sticky top-0 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-20 h-20 ${H(K)} rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg border-4 border-white`,children:P(K)}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:K}),i.jsxs("p",{className:"text-teal-100 text-sm",children:["Member since ",J]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[n&&n._id!==e&&i.jsxs("div",{className:"flex items-center gap-2",children:[L(e)?i.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg font-medium transition-all flex items-center gap-2 backdrop-blur-sm border border-white/30",children:[i.jsx(Cm,{size:18}),"Chat"]}):i.jsxs("button",{onClick:Z,disabled:z(e),className:`px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ${z(e)?"bg-white/10 text-white/50 cursor-not-allowed":"bg-white/20 hover:bg-white/30 text-white backdrop-blur-sm border border-white/30"}`,children:[i.jsx(El,{size:18}),z(e)?"Request Sent":"Connect"]}),i.jsxs("button",{onClick:le,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-all flex items-center gap-2 shadow-lg hover:shadow-xl",children:[i.jsx(et,{size:18}),"Request Session"]})]}),i.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white/20 rounded-lg",children:i.jsx(Ct,{size:24})})]})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(mt,{className:"text-emerald-500",size:18}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Hours Taught"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:R||0})]}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(wr,{className:"text-emerald-500",size:18}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Peers Connected"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:_||0})]}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Vn,{className:"text-amber-500 fill-amber-500",size:18}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Rating"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:W?W.toFixed(1):"0.0"}),w>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(",w,")"]})]}),i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-gray-200/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(et,{className:"text-blue-500",size:18}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"Hours Learned"})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-800",children:q||0})]})]}),i.jsxs("div",{className:"bg-emerald-50/50 rounded-xl border border-emerald-100/80 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-emerald-200 p-2 rounded-lg shadow-sm",children:i.jsx(ga,{className:"text-emerald-800",size:20})}),i.jsx("h3",{className:"text-lg font-bold text-emerald-700 uppercase tracking-wide",children:"Can Teach"}),ee.length>0&&i.jsx("span",{className:"ml-auto px-2 py-1 bg-emerald-200 text-emerald-800 rounded-md text-xs font-bold shadow-sm",children:ee.length})]}),ee.length>0?i.jsx("div",{className:"flex flex-wrap gap-1.5",children:ee.map((O,b)=>i.jsx("span",{className:"px-2.5 py-1 bg-emerald-200 text-emerald-800 rounded-md text-xs font-medium shadow-sm hover:bg-emerald-300 hover:shadow transition-all",children:O},b))}):i.jsx("p",{className:"text-gray-400 text-xs italic",children:"No skills listed"})]}),i.jsxs("div",{className:"bg-blue-50/50 rounded-xl border border-blue-100/80 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-blue-200 p-2 rounded-lg shadow-sm",children:i.jsx(et,{className:"text-blue-800",size:20})}),i.jsx("h3",{className:"text-lg font-bold text-blue-700 uppercase tracking-wide",children:"Wants to Learn"}),T.length>0&&i.jsx("span",{className:"ml-auto px-2 py-1 bg-blue-200 text-blue-800 rounded-md text-xs font-bold shadow-sm",children:T.length})]}),T.length>0?i.jsx("div",{className:"flex flex-wrap gap-1.5",children:T.map((O,b)=>i.jsx("span",{className:"px-2.5 py-1 bg-blue-200 text-blue-800 rounded-md text-xs font-medium shadow-sm hover:bg-blue-300 hover:shadow transition-all",children:O},b))}):i.jsx("p",{className:"text-gray-400 text-xs italic",children:"No skills listed"})]}),i.jsxs("div",{className:"space-y-2",children:[B.preferredDays&&B.preferredDays!=="Not set"&&i.jsxs("div",{className:"flex items-center gap-2 text-xs bg-stone-50/80 px-3 py-2 rounded-lg border border-stone-200/60",children:[i.jsx(Bs,{size:12,className:"text-emerald-500"}),i.jsx("span",{className:"font-semibold text-stone-600",children:"Preferred Days:"}),i.jsx("span",{className:"font-medium text-stone-500",children:B.preferredDays})]}),B.format&&B.format!=="Not set"&&i.jsxs("div",{className:"flex items-center gap-2 text-xs bg-stone-50/80 px-3 py-2 rounded-lg border border-stone-200/60",children:[i.jsx(mt,{size:12,className:"text-emerald-500"}),i.jsx("span",{className:"font-semibold text-stone-600",children:"Time Slots:"}),i.jsx("span",{className:"font-medium text-stone-500 truncate",children:B.format})]}),B.timeZone&&B.timeZone!=="Not set"&&i.jsxs("div",{className:"flex items-center gap-2 text-xs bg-stone-50/80 px-3 py-2 rounded-lg border border-stone-200/60",children:[i.jsx(mt,{size:12,className:"text-emerald-500"}),i.jsx("span",{className:"font-semibold text-stone-600",children:"Time Zone:"}),i.jsx("span",{className:"font-medium text-stone-500",children:B.timeZone})]}),(!B.preferredDays||B.preferredDays==="Not set")&&(!B.format||B.format==="Not set")&&(!B.timeZone||B.timeZone==="Not set")&&i.jsx("div",{className:"text-gray-400 text-xs italic text-center py-4 bg-stone-50/50 rounded-lg border border-stone-200/60",children:"Availability not set"})]}),i.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"bg-amber-100 p-2 rounded-lg",children:i.jsx(Vn,{className:"text-amber-600 fill-amber-600",size:24})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reviews"}),w>0&&i.jsxs("span",{className:"ml-auto px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-sm font-semibold",children:[w," ",w===1?"Review":"Reviews"]})]}),h?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"Loading reviews..."}):a.length>0?i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.map(O=>{var b,I;return i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:"text-2xl font-bold text-gray-800",children:[O.rating,".0"]}),i.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((te,oe)=>i.jsx(Vn,{size:16,className:oe<O.rating?"fill-amber-400":"text-gray-300"},oe))})]}),i.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["by ",((b=O.reviewer)==null?void 0:b.username)||((I=O.reviewerId)==null?void 0:I.username)||"Anonymous"]})]}),i.jsx("p",{className:"text-xs text-gray-500",children:new Date(O.date).toLocaleDateString()})]}),O.comment&&i.jsxs("p",{className:"text-gray-700 italic mt-2",children:['"',O.comment,'"']})]},O._id)})}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No reviews yet."})]})]})]}),m&&l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",onClick:O=>{O.target===O.currentTarget&&(f(!1),S(""),D(""))},children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative animate-in fade-in zoom-in",children:[i.jsx("button",{onClick:()=>{f(!1),S(""),D("")},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10",children:i.jsx(Ct,{size:24})}),i.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:i.jsx(et,{size:24,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Request Session"}),i.jsxs("p",{className:"text-teal-100 text-sm",children:["with ",l.username]})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Select or search for a skill to learn from ",l.username,":"]}),l.skillsToTeach&&l.skillsToTeach.length>0?i.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Available skills: ",l.skillsToTeach.join(", ")]}):i.jsx("p",{className:"text-xs text-orange-600 mb-2",children:"This teacher hasn't added any skills yet."}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:i.jsx(Tr,{size:18})}),i.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Search or type skill...",value:k,onChange:O=>{D(O.target.value),S(O.target.value)},autoFocus:!0})]})]}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"max-h-64 overflow-y-auto border-2 border-gray-100 rounded-xl p-2",children:ie().length>0?i.jsx("div",{className:"space-y-2",children:ie().map((O,b)=>i.jsx("button",{onClick:()=>{S(O),D(O)},className:`w-full text-left px-4 py-3 rounded-lg transition-all ${x===O?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-md transform scale-[1.02]":"bg-gray-50 hover:bg-teal-50 text-gray-700 hover:border-teal-300 border-2 border-transparent"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{size:16,className:x===O?"text-white":"text-teal-600"}),i.jsx("span",{className:"font-medium",children:O})]})},b))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(et,{size:48,className:"mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500 font-medium",children:l.skillsToTeach&&l.skillsToTeach.length===0?"This teacher has no skills available":"No skills found matching your search"})]})})}),x&&i.jsxs("div",{className:"mb-6 p-4 bg-teal-50 border-2 border-teal-200 rounded-xl",children:[i.jsx("p",{className:"text-xs font-semibold text-teal-700 uppercase tracking-wide mb-2",children:"Selected Skill:"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"px-3 py-1.5 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-lg font-semibold text-sm",children:x})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:F,disabled:!x&&!k,className:"flex-1 px-6 py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2",children:[i.jsx(et,{size:18}),i.jsx("span",{children:"Send Request"})]}),i.jsx("button",{onClick:()=>{f(!1),S(""),D("")},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold",children:"Cancel"})]})]})]})})]})},Nd=()=>{const{user:e}=wt(),t=Qt(),{showToast:n}=Is(),[r,s]=y.useState([]),[l,o]=y.useState(""),[a,c]=y.useState(!0),[u,d]=y.useState([]),[h,p]=y.useState({incoming:[],outgoing:[]}),[N,v]=y.useState(sl),[g,j]=y.useState(""),[m,f]=y.useState(""),[x,S]=y.useState(!1),[k,D]=y.useState(null),[L,z]=y.useState(null);y.useEffect(()=>{e&&(async()=>{try{const[U,J,O]=await Promise.all([V.get("/profile/all"),V.get("/messages/conversations/my").catch(()=>({data:[]})),V.get("/messages/requests/pending").catch(()=>({data:{incoming:[],outgoing:[]}}))]),b=U.data.filter(oe=>oe._id!==(e==null?void 0:e._id));s(b),d(J.data||[]),p(O.data||{incoming:[],outgoing:[]});const I=await Vm(V),te=[...new Set([...sl,...I])].sort();v(te),c(!1)}catch(U){console.error(U),c(!1)}})()},[e]),y.useEffect(()=>{const _=U=>{U.key==="Escape"&&x&&(S(!1),D(null),j(""),f(""))};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[x]);const Z=async(_,U)=>{var O,b;const J=Tn(U);if(!J){n("Please select a skill to learn","warning");return}try{await V.post("/sessions/request",{teacherId:_,skill:J}),n("Session request sent successfully!","success"),j(""),f(""),S(!1),D(null),N.some(I=>I.toLowerCase()===J.toLowerCase())||v([...N,J].sort())}catch(I){console.error(I),n(((b=(O=I.response)==null?void 0:O.data)==null?void 0:b.msg)||"Error sending session request.","error")}},Q=_=>{const U=(k==null?void 0:k.skillsToTeach)||[];if(!k||U.length===0)return[];if(!_.trim())return U.slice(0,20);const J=_.toLowerCase();return U.filter(O=>O.toLowerCase().includes(J)).slice(0,20)},le=async _=>{var U,J;try{await V.post(`/messages/request/${_}`),n("Connection request sent! The user will need to accept it before you can chat.","success",5e3);const O=await V.get("/messages/requests/pending").catch(()=>({data:{incoming:[],outgoing:[]}}));p(O.data||{incoming:[],outgoing:[]})}catch(O){console.error("Failed to send connection request",O),n(((J=(U=O.response)==null?void 0:U.data)==null?void 0:J.msg)||"Could not send connection request. Please try again.","error")}},F=async _=>{try{const U=u.find(J=>J.participant._id===_);if(U)t(`/messages?conversation=${U._id}`);else{const J=await V.get(`/messages/start/${_}`);t(`/messages?conversation=${J.data._id}`)}}catch(U){console.error("Failed to start chat",U),n("Could not open chat. Please try again.","error")}},ie=_=>u.some(U=>U.participant._id===_),P=_=>h.outgoing.some(U=>U.participant._id===_),H=(_,U)=>{var $,ne,re,fe;let J=0;const O=_.averageRating||0;J+=O/5*30;const b=_.hoursTaught||0,I=b<=10?b/10*.5:b<=50?.5+(b-10)/40*.4:.9+Math.min((b-50)/100,.1);J+=I*20;const te=((($=U.availability)==null?void 0:$.preferredDays)||"").toLowerCase(),oe=(((ne=_.availability)==null?void 0:ne.preferredDays)||"").toLowerCase();let ce=0;te&&oe&&te!=="not set"&&oe!=="not set"&&(te==="flexible"||oe==="flexible"||te===oe?ce=1:te.includes("both")&&oe.includes("weekday")||te.includes("both")&&oe.includes("weekend")||oe.includes("both")&&te.includes("weekday")||oe.includes("both")&&te.includes("weekend")?ce=.7:ce=.3),J+=ce*20;const ue=((re=U.availability)==null?void 0:re.format)||"",Ne=((fe=_.availability)==null?void 0:fe.format)||"";let xe=0;if(ue&&Ne&&ue!=="Not set"&&Ne!=="Not set"){const se=ue.toLowerCase().split(",").map(ze=>ze.trim()),we=Ne.toLowerCase().split(",").map(ze=>ze.trim());if(se.includes("flexible")||we.includes("flexible"))xe=1;else{const ze=se.filter(A=>we.includes(A));if(ze.length>0)xe=Math.min(ze.length/Math.max(se.length,we.length),1);else{const A={"early morning":["early morning","morning"],morning:["early morning","morning","afternoon"],afternoon:["morning","afternoon","evening"],evening:["afternoon","evening","night"],night:["evening","night","late night"],"late night":["night","late night"]};let X=0;se.forEach(ve=>{const de=A[ve]||[ve];we.some(me=>de.includes(me))&&X++}),X>0&&(xe=X/Math.max(se.length,we.length)*.6)}}}J+=xe*15;const je=(U.preferredFormat||[]).map(se=>se.toLowerCase()),G=(_.preferredFormat||[]).map(se=>se.toLowerCase());let Pe=0;if(je.length>0&&G.length>0)if(je.includes("flexible")||G.includes("flexible"))Pe=1;else{const se=je.filter(we=>G.includes(we));se.length>0&&(Pe=se.length/Math.max(je.length,G.length))}else(je.length===0||G.length===0)&&(Pe=.5);J+=Pe*15;const Gt=(U.skillsToLearn||[]).map(se=>se.toLowerCase()),Yt=(_.skillsToTeach||[]).map(se=>se.toLowerCase()),E=Gt.filter(se=>Yt.some(we=>we===se));return{score:Math.round(J*100)/100,matchingSkills:E,rating:O,hoursTaught:b,daysMatch:ce,timeSlotMatch:xe,formatMatch:Pe}},K=r.map(_=>{const U=H(_,e);return{..._,matchData:U,hasMatch:U.matchingSkills.length>0}}),ee=K.filter(_=>_.hasMatch).sort((_,U)=>U.matchData.score-_.matchData.score),T=K.filter(_=>!_.hasMatch).sort((_,U)=>U.matchData.score-_.matchData.score),B=ee.filter(_=>{if(!l.trim())return!0;const U=(_.skillsToTeach||[]).join(" ").toLowerCase(),J=(_.username||"").toLowerCase(),O=l.toLowerCase();return U.includes(O)||J.includes(O)}),W=T.filter(_=>{if(!l.trim())return!0;const U=(_.skillsToTeach||[]).join(" ").toLowerCase(),J=(_.username||"").toLowerCase(),O=l.toLowerCase();return U.includes(O)||J.includes(O)}),w=_=>{if(!_)return"?";const U=_.split(" ");return U.length>=2?(U[0][0]+U[U.length-1][0]).toUpperCase():_.substring(0,2).toUpperCase()},R=_=>{const U=["bg-teal-500","bg-blue-500","bg-purple-500"];return U[_%U.length]},q=(_,U,J)=>{const O=_.skillsToTeach||[],b=_.skillsToLearn||[],I=_.availability||{},te=_.preferredFormat||[],oe=_.matchData||{score:0,matchingSkills:[]};return i.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border overflow-hidden flex flex-col ${J?"border-emerald-200/60 ring-1 ring-emerald-100/50":"border-stone-200/60"}`,children:[J&&i.jsxs("div",{className:"bg-gradient-to-r from-emerald-200 to-emerald-300 text-emerald-900 px-4 py-2.5 text-center shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(Vn,{size:14,className:"fill-emerald-700"}),i.jsxs("span",{className:"text-xs font-bold",children:["Match Score: ",oe.score.toFixed(1),"%"]})]}),oe.matchingSkills.length>0&&i.jsxs("p",{className:"text-xs mt-1 text-emerald-800",children:["Matches: ",oe.matchingSkills.join(", ")]})]}),i.jsx("div",{className:"bg-gradient-to-br from-stone-50 via-gray-50 to-stone-50 border-b border-stone-200 p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative cursor-pointer hover:scale-105 transition-transform",onClick:()=>z(_._id),children:[i.jsx("div",{className:`w-16 h-16 ${R(U)} rounded-full flex items-center justify-center text-white text-xl font-bold flex-shrink-0 shadow-md border-2 border-white`,children:w(_.username)}),O.length>0&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-emerald-300 rounded-full flex items-center justify-center border-2 border-white shadow-md",children:i.jsx(ga,{size:10,className:"text-emerald-800"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 truncate mb-1 cursor-pointer hover:text-teal-600 transition-colors",onClick:()=>z(_._id),children:_.username}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-white/80 backdrop-blur-sm px-2 py-0.5 rounded-full border border-gray-200/50 shadow-sm",children:[i.jsx(Vn,{size:12,className:"text-amber-500 fill-amber-500"}),i.jsx("span",{className:"text-xs font-semibold text-gray-700",children:_.averageRating?_.averageRating.toFixed(1):"0.0"}),_.totalRatings>0&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(",_.totalRatings,")"]})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-white/80 backdrop-blur-sm px-2 py-0.5 rounded-full border border-gray-200/50 shadow-sm",children:[i.jsx(mt,{size:12,className:"text-emerald-500"}),i.jsxs("span",{className:"text-xs font-semibold text-gray-700",children:[_.hoursTaught||0,"h"]})]})]})]})]})}),i.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[i.jsxs("div",{className:"mb-4 flex-shrink-0 bg-emerald-50/50 rounded-lg p-3 border border-emerald-100/80",children:[i.jsxs("h3",{className:"text-xs font-semibold text-emerald-700 uppercase tracking-wide mb-2.5 flex items-center gap-2",children:[i.jsx("div",{className:"bg-emerald-200 p-1 rounded-md shadow-sm",children:i.jsx(ga,{size:12,className:"text-emerald-800"})}),i.jsx("span",{children:"Can Teach"}),O.length>0&&i.jsx("span",{className:"ml-auto bg-emerald-200 text-emerald-800 px-1.5 py-0.5 rounded-md text-xs font-bold shadow-sm",children:O.length})]}),i.jsx("div",{className:"min-h-[3rem] max-h-[6rem] overflow-y-auto",children:O.length>0?i.jsx("div",{className:"flex flex-wrap gap-1.5",children:O.map(ce=>i.jsx("span",{className:`px-2.5 py-1 rounded-md text-xs font-medium shadow-sm hover:shadow transition-all flex-shrink-0 ${J&&oe.matchingSkills.some(ue=>ue.toLowerCase()===ce.toLowerCase())?"bg-emerald-300 text-emerald-900 ring-2 ring-emerald-200 shadow-md":"bg-emerald-200 text-emerald-800 hover:bg-emerald-300"}`,children:ce},ce))}):i.jsx("span",{className:"text-gray-400 text-xs italic",children:"No skills listed"})})]}),i.jsxs("div",{className:"mb-4 flex-shrink-0 bg-blue-50/50 rounded-lg p-3 border border-blue-100/80",children:[i.jsxs("h3",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-2.5 flex items-center gap-2",children:[i.jsx("div",{className:"bg-blue-200 p-1 rounded-md shadow-sm",children:i.jsx(et,{size:12,className:"text-blue-800"})}),i.jsx("span",{children:"Wants to Learn"}),b.length>0&&i.jsx("span",{className:"ml-auto bg-blue-200 text-blue-800 px-1.5 py-0.5 rounded-md text-xs font-bold shadow-sm",children:b.length})]}),i.jsx("div",{className:"min-h-[3rem] max-h-[6rem] overflow-y-auto",children:b.length>0?i.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(ce=>i.jsx("span",{className:"bg-blue-200 text-blue-800 px-2.5 py-1 rounded-md text-xs font-medium shadow-sm hover:bg-blue-300 hover:shadow transition-all flex-shrink-0",children:ce},ce))}):i.jsx("span",{className:"text-gray-400 text-xs italic",children:"No skills listed"})})]}),i.jsxs("div",{className:"mb-4 space-y-2 flex-shrink-0",children:[I.preferredDays&&I.preferredDays!=="Not set"&&i.jsxs("div",{className:"flex items-center gap-2 text-xs bg-stone-50/80 px-3 py-2 rounded-lg border border-stone-200/60",children:[i.jsx(Bs,{size:12,className:"text-emerald-500"}),i.jsx("span",{className:"font-semibold text-stone-600",children:"Preferred Days:"}),i.jsx("span",{className:"font-medium text-stone-500",children:I.preferredDays})]}),I.format&&I.format!=="Not set"&&i.jsxs("div",{className:"flex items-center gap-2 text-xs bg-stone-50/80 px-3 py-2 rounded-lg border border-stone-200/60",children:[i.jsx(mt,{size:12,className:"text-emerald-500"}),i.jsx("span",{className:"font-semibold text-stone-600",children:"Time Slots:"}),i.jsx("span",{className:"font-medium text-stone-500 truncate",children:I.format})]}),te.length>0&&i.jsxs("div",{className:"flex items-center gap-2 text-xs bg-stone-50/80 px-3 py-2 rounded-lg border border-stone-200/60 flex-wrap",children:[i.jsx(Cm,{size:12,className:"text-emerald-500 flex-shrink-0"}),i.jsx("span",{className:"font-semibold text-stone-600",children:"Mode of Learning:"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:te.map((ce,ue)=>i.jsx("span",{className:"px-2.5 py-1 bg-white border border-stone-200 text-stone-600 rounded-md text-xs font-semibold shadow-sm",children:ce},ue))})]})]}),i.jsxs("div",{className:"flex gap-2 mt-auto pt-2",children:[ie(_._id)?i.jsxs("button",{onClick:()=>F(_._id),className:"flex-1 bg-indigo-200 text-indigo-800 py-2.5 rounded-lg hover:bg-indigo-300 transition-all font-medium flex items-center justify-center gap-1.5 text-sm shadow-sm hover:shadow-md",children:[i.jsx(rl,{size:16}),i.jsx("span",{children:"Chat"})]}):i.jsxs("button",{onClick:()=>le(_._id),disabled:P(_._id),className:`flex-1 py-2.5 rounded-lg transition-all font-medium flex items-center justify-center gap-1.5 text-sm shadow-sm hover:shadow-md ${P(_._id)?"bg-stone-100 text-stone-400 cursor-not-allowed":"bg-indigo-200 text-indigo-800 hover:bg-indigo-300"}`,children:[i.jsx(El,{size:16}),i.jsx("span",{children:P(_._id)?"Request Sent":"Connect"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("button",{onClick:()=>{D(_),S(!0),f(""),j("")},className:"w-full bg-emerald-200 text-emerald-800 py-2.5 rounded-lg hover:bg-emerald-300 transition-all font-medium flex items-center justify-center gap-1.5 text-sm shadow-sm hover:shadow-md",children:[i.jsx(et,{size:16}),i.jsx("span",{children:"Request Session"})]})})]})]})]},_._id)};return i.jsxs("div",{className:"bg-gray-50 min-h-screen w-screen",style:{marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",width:"100vw"},children:[i.jsxs("div",{className:"w-full px-8 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Learn"}),i.jsx("p",{className:"text-gray-500 mb-8",children:"Find peers to exchange knowledge with"}),i.jsxs("div",{className:"mb-8 relative",children:[i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",children:i.jsx(Tr,{size:20})}),i.jsx("input",{type:"text",placeholder:"Search for skills they can teach (e.g., SQL, Guitar, Cooking)...",className:"w-full pl-12 pr-4 py-4 border border-stone-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-300 focus:border-emerald-300 bg-white",value:l,onChange:_=>o(_.target.value)})]}),a?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Loading users..."})}):i.jsxs(i.Fragment,{children:[B.length>0&&i.jsxs("div",{className:"mb-12",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-1 h-8 bg-emerald-300 rounded-full"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-700",children:"Best Matches"}),i.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm font-semibold",children:[B.length," ",B.length===1?"match":"matches"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map((_,U)=>q(_,U,!0))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-gray-400 to-gray-500 rounded-full"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"All Teachers"}),i.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-semibold",children:[W.length," ",W.length===1?"teacher":"teachers"]})]}),W.length===0?i.jsx("div",{className:"text-center py-12 bg-white rounded-xl",children:i.jsx("p",{className:"text-gray-500",children:l?"No teachers found matching your search.":"No teachers available at the moment."})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((_,U)=>q(_,U,!1))})]})]})]}),x&&k&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:_=>{_.target===_.currentTarget&&(S(!1),D(null),j(""),f(""))},children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative animate-in fade-in zoom-in",children:[i.jsx("button",{onClick:()=>{S(!1),D(null),j(""),f("")},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10",children:i.jsx(Ct,{size:24})}),i.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 p-6 rounded-t-2xl",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:i.jsx(et,{size:24,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Request Session"}),i.jsxs("p",{className:"text-teal-100 text-sm",children:["with ",k.username]})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Select or search for a skill to learn from ",k.username,":"]}),k.skillsToTeach&&k.skillsToTeach.length>0?i.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Available skills: ",k.skillsToTeach.join(", ")]}):i.jsx("p",{className:"text-xs text-orange-600 mb-2",children:"This teacher hasn't added any skills yet."}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:i.jsx(Tr,{size:18})}),i.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all",placeholder:"Search or type skill...",value:m,onChange:_=>{f(_.target.value),j(_.target.value)},autoFocus:!0})]})]}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"max-h-64 overflow-y-auto border-2 border-gray-100 rounded-xl p-2",children:Q(m).length>0?i.jsx("div",{className:"space-y-2",children:Q(m).map((_,U)=>i.jsx("button",{onClick:()=>{j(_),f(_)},className:`w-full text-left px-4 py-3 rounded-lg transition-all ${g===_?"bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-md transform scale-[1.02]":"bg-gray-50 hover:bg-teal-50 text-gray-700 hover:border-teal-300 border-2 border-transparent"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(et,{size:16,className:g===_?"text-white":"text-teal-600"}),i.jsx("span",{className:"font-medium",children:_})]})},U))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(et,{size:48,className:"mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500 font-medium",children:k.skillsToTeach&&k.skillsToTeach.length===0?"This teacher has no skills available":"No skills found matching your search"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:k.skillsToTeach&&k.skillsToTeach.length>0?"Try a different search term":"Please contact the teacher to add skills"})]})})}),g&&i.jsxs("div",{className:"mb-6 p-4 bg-teal-50 border-2 border-teal-200 rounded-xl",children:[i.jsx("p",{className:"text-xs font-semibold text-teal-700 uppercase tracking-wide mb-2",children:"Selected Skill:"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"px-3 py-1.5 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-lg font-semibold text-sm",children:g})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{k&&Z(k._id,g||m)},disabled:!g&&!m,className:"flex-1 px-6 py-3 bg-gradient-to-r from-teal-500 to-teal-600 text-white rounded-xl hover:from-teal-600 hover:to-teal-700 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2",children:[i.jsx(et,{size:18}),i.jsx("span",{children:"Send Request"})]}),i.jsx("button",{onClick:()=>{S(!1),D(null),j(""),f("")},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold",children:"Cancel"})]})]})]})}),L&&i.jsx(s1,{userId:L,onClose:()=>z(null)})]})},Sd=()=>{const{user:e}=wt(),t=Ll(),{showToast:n}=Is(),[r,s]=Sx(),[l,o]=y.useState([]),[a,c]=y.useState(null),[u,d]=y.useState([]),[h,p]=y.useState(""),[N,v]=y.useState(!0),[g,j]=y.useState(new Set),m=y.useRef(null),f=y.useRef(null),[x,S]=y.useState({}),[k,D]=y.useState({incoming:[],outgoing:[]}),[L,z]=y.useState(!1),[Z,Q]=y.useState([]),[le,F]=y.useState(""),[ie,P]=y.useState(!1),[H,K]=y.useState(!1),[ee,T]=y.useState({reason:"",description:""}),B=async()=>{try{const E=await V.get("/messages/conversations/my");o(E.data),v(!1)}catch(E){console.error("Failed to fetch conversations",E),v(!1)}},W=async()=>{try{P(!0);const E=await V.get("/messages/requests/pending").catch(()=>({data:{incoming:[],outgoing:[]}}));D(E.data||{incoming:[],outgoing:[]}),P(!1)}catch(E){console.error("Failed to fetch pending requests",E),P(!1)}},w=async E=>{if(!E.trim()){Q([]);return}try{const ne=(await V.get("/profile/all")).data.filter(re=>re._id!==(e==null?void 0:e._id)).filter(re=>(re.username||"").toLowerCase().includes(E.toLowerCase())).slice(0,5);Q(ne)}catch($){console.error("Failed to search users",$)}},R=async E=>{var $,ne;try{await V.post(`/messages/request/${E}`),W(),F(""),Q([])}catch(re){console.error("Failed to send chat request",re),alert(((ne=($=re.response)==null?void 0:$.data)==null?void 0:ne.msg)||"Failed to send chat request")}},q=async E=>{var $,ne;try{await V.post(`/messages/requests/${E}/accept`),W(),B()}catch(re){console.error("Failed to accept request",re),alert(((ne=($=re.response)==null?void 0:$.data)==null?void 0:ne.msg)||"Failed to accept request")}},_=async E=>{var $,ne;try{await V.post(`/messages/requests/${E}/reject`),W()}catch(re){console.error("Failed to reject request",re),alert(((ne=($=re.response)==null?void 0:$.data)==null?void 0:ne.msg)||"Failed to reject request")}},U=async E=>{try{const $=await V.get(`/messages/${E}`);d($.data),t&&E&&t.emit("markAsRead",{conversationId:E,userId:e._id})}catch($){console.error("Failed to fetch messages",$)}};y.useEffect(()=>{B(),W()},[e]),y.useEffect(()=>{if(!t||!e)return;const E=()=>{W()},$=()=>{W(),B()},ne=()=>{W(),B()};return t.on("newChatRequest",E),t.on("chatRequestAccepted",$),t.on("conversationUpdate",ne),t.on("error",re=>{console.error("Socket error:",re)}),()=>{t.off("newChatRequest",E),t.off("chatRequestAccepted",$),t.off("conversationUpdate",ne),t.off("error")}},[t,e]),y.useEffect(()=>{const E=setTimeout(()=>{le?w(le):Q([])},300);return()=>clearTimeout(E)},[le]),y.useEffect(()=>{const E=setInterval(W,3e4);return()=>clearInterval(E)},[]),y.useEffect(()=>{const E=r.get("conversation");if(E){const $=l.find(ne=>ne._id===E);$?(c($),s({})):N||(async()=>{try{const re=await V.get("/messages/conversations/my");o(re.data);const fe=re.data.find(se=>se._id===E);fe&&(c(fe),s({}))}catch(re){console.error("Failed to fetch conversation",re)}})()}},[l,r,s,N]),y.useEffect(()=>{if(!t||!e)return;t.emit("joinUserRoom",e._id);const E=fe=>{fe.conversationId===(a==null?void 0:a._id)?(d(se=>{if(fe.sender._id===e._id){const we=se.findIndex(ze=>ze.isOptimistic&&ze.sender._id===e._id&&ze.content===fe.content);if(we>-1){const ze=[...se];return ze[we]=fe,ze}}return se.find(we=>we._id===fe._id)?se:[...se,fe]}),t.emit("markAsRead",{conversationId:fe.conversationId,userId:e._id})):(S(se=>({...se,[fe.conversationId]:(se[fe.conversationId]||0)+1})),B())},$=()=>{B()},ne=fe=>{j(se=>new Set([...se,fe]))},re=fe=>{j(se=>{const we=new Set(se);return we.delete(fe),we})};return t.on("receiveMessage",E),t.on("conversationUpdate",$),t.on("userOnline",ne),t.on("userOffline",re),()=>{t.off("receiveMessage",E),t.off("conversationUpdate",$),t.off("userOnline",ne),t.off("userOffline",re)}},[t,e,a]),y.useEffect(()=>{t&&a&&(t.emit("joinRoom",a._id),U(a._id),S(E=>{const $={...E};return delete $[a._id],$}))},[t,a]),y.useEffect(()=>{var E;(E=m.current)==null||E.scrollIntoView({behavior:"smooth"})},[u]),y.useEffect(()=>{a&&f.current&&setTimeout(()=>{var E;(E=f.current)==null||E.focus()},100)},[a]);const J=E=>{if(E.preventDefault(),!h.trim()||!t||!a)return;const $={_id:`temp-${Date.now()}`,sender:{_id:e._id,username:e.username},content:h,createdAt:new Date().toISOString(),isOptimistic:!0};d(ne=>[...ne,$]),t.emit("sendMessage",{conversationId:a._id,senderId:e._id,content:h}),p("")},O=E=>{if(!E)return"?";const $=E.split(" ");return $.length>=2?($[0][0]+$[$.length-1][0]).toUpperCase():E.substring(0,2).toUpperCase()},b=E=>{const $=["bg-orange-500","bg-red-500","bg-blue-500","bg-purple-500","bg-teal-500"],ne=E?E.charCodeAt(0)%$.length:0;return $[ne]},I=E=>{if(!E)return"";const $=new Date(E),re=new Date-$,fe=Math.floor(re/6e4),se=Math.floor(re/36e5),we=Math.floor(re/864e5);return fe<1?"Just now":fe<60?`${fe}m ago`:se<24?`${se}h ago`:we<7?`${we}d ago`:$.toLocaleDateString()},te=E=>E?new Date(E).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"",[oe,ce]=y.useState(!1),[ue,Ne]=y.useState({skill:"",scheduledTime:"",durationHours:1}),[xe,je]=y.useState(!1),G=async()=>{var $,ne;if(!a)return;const E=a.participant._id;je(!0);try{const fe=(await V.get("/profile/all")).data.find(ve=>ve._id===E),se=(fe==null?void 0:fe.skillsToTeach)||[],ze=(await V.get("/profile")).data.skillsToLearn||[],A=ze.find(ve=>se.some(de=>de.toLowerCase()===ve.toLowerCase()))||se[0]||ze[0]||"General Session",X=await V.post("/sessions/instant",{teacherId:E,skill:A});X.data.startUrl?window.open(X.data.startUrl,"_blank"):X.data.meetingLink&&window.open(X.data.meetingLink,"_blank"),t&&a&&t.emit("sendMessage",{conversationId:a._id,senderId:e._id,content:`Started an instant session on ${A}. Zoom meeting opened!`})}catch(re){console.error("Failed to start session",re),alert(((ne=($=re.response)==null?void 0:$.data)==null?void 0:ne.msg)||"Failed to start session. Please try again.")}finally{je(!1)}},Pe=async()=>{if(a){ce(!0);try{const[E,$]=await Promise.all([V.get("/profile/all"),V.get("/profile")]),ne=E.data.find(we=>we._id===a.participant._id),re=(ne==null?void 0:ne.skillsToTeach)||[],fe=$.data.skillsToLearn||[],se=fe.find(we=>re.some(ze=>ze.toLowerCase()===we.toLowerCase()))||re[0]||fe[0]||"";se&&Ne(we=>({...we,skill:se}))}catch(E){console.error("Failed to fetch profiles",E)}}},Gt=async E=>{var $,ne;if(E.preventDefault(),!ee.reason||!ee.description.trim()){alert("Please fill in all fields");return}if(!a){alert("No conversation selected");return}try{await V.post("/messages/report",{reportedUserId:a.participant._id,conversationId:a._id,reason:ee.reason,description:ee.description}),n("Report submitted successfully. Our team will review it.","success"),K(!1),T({reason:"",description:""})}catch(re){console.error("Error submitting report:",re),n(((ne=($=re.response)==null?void 0:$.data)==null?void 0:ne.msg)||"Failed to submit report","error")}},Yt=async E=>{var ne,re;if(E.preventDefault(),!a||!ue.skill||!ue.scheduledTime){alert("Please fill in all required fields");return}const $=a.participant._id;je(!0);try{if(await V.post("/sessions/request",{teacherId:$,skill:ue.skill}),t&&a){const fe=Wm(Hm(ue.scheduledTime));t.emit("sendMessage",{conversationId:a._id,senderId:e._id,content:`Requested a session on ${ue.skill} scheduled for ${fe} (${ue.durationHours} hour${ue.durationHours>1?"s":""})`})}ce(!1),Ne({skill:"",scheduledTime:"",durationHours:1}),alert("Session request sent! The teacher will confirm the schedule.")}catch(fe){console.error("Failed to book session",fe),alert(((re=(ne=fe.response)==null?void 0:ne.data)==null?void 0:re.msg)||"Failed to book session. Please try again.")}finally{je(!1)}};return i.jsxs("div",{className:"flex bg-gray-50 overflow-hidden",style:{position:"fixed",top:"64px",left:0,right:0,bottom:0,height:"calc(100vh - 64px)",width:"100vw",margin:0},children:[i.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col overflow-hidden",style:{height:"calc(100vh - 64px)"},children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Messages"}),i.jsxs("button",{onClick:()=>z(!L),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Chat Requests",children:[i.jsx(Nm,{size:20,className:"text-gray-600"}),k.incoming.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:k.incoming.length>9?"9+":k.incoming.length})]})]}),i.jsxs("div",{className:"relative mb-3",children:[i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:i.jsx(Tr,{size:16})}),i.jsx("input",{type:"text",placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm",value:le,onChange:E=>F(E.target.value)}),Z.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Z.map(E=>{const $=l.some(re=>re.participant._id===E._id),ne=k.outgoing.some(re=>re.participant._id===E._id);return i.jsxs("div",{className:"p-3 hover:bg-gray-50 flex items-center justify-between border-b border-gray-100 last:border-b-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 ${b(E.username)} rounded-full flex items-center justify-center text-white text-xs font-bold`,children:O(E.username)}),i.jsx("span",{className:"text-sm font-medium text-gray-800",children:E.username})]}),$?i.jsx("span",{className:"text-xs text-gray-500",children:"Connected"}):ne?i.jsx("span",{className:"text-xs text-gray-500",children:"Request Sent"}):i.jsx("button",{onClick:()=>R(E._id),className:"text-xs bg-teal-500 text-white px-2 py-1 rounded hover:bg-teal-600 transition-colors",children:"Request"})]},E._id)})})]}),L&&i.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border border-gray-200 max-h-60 overflow-y-auto",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Chat Requests"}),k.incoming.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["Incoming (",k.incoming.length,")"]}),k.incoming.map(E=>{var $;return i.jsxs("div",{className:"p-2 bg-white rounded mb-2 flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-medium text-gray-800 truncate flex-1",children:(($=E.participant)==null?void 0:$.username)||"Unknown"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>q(E._id),className:"p-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",title:"Accept",children:i.jsx(Sm,{size:12})}),i.jsx("button",{onClick:()=>_(E._id),className:"p-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",title:"Reject",children:i.jsx(us,{size:12})})]})]},E._id)})]}),k.outgoing.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["Outgoing (",k.outgoing.length,")"]}),k.outgoing.map(E=>{var $;return i.jsx("div",{className:"p-2 bg-white rounded mb-2",children:i.jsxs("span",{className:"text-xs text-gray-600",children:[(($=E.participant)==null?void 0:$.username)||"Unknown"," - Pending"]})},E._id)})]}),k.incoming.length===0&&k.outgoing.length===0&&i.jsx("p",{className:"text-xs text-gray-500 text-center py-2",children:"No pending requests"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:N?i.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading conversations..."}):l.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:"No conversations yet"}):l.map(E=>{const $=(a==null?void 0:a._id)===E._id,ne=x[E._id]||0,re=g.has(E.participant._id);return i.jsx("div",{onClick:()=>c(E),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${$?"bg-blue-50":""}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-12 h-12 ${b(E.participant.username)} rounded-full flex items-center justify-center text-white font-bold flex-shrink-0`,children:O(E.participant.username)}),re&&i.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h3",{className:"font-semibold text-gray-800 truncate",children:E.participant.username}),E.lastMessage&&i.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:I(E.lastMessage.createdAt||E.updatedAt)})]}),E.lastMessage&&i.jsx("p",{className:"text-sm text-gray-600 truncate",children:E.lastMessage.content})]}),ne>0&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:ne})})]})},E._id)})})]}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0",style:{height:"calc(100vh - 64px)"},children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-10 h-10 ${b(a.participant.username)} rounded-full flex items-center justify-center text-white font-bold`,children:O(a.participant.username)}),g.has(a.participant._id)&&i.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:a.participant.username}),i.jsx("p",{className:"text-xs text-gray-500",children:g.has(a.participant._id)?"Online":"Offline"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>K(!0),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Report user",children:i.jsx(kv,{size:18})}),i.jsxs("button",{onClick:G,disabled:xe,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Rs,{size:18}),i.jsx("span",{children:xe?"Starting...":"Start Session"})]}),i.jsxs("button",{onClick:Pe,disabled:xe,className:"flex items-center gap-2 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Bs,{size:18}),i.jsx("span",{children:"Book Session"})]})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 min-h-0",children:u.length===0?i.jsx("div",{className:"text-center text-gray-500 mt-8",children:"No messages yet. Start the conversation!"}):i.jsxs("div",{className:"space-y-4",children:[u.map(E=>{const $=E.sender._id===e._id;return i.jsx("div",{className:`flex ${$?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${$?"flex-row-reverse":"flex-row"}`,children:[!$&&i.jsx("div",{className:`w-8 h-8 ${b(E.sender.username)} rounded-full flex items-center justify-center text-white text-xs font-bold flex-shrink-0`,children:O(E.sender.username)}),i.jsxs("div",{className:`rounded-2xl px-4 py-2 ${$?"bg-gradient-to-r from-teal-500 to-blue-500 text-white":"bg-blue-100 text-gray-800"} ${E.isOptimistic?"opacity-70":""}`,children:[i.jsx("p",{className:"text-sm",children:E.content}),i.jsx("p",{className:`text-xs mt-1 ${$?"text-white/70":"text-gray-500"}`,children:te(E.createdAt)})]})]})},E._id||`temp-${E.createdAt}`)}),i.jsx("div",{ref:m})]})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-4 flex-shrink-0",children:i.jsxs("form",{onSubmit:J,className:"flex items-center gap-2",children:[i.jsx("input",{ref:f,type:"text",value:h,onChange:E=>p(E.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",autoFocus:!0}),i.jsx("button",{type:"submit",className:"bg-gradient-to-r from-teal-500 to-blue-500 text-white p-3 rounded-full hover:from-teal-600 hover:to-blue-600 transition-colors flex-shrink-0",children:i.jsx(Uv,{size:20})})]})})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("p",{className:"text-lg mb-2",children:"Select a conversation to start chatting"}),i.jsx("p",{className:"text-sm",children:"Choose a conversation from the sidebar"})]})})}),oe&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Book a Session"}),i.jsx("button",{onClick:()=>{ce(!1),Ne({skill:"",scheduledTime:"",durationHours:1})},className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ct,{size:24})})]}),i.jsxs("form",{onSubmit:Yt,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skill to Learn"}),i.jsx("input",{type:"text",value:ue.skill,onChange:E=>Ne($=>({...$,skill:E.target.value})),placeholder:"e.g., SQL, Guitar, Cooking",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time"}),i.jsx("input",{type:"datetime-local",value:ue.scheduledTime,onChange:E=>Ne($=>({...$,scheduledTime:E.target.value})),min:new Date().toISOString().slice(0,16),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours)"}),i.jsx("input",{type:"number",value:ue.durationHours,onChange:E=>Ne($=>({...$,durationHours:parseFloat(E.target.value)||1})),min:"0.5",max:"8",step:"0.5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{ce(!1),Ne({skill:"",scheduledTime:"",durationHours:1})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:xe,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:xe?"Sending...":"Send Request"})]})]})]})}),H&&a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Report User"}),i.jsxs("form",{onSubmit:Gt,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),i.jsxs("select",{value:ee.reason,onChange:E=>T({...ee,reason:E.target.value}),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0,children:[i.jsx("option",{value:"",children:"Select a reason"}),i.jsx("option",{value:"harassment",children:"Harassment"}),i.jsx("option",{value:"spam",children:"Spam"}),i.jsx("option",{value:"inappropriate_content",children:"Inappropriate Content"}),i.jsx("option",{value:"scam",children:"Scam"}),i.jsx("option",{value:"fake_profile",children:"Fake Profile"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:ee.description,onChange:E=>T({...ee,description:E.target.value}),rows:"4",className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Please provide details about the issue...",required:!0})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700",children:"Submit Report"}),i.jsx("button",{type:"button",onClick:()=>{K(!1),T({reason:"",description:""})},className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300",children:"Cancel"})]})]})]})})]})},kd=()=>{const{user:e}=wt(),{showToast:t}=Is(),n=Qt(),[r,s]=y.useState([]),[l,o]=y.useState(!0),[a,c]=y.useState(!1),[u,d]=y.useState(null),[h,p]=y.useState(!1),[N,v]=y.useState(null),[g,j]=y.useState({numberOfWeeks:1,daysOfWeek:[],timeOfDay:"",durationHours:1,barterSkill:""}),[m,f]=y.useState(""),[x,S]=y.useState(!1),[k,D]=y.useState([]),[L,z]=y.useState({scheduledTime:"",durationHours:1}),Z=async()=>{try{o(!0);const w=await V.get("/sessions");s(w.data),o(!1)}catch(w){console.error("Failed to fetch sessions",w),o(!1)}};y.useEffect(()=>{Z()},[e]),y.useEffect(()=>{(async()=>{var R;if(u&&((R=u.learner)!=null&&R._id))try{const _=(await V.get(`/profile/user/${u.learner._id}`)).data.skillsToTeach||[];D(_.sort())}catch(q){console.error("Failed to fetch learner skills:",q),D([])}else D([])})()},[u]);const Q=async()=>{var R,q;if(!u){t("No session selected.","warning");return}if(!g.numberOfWeeks||g.daysOfWeek.length===0||!g.timeOfDay||!g.durationHours){t("Please provide number of weeks, days of week, time, and duration.","warning");return}const w=u.barterSessionId;if(!w&&!g.barterSkill){t("Please select a skill you want to learn from the learner (barter system).","warning");return}try{const _=await V.put(`/sessions/respond/${u._id}`,{response:"confirmed",numberOfWeeks:g.numberOfWeeks,daysOfWeek:g.daysOfWeek,timeOfDay:e1(g.timeOfDay),durationHours:g.durationHours,scheduledTime:new Date().toISOString(),barterSkill:w?null:Tn(g.barterSkill)});c(!1),d(null),j({numberOfWeeks:1,daysOfWeek:[],timeOfDay:"",durationHours:1,barterSkill:""}),f(""),S(!1),Z(),_.data.sessions&&t(`Successfully created ${_.data.sessions.length} sessions!`,"success"),_.data.barterSession&&t(_.data.barterSession.message,"success")}catch(_){console.error("Failed to accept session",_),t(((q=(R=_.response)==null?void 0:R.data)==null?void 0:q.msg)||"Error accepting session.","error")}},le=()=>{const w=k.filter(q=>{var _;return q.toLowerCase()!==((_=u==null?void 0:u.skill)==null?void 0:_.toLowerCase())});if(!m.trim())return w.slice(0,15);const R=m.toLowerCase();return w.filter(q=>q.toLowerCase().includes(R)).slice(0,15)},F=async()=>{var w,R;if(!N||!L.scheduledTime){t("Please provide a new scheduled time.","warning");return}try{await V.put(`/sessions/reschedule/${N._id}`,{scheduledTime:Hm(L.scheduledTime),durationHours:L.durationHours}),p(!1),v(null),z({scheduledTime:"",durationHours:1}),Z(),t("Session rescheduled successfully!","success")}catch(q){console.error("Failed to reschedule session",q),t(((R=(w=q.response)==null?void 0:w.data)==null?void 0:R.msg)||"Error rescheduling session.","error")}},ie=async w=>{if(window.confirm("Are you sure you want to decline this session request?"))try{await V.put(`/sessions/respond/${w}`,{response:"cancelled"}),Z()}catch(R){console.error("Failed to decline session",R),t("Error declining session.","error")}},P=async w=>{try{const R=await V.get(`/messages/start/${w}`);n(`/messages?conversation=${R.data._id}`)}catch(R){console.error("Failed to start chat",R),t("Could not open chat. Please try again.","error")}},H=w=>{if(!w)return"?";const R=w.split(" ");return R.length>=2?(R[0][0]+R[R.length-1][0]).toUpperCase():w.substring(0,2).toUpperCase()},K=w=>{const R=["bg-orange-500","bg-red-500","bg-blue-500","bg-purple-500","bg-teal-500"],q=w?w.charCodeAt(0)%R.length:0;return R[q]},ee=w=>w?new Date(w).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"Not scheduled",T=r.filter(w=>w.teacher._id===e._id&&w.status==="pending"),B=r.filter(w=>w.learner._id===e._id&&w.status==="pending"),W=r.filter(w=>(w.teacher._id===e._id||w.learner._id===e._id)&&w.status==="confirmed");return l?i.jsx("div",{className:"bg-gray-50 min-h-screen w-screen",style:{marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",width:"100vw"},children:i.jsx("div",{className:"w-full px-8 py-8",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Loading requests..."})})})}):i.jsx("div",{className:"bg-gray-50 min-h-screen w-screen",style:{marginLeft:"calc(-50vw + 50%)",marginRight:"calc(-50vw + 50%)",width:"100vw"},children:i.jsxs("div",{className:"w-full px-8 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Session Requests"}),i.jsx("p",{className:"text-gray-500 mb-8",children:"Manage your incoming and outgoing session requests"}),a&&u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:["Schedule Sessions with ",u.learner.username]}),i.jsx("button",{onClick:()=>{c(!1),d(null),j({numberOfWeeks:1,daysOfWeek:[],timeOfDay:"",durationHours:1})},className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ct,{size:24})})]}),!u.barterSessionId&&i.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-blue-800 font-medium flex items-center gap-2",children:[i.jsx(et,{size:16}),"Barter System: Select a skill you want to learn from ",u.learner.username]}),k.length===0&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Loading ",u.learner.username,"'s teachable skills..."]}),k.length>0&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[k.length," skill",k.length!==1?"s":""," available to learn"]})]}),u.barterSessionId&&i.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[i.jsxs("p",{className:"text-sm text-green-800 font-medium flex items-center gap-2",children:[i.jsx(et,{size:16}),"Barter Request: You're teaching ",u.skill," to ",u.learner.username]}),i.jsx("p",{className:"text-xs text-green-600 mt-1",children:"The skill was already selected. Just schedule your teaching sessions below."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Weeks"}),i.jsx("input",{type:"number",value:g.numberOfWeeks,onChange:w=>j(R=>({...R,numberOfWeeks:parseInt(w.target.value)||1})),min:"1",max:"12",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days of Week"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(w=>i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:g.daysOfWeek.includes(w),onChange:R=>{R.target.checked?j(q=>({...q,daysOfWeek:[...q.daysOfWeek,w]})):j(q=>({...q,daysOfWeek:q.daysOfWeek.filter(_=>_!==w)}))},className:"rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:w})]},w))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time of Day"}),i.jsx("input",{type:"time",value:g.timeOfDay,onChange:w=>j(R=>({...R,timeOfDay:w.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours)"}),i.jsx("input",{type:"number",value:g.durationHours,onChange:w=>j(R=>({...R,durationHours:parseFloat(w.target.value)||1})),min:"0.5",max:"8",step:"0.5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),!u.barterSessionId&&i.jsxs("div",{className:"relative barter-skill-dropdown",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Skill to Learn from ",u.learner.username," ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:g.barterSkill||m,onChange:w=>{f(w.target.value),S(!0),w.target.value||j(R=>({...R,barterSkill:""}))},onFocus:()=>S(!0),placeholder:"Search or type a skill...",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"}),i.jsx(hv,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",size:20}),x&&i.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[le().map(w=>i.jsx("button",{type:"button",onClick:()=>{j(R=>({...R,barterSkill:w})),f(w),S(!1)},className:`w-full text-left px-4 py-2 hover:bg-teal-50 transition-colors ${g.barterSkill===w?"bg-teal-100 font-medium":""}`,children:w},w)),le().length===0&&m.trim()&&i.jsxs("div",{className:"px-4 py-2 text-gray-500 text-sm",children:["No matching skills found. ",u.learner.username," can teach: ",k.join(", ")]}),k.length===0&&i.jsxs("div",{className:"px-4 py-2 text-gray-500 text-sm",children:[u.learner.username," hasn't added any skills they can teach yet."]})]})]}),g.barterSkill&&i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Selected:"}),i.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-800 rounded-full text-sm font-medium",children:g.barterSkill}),i.jsx("button",{type:"button",onClick:()=>{j(w=>({...w,barterSkill:""})),f("")},className:"text-red-500 hover:text-red-700",children:i.jsx(Ct,{size:16})})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{c(!1),d(null),j({numberOfWeeks:1,daysOfWeek:[],timeOfDay:"",durationHours:1,barterSkill:""}),f(""),S(!1)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:Q,className:"flex-1 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"Confirm Schedule"})]})]})]})}),h&&N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Reschedule Session"}),i.jsx("button",{onClick:()=>{p(!1),v(null),z({scheduledTime:"",durationHours:1})},className:"text-gray-400 hover:text-gray-600",children:i.jsx(Ct,{size:24})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Please enter a new date and time for this session:"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Scheduled Time"}),i.jsx("input",{type:"datetime-local",value:L.scheduledTime,onChange:w=>z(R=>({...R,scheduledTime:w.target.value})),min:new Date().toISOString().slice(0,16),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (hours)"}),i.jsx("input",{type:"number",value:L.durationHours,onChange:w=>z(R=>({...R,durationHours:parseFloat(w.target.value)||1})),min:"0.5",max:"8",step:"0.5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{p(!1),v(null),z({scheduledTime:"",durationHours:1})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:F,className:"flex-1 px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors",children:"Reschedule"})]})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Incoming Requests"}),T.length>0&&i.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold rounded-full px-3 py-1",children:T.length})]}),T.length>0?i.jsx("div",{className:"space-y-4",children:T.map(w=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:`w-12 h-12 ${K(w.learner.username)} rounded-full flex items-center justify-center text-white font-bold flex-shrink-0`,children:H(w.learner.username)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-semibold text-gray-800",children:[i.jsx("span",{className:"text-teal-600",children:w.learner.username})," wants to learn"," ",i.jsx("span",{className:"font-bold",children:w.skill})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on ",ee(w.requestedDate)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>P(w.learner._id),className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Chat with user",children:i.jsx(rl,{size:20})}),i.jsx("button",{onClick:()=>{d(w),c(!0)},className:"p-2 rounded-full bg-green-100 text-green-600 hover:bg-green-200 transition-colors",title:"Accept Request",children:i.jsx(Sm,{size:20})}),i.jsx("button",{onClick:()=>ie(w._id),className:"p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors",title:"Decline Request",children:i.jsx(Ct,{size:20})})]})]},w._id))}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No incoming requests"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Outgoing Requests"}),B.length>0&&i.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold rounded-full px-3 py-1",children:B.length})]}),B.length>0?i.jsx("div",{className:"space-y-4",children:B.map(w=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:`w-12 h-12 ${K(w.teacher.username)} rounded-full flex items-center justify-center text-white font-bold flex-shrink-0`,children:H(w.teacher.username)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-semibold text-gray-800",children:["You requested to learn ",i.jsx("span",{className:"font-bold",children:w.skill})," from"," ",i.jsx("span",{className:"text-teal-600",children:w.teacher.username})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Requested on ",ee(w.requestedDate)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm font-medium flex items-center gap-1",children:[i.jsx(mt,{size:14}),"Pending"]}),i.jsx("button",{onClick:()=>P(w.teacher._id),className:"p-2 rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 transition-colors",title:"Chat with teacher",children:i.jsx(rl,{size:20})})]})]},w._id))}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No outgoing requests"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Confirmed Sessions"}),W.length>0&&i.jsx("span",{className:"bg-green-500 text-white text-xs font-bold rounded-full px-3 py-1",children:W.length})]}),W.length>0?i.jsx("div",{className:"space-y-4",children:W.map(w=>{const R=w.teacher._id===e._id?w.learner:w.teacher,q=w.teacher._id===e._id;return i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:`w-12 h-12 ${K(R.username)} rounded-full flex items-center justify-center text-white font-bold flex-shrink-0`,children:H(R.username)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-semibold text-gray-800",children:[i.jsx("span",{className:"font-bold",children:w.skill})," with"," ",i.jsx("span",{className:"text-teal-600",children:R.username})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:[i.jsx(Bs,{size:14,className:"inline mr-1"}),ee(w.scheduledTime)]}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[q?"You are teaching":"You are learning","  Duration: ",w.durationHours," hour",w.durationHours!==1?"s":""]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:"Confirmed"}),i.jsx("button",{onClick:()=>{v(w),z({scheduledTime:w.scheduledTime?Zw(w.scheduledTime):"",durationHours:w.durationHours||1}),p(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:"Reschedule"}),i.jsx("button",{onClick:async()=>{var _,U;if(window.confirm("Are you sure you want to cancel this session? This will reduce your total hours."))try{await V.put(`/sessions/cancel/${w._id}`),Z(),t("Session cancelled successfully!","success")}catch(J){console.error("Failed to cancel session",J),t(((U=(_=J.response)==null?void 0:_.data)==null?void 0:U.msg)||"Failed to cancel session","error")}},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm font-medium",children:"Cancel"}),w.meetingLink&&i.jsxs("a",{href:q&&w.startUrl?w.startUrl:w.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600 transition-colors text-sm font-medium",children:[q?"Start":"Join"," Meeting"]})]})]},w._id)})}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No confirmed sessions"})]})]})})},Cd=()=>{var w,R,q,_,U,J,O;const{user:e,logout:t}=wt(),n=Qt(),r=Ll(),{showToast:s}=Is(),[l,o]=y.useState("dashboard"),[a,c]=y.useState(null),[u,d]=y.useState([]),[h,p]=y.useState([]),[N,v]=y.useState(null),[g,j]=y.useState(null),[m,f]=y.useState(!0),[x,S]=y.useState(""),[k,D]=y.useState("all");y.useEffect(()=>{if(e){if(e.role!=="admin"){window.location.href="/dashboard";return}L()}},[e]),y.useEffect(()=>{if(!r||!e||e.role!=="admin")return;const b=xe=>{(l==="reports"&&k==="all"||k==="pending")&&d(je=>[xe,...je]),l==="dashboard"&&L()},I=xe=>{d(je=>je.map(G=>G._id===xe._id?xe:G)),l==="dashboard"&&L()},te=()=>{L(),l==="reports"&&z(),l==="users"&&Z()},oe=xe=>{p(je=>je.map(G=>G._id===xe.userId?{...G,isBanned:!0,banReason:xe.banReason}:G)),L()},ce=xe=>{p(je=>je.map(G=>G._id===xe.userId?{...G,isBanned:!1,banReason:null}:G)),L()},ue=xe=>{p(je=>je.map(G=>G._id===xe.userId?{...G,isTimedOut:!0,timeoutUntil:xe.timeoutUntil,timeoutReason:xe.timeoutReason}:G)),L()},Ne=xe=>{p(je=>je.map(G=>G._id===xe.userId?{...G,isTimedOut:!1,timeoutUntil:null,timeoutReason:null}:G)),L()};return r.on("newReport",b),r.on("reportResolved",I),r.on("dashboardUpdate",te),r.on("userBanned",oe),r.on("userUnbanned",ce),r.on("userTimedOut",ue),r.on("userTimeoutRemoved",Ne),()=>{r.off("newReport",b),r.off("reportResolved",I),r.off("dashboardUpdate",te),r.off("userBanned",oe),r.off("userUnbanned",ce),r.off("userTimedOut",ue),r.off("userTimeoutRemoved",Ne)}},[r,e,l,k]);const L=async()=>{try{f(!0);const b=await V.get("/admin/dashboard");c(b.data),f(!1)}catch(b){console.error("Error loading dashboard:",b),s("Failed to load admin dashboard","error"),f(!1)}},z=async()=>{try{f(!0);const b=await V.get(`/admin/reports?status=${k==="all"?"":k}`);d(b.data.reports||[]),f(!1)}catch(b){console.error("Error loading reports:",b),s("Failed to load reports","error"),f(!1)}},Z=async()=>{try{f(!0);const b=await V.get(`/admin/users?search=${x}`);p(b.data.users||[]),f(!1)}catch(b){console.error("Error loading users:",b),s("Failed to load users","error"),f(!1)}};y.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&(l==="reports"?z():l==="users"&&Z())},[l,k,e]),y.useEffect(()=>{if(l==="users"){const b=setTimeout(()=>{Z()},500);return()=>clearTimeout(b)}},[x]);const Q=async(b,I,te,oe)=>{var ce,ue;try{await V.put(`/admin/reports/${b}/resolve`,{status:I,adminNotes:te,action:oe}),s(`Report ${I} successfully`,"success"),z(),v(null)}catch(Ne){console.error("Error resolving report:",Ne),s(((ue=(ce=Ne.response)==null?void 0:ce.data)==null?void 0:ue.msg)||"Failed to resolve report","error")}},le=async(b,I,te)=>{var oe,ce;try{await V.put(`/admin/users/${b}/ban`,{isBanned:I,banReason:te}),s(I?"User banned successfully":"User unbanned successfully","success"),Z(),L(),(g==null?void 0:g._id)===b&&K(b)}catch(ue){console.error("Error banning user:",ue),s(((ce=(oe=ue.response)==null?void 0:oe.data)==null?void 0:ce.msg)||"Failed to ban user","error")}},F=async(b,I,te)=>{var oe,ce;try{await V.put(`/admin/users/${b}/timeout`,{days:I,reason:te}),s(`User timed out successfully for ${I} day(s)`,"success"),Z(),L(),(g==null?void 0:g._id)===b&&K(b)}catch(ue){console.error("Error timing out user:",ue),s(((ce=(oe=ue.response)==null?void 0:oe.data)==null?void 0:ce.msg)||"Failed to timeout user","error")}},ie=async b=>{var I,te;try{await V.put(`/admin/users/${b}/remove-timeout`),s("User timeout removed successfully","success"),Z(),L(),(g==null?void 0:g._id)===b&&K(b)}catch(oe){console.error("Error removing timeout:",oe),s(((te=(I=oe.response)==null?void 0:I.data)==null?void 0:te.msg)||"Failed to remove timeout","error")}},P=()=>{t(),n("/login")},H=async b=>{try{const I=await V.get(`/admin/reports/${b}`);v(I.data)}catch(I){console.error("Error loading report details:",I),s("Failed to load report details","error")}},K=async b=>{try{const I=await V.get(`/admin/users/${b}`);j(I.data)}catch(I){console.error("Error loading user details:",I),s("Failed to load user details","error")}},ee=async b=>{var I;try{await V.delete(`/admin/messages/${b}`),s("Message deleted successfully","success"),(I=N==null?void 0:N.report)!=null&&I.conversationId&&H(N.report._id)}catch(te){console.error("Error deleting message:",te),s("Failed to delete message","error")}},T=b=>{switch(b){case"pending":case"reviewing":return"bg-yellow-100 text-yellow-800";case"resolved":return"bg-green-100 text-green-800";case"dismissed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},B=b=>b==="pending"||b==="reviewing"?"Pending":b==="dismissed"?"Dismissed":b.charAt(0).toUpperCase()+b.slice(1),W=b=>({harassment:"Harassment",spam:"Spam",inappropriate_content:"Inappropriate Content",scam:"Scam",fake_profile:"Fake Profile",other:"Other"})[b]||b;return m&&!a?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 font-medium",children:"Loading admin panel..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-teal-600 text-white shadow-lg",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Iv,{size:40,className:"text-teal-100"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Admin Panel"}),i.jsx("p",{className:"text-teal-100 text-sm",children:"Platform Management & Moderation"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-teal-100 text-sm",children:"Logged in as"}),i.jsx("p",{className:"font-semibold text-lg",children:e==null?void 0:e.username})]}),i.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-teal-700 hover:bg-teal-800 px-4 py-2 rounded-lg transition-colors duration-200",children:[i.jsx(km,{size:18}),"Logout"]})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6 overflow-hidden",children:i.jsxs("div",{className:"flex border-b border-gray-200",children:[i.jsxs("button",{onClick:()=>o("dashboard"),className:`px-6 py-4 font-medium transition-all duration-200 flex items-center gap-2 ${l==="dashboard"?"border-b-2 border-teal-600 text-teal-600 bg-teal-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[i.jsx(_m,{size:18}),"Dashboard"]}),i.jsxs("button",{onClick:()=>o("reports"),className:`px-6 py-4 font-medium transition-all duration-200 relative flex items-center gap-2 ${l==="reports"?"border-b-2 border-teal-600 text-teal-600 bg-teal-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[i.jsx(co,{size:18}),"Reports",((w=a==null?void 0:a.stats)==null?void 0:w.pendingReports)>0&&i.jsx("span",{className:"absolute top-2 right-2 bg-teal-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:a.stats.pendingReports})]}),i.jsxs("button",{onClick:()=>o("users"),className:`px-6 py-4 font-medium transition-all duration-200 flex items-center gap-2 ${l==="users"?"border-b-2 border-teal-600 text-teal-600 bg-teal-50":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:[i.jsx(wr,{size:18}),"Users"]})]})}),l==="dashboard"&&a&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Total Users"}),i.jsx("p",{className:"text-3xl font-bold text-gray-800",children:a.stats.totalUsers})]}),i.jsx("div",{className:"bg-teal-100 rounded-full p-3",children:i.jsx(wr,{className:"text-teal-600",size:24})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Active Users"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.stats.activeUsers})]}),i.jsx("div",{className:"bg-green-100 rounded-full p-3",children:i.jsx(yn,{className:"text-green-600",size:24})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Banned Users"}),i.jsx("p",{className:"text-3xl font-bold text-red-600",children:a.stats.bannedUsers||0})]}),i.jsx("div",{className:"bg-red-100 rounded-full p-3",children:i.jsx(ai,{className:"text-red-600",size:24})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Timed Out"}),i.jsx("p",{className:"text-3xl font-bold text-orange-600",children:a.stats.timedOutUsers||0})]}),i.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:i.jsx(mt,{className:"text-orange-600",size:24})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:"Pending Reports"}),i.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:a.stats.pendingReports})]}),i.jsx("div",{className:"bg-yellow-100 rounded-full p-3",children:i.jsx(co,{className:"text-yellow-600",size:24})})]})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Recent Reports"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Monitor and manage user reports"}),((R=a.recentReports)==null?void 0:R.length)>0?i.jsx("div",{className:"space-y-3",children:a.recentReports.map(b=>{var I,te;return i.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors duration-200",onClick:()=>{H(b._id),o("reports")},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-medium text-gray-800",children:[(I=b.reportedBy)==null?void 0:I.username," reported ",(te=b.reportedUser)==null?void 0:te.username]}),i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${T(b.reason)}`,children:W(b.reason)})})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${T(b.status)}`,children:b.status})]})},b._id)})}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent reports"})]})]}),l==="reports"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:i.jsxs("div",{className:"flex gap-4 items-center",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Tr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),i.jsx("input",{type:"text",placeholder:"Search reports...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all"})]})}),i.jsxs("div",{className:"relative min-w-[180px]",children:[i.jsxs("select",{value:k,onChange:b=>D(b.target.value),className:"w-full pl-4 pr-10 py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all appearance-none bg-white cursor-pointer font-medium text-gray-700 hover:border-teal-400 shadow-sm hover:shadow-md",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"resolved",children:"Resolved"}),i.jsx("option",{value:"dismissed",children:"Dismissed"})]}),i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:i.jsx(_v,{className:"w-5 h-5 text-teal-600",size:20})})]})]})}),m?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading reports..."})]}):i.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reporter"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reported User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(b=>{var I,te,oe,ce,ue;return i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:(I=b.reportedBy)==null?void 0:I.username}),i.jsx("p",{className:"text-xs text-gray-500",children:(te=b.reportedBy)==null?void 0:te.email})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:(oe=b.reportedUser)==null?void 0:oe.username}),i.jsx("p",{className:"text-xs text-gray-500",children:(ce=b.reportedUser)==null?void 0:ce.email}),((ue=b.reportedUser)==null?void 0:ue.isBanned)&&i.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded",children:"Banned"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm text-gray-900",children:W(b.reason)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${T(b.status)}`,children:B(b.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("button",{onClick:()=>H(b._id),className:"px-3 py-1.5 bg-teal-50 text-teal-700 hover:bg-teal-100 font-medium text-sm rounded-lg transition-colors duration-200 flex items-center gap-1.5 border border-teal-200",children:[i.jsx(hd,{size:16}),"View"]})})]},b._id)})})]}),u.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(co,{className:"mx-auto text-gray-400 mb-4",size:48}),i.jsx("p",{className:"text-gray-500",children:"No reports found"})]})]})]}),l==="users"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Tr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),i.jsx("input",{type:"text",placeholder:"Search users by username or email...",value:x,onChange:b=>S(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),m?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}):h.length>0?i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-[calc(100vh-300px)] overflow-y-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Username"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map(b=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.username})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("p",{className:"text-sm text-gray-500",children:b.email})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.isBanned?i.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:"Banned"}):b.isTimedOut&&b.timeoutUntil&&new Date(b.timeoutUntil)>new Date?i.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:"Timed Out"}):i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Active"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(b.memberSince||b.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsxs("button",{onClick:()=>K(b._id),className:"px-3 py-1.5 bg-teal-50 text-teal-700 hover:bg-teal-100 font-medium text-sm rounded-lg transition-colors duration-200 flex items-center gap-1.5 border border-teal-200",children:[i.jsx(hd,{size:16}),"View"]}),b.isBanned?i.jsxs("button",{onClick:()=>le(b._id,!1,""),className:"px-3 py-1.5 bg-green-50 text-green-700 hover:bg-green-100 font-medium text-sm rounded-lg transition-colors duration-200 flex items-center gap-1.5 border border-green-200",children:[i.jsx(yn,{size:16}),"Unban"]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>{const I=prompt("Enter ban reason:");I&&le(b._id,!0,I)},className:"px-3 py-1.5 bg-red-50 text-red-700 hover:bg-red-100 font-medium text-sm rounded-lg transition-colors duration-200 flex items-center gap-1.5 border border-red-200",children:[i.jsx(ai,{size:16}),"Ban"]}),b.isTimedOut&&b.timeoutUntil&&new Date(b.timeoutUntil)>new Date?i.jsxs("button",{onClick:()=>ie(b._id),className:"px-3 py-1.5 bg-blue-50 text-blue-700 hover:bg-blue-100 font-medium text-sm rounded-lg transition-colors duration-200 flex items-center gap-1.5 border border-blue-200",children:[i.jsx(mt,{size:16}),"Remove Timeout"]}):i.jsxs("button",{onClick:()=>{const I=prompt("Enter number of days to timeout (default: 7):","7"),te=prompt("Enter timeout reason:");I&&!isNaN(I)&&parseInt(I)>0&&F(b._id,parseInt(I),te||"No reason provided")},className:"px-3 py-1.5 bg-orange-50 text-orange-700 hover:bg-orange-100 font-medium text-sm rounded-lg transition-colors duration-200 flex items-center gap-1.5 border border-orange-200",children:[i.jsx(mt,{size:16}),"Timeout"]})]})]})})]},b._id))})]})})}):i.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[i.jsx(wr,{className:"mx-auto text-gray-400 mb-4",size:48}),i.jsx("p",{className:"text-gray-500",children:"No users found"}),x&&i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Try a different search term"})]})]}),N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Report Details"}),i.jsx("button",{onClick:()=>v(null),className:"text-gray-500 hover:text-gray-700",children:i.jsx(us,{size:24})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Reporter"}),i.jsx("p",{className:"font-medium",children:(q=N.report.reportedBy)==null?void 0:q.username}),i.jsx("p",{className:"text-sm text-gray-500",children:(_=N.report.reportedBy)==null?void 0:_.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Reported User"}),i.jsx("p",{className:"font-medium",children:(U=N.report.reportedUser)==null?void 0:U.username}),i.jsx("p",{className:"text-sm text-gray-500",children:(J=N.report.reportedUser)==null?void 0:J.email})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Reason"}),i.jsx("p",{className:"font-medium",children:W(N.report.reason)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Description"}),i.jsx("p",{className:"bg-gray-50 p-4 rounded-lg",children:N.report.description})]}),N.messages&&N.messages.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Conversation Messages"}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-64 overflow-y-auto space-y-2",children:N.messages.map(b=>{var I;return i.jsxs("div",{className:"flex items-start justify-between bg-white p-3 rounded",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:(I=b.sender)==null?void 0:I.username}),i.jsx("p",{className:"text-sm",children:b.content}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(b.createdAt).toLocaleString()})]}),i.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this message?")&&ee(b._id)},className:"text-red-600 hover:text-red-800 ml-2",children:i.jsx(Hv,{size:16})})]},b._id)})})]}),N.report.status==="pending"&&i.jsxs("div",{className:"border-t pt-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes"}),i.jsx("textarea",{id:"adminNotes",rows:"3",className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-teal-500",placeholder:"Add notes about this report..."})]}),i.jsxs("div",{className:"flex gap-3 flex-wrap",children:[i.jsxs("button",{onClick:()=>{const b=document.getElementById("adminNotes").value;Q(N.report._id,"resolved",b,"none")},className:"flex-1 min-w-[140px] bg-green-600 text-white py-2.5 px-4 rounded-lg hover:bg-green-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(yn,{size:18}),"Resolve"]}),i.jsxs("button",{onClick:()=>{const b=document.getElementById("adminNotes").value;Q(N.report._id,"resolved",b,"ban")},className:"flex-1 min-w-[140px] bg-red-600 text-white py-2.5 px-4 rounded-lg hover:bg-red-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(ai,{size:18}),"Resolve & Ban"]}),i.jsxs("button",{onClick:()=>{const b=document.getElementById("adminNotes").value;Q(N.report._id,"dismissed",b,"none")},className:"flex-1 min-w-[140px] bg-gray-600 text-white py-2.5 px-4 rounded-lg hover:bg-gray-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(us,{size:18}),"Dismiss"]})]})]})]})]})}),g&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"User Details"}),i.jsx("button",{onClick:()=>j(null),className:"text-gray-500 hover:text-gray-700",children:i.jsx(us,{size:24})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Username"}),i.jsx("p",{className:"font-medium",children:g.user.username})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),i.jsx("p",{className:"font-medium",children:g.user.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),g.user.isBanned?i.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm font-medium rounded-full",children:"Banned"}):g.user.isTimedOut&&g.user.timeoutUntil&&new Date(g.user.timeoutUntil)>new Date?i.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-sm font-medium rounded-full",children:"Timed Out"}):i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:"Active"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Member Since"}),i.jsx("p",{className:"font-medium",children:new Date(g.user.memberSince||g.user.date).toLocaleDateString()})]})]}),g.user.isBanned&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Ban Reason"}),i.jsx("p",{className:"font-medium",children:g.user.banReason||"No reason provided"}),g.user.bannedBy&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Banned by: ",(O=g.user.bannedBy)==null?void 0:O.username," on ",new Date(g.user.bannedAt).toLocaleDateString()]})]}),g.reportsAsReported&&g.reportsAsReported.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Reports Against This User"}),i.jsx("div",{className:"space-y-2",children:g.reportsAsReported.map(b=>{var I;return i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:W(b.reason)})," - Reported by ",(I=b.reportedBy)==null?void 0:I.username]}),i.jsx("p",{className:"text-xs text-gray-500",children:b.description}),i.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded text-xs ${T(b.status)}`,children:b.status})]},b._id)})})]}),i.jsx("div",{className:"border-t pt-4",children:i.jsx("div",{className:"flex gap-3 flex-wrap",children:g.user.isBanned?i.jsxs("button",{onClick:()=>le(g.user._id,!1,""),className:"flex-1 min-w-[160px] bg-green-600 text-white py-2.5 px-4 rounded-lg hover:bg-green-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(yn,{size:18}),"Unban User"]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>{const b=prompt("Enter ban reason:");b&&le(g.user._id,!0,b)},className:"flex-1 min-w-[160px] bg-red-600 text-white py-2.5 px-4 rounded-lg hover:bg-red-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(ai,{size:18}),"Ban User"]}),g.user.isTimedOut&&g.user.timeoutUntil&&new Date(g.user.timeoutUntil)>new Date?i.jsxs("button",{onClick:()=>ie(g.user._id),className:"flex-1 min-w-[160px] bg-blue-600 text-white py-2.5 px-4 rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(mt,{size:18}),"Remove Timeout"]}):i.jsxs("button",{onClick:()=>{const b=prompt("Enter number of days to timeout (default: 7):","7"),I=prompt("Enter timeout reason:");b&&!isNaN(b)&&parseInt(b)>0&&F(g.user._id,parseInt(b),I||"No reason provided")},className:"flex-1 min-w-[160px] bg-orange-600 text-white py-2.5 px-4 rounded-lg hover:bg-orange-700 transition-all duration-200 font-medium flex items-center justify-center gap-2 shadow-sm hover:shadow-md",children:[i.jsx(mt,{size:18}),"Timeout User"]})]})})})]})]})})]})]})},i1=()=>{const{isAuthenticated:e,profileComplete:t,loading:n,user:r}=wt();return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):e&&(r==null?void 0:r.role)==="admin"?i.jsxs(li,{children:[i.jsx(Fe,{path:"/admin",element:i.jsx(Cd,{})}),i.jsx(Fe,{path:"/dashboard",element:i.jsx(wd,{})}),i.jsx(Fe,{path:"/browse",element:i.jsx(Nd,{})}),i.jsx(Fe,{path:"/profile",element:i.jsx(jd,{})}),i.jsx(Fe,{path:"/messages",element:i.jsx(Sd,{})}),i.jsx(Fe,{path:"/requests",element:i.jsx(kd,{})}),i.jsx(Fe,{path:"*",element:i.jsx(ii,{to:"/admin"})})]}):e&&!t?r?i.jsx(li,{children:i.jsx(Fe,{path:"*",element:i.jsx(r1,{})})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-teal-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading user..."})]})}):e&&t?i.jsxs(li,{children:[i.jsx(Fe,{path:"/admin",element:i.jsx(Cd,{})}),i.jsx(Fe,{path:"/dashboard",element:i.jsx(wd,{})}),i.jsx(Fe,{path:"/browse",element:i.jsx(Nd,{})}),i.jsx(Fe,{path:"/profile",element:i.jsx(jd,{})}),i.jsx(Fe,{path:"/messages",element:i.jsx(Sd,{})}),i.jsx(Fe,{path:"/requests",element:i.jsx(kd,{})}),i.jsx(Fe,{path:"*",element:i.jsx(ii,{to:"/dashboard"})})]}):i.jsxs(li,{children:[i.jsx(Fe,{path:"/login",element:i.jsx(Gw,{})}),i.jsx(Fe,{path:"/register",element:i.jsx(Yw,{})}),i.jsx(Fe,{path:"/admin",element:i.jsx(ii,{to:"/login",state:{from:"/admin"},replace:!0})}),i.jsx(Fe,{path:"*",element:i.jsx(ii,{to:"/login"})})]})},l1=()=>{const t=cn().pathname==="/admin";return i.jsxs(i.Fragment,{children:[!t&&i.jsx(Vw,{}),i.jsx(i1,{})]})};function o1(){return i.jsx(ev,{children:i.jsx(Ww,{children:i.jsx(Qw,{children:i.jsx(wx,{children:i.jsx(l1,{})})})})})}po.createRoot(document.getElementById("root")).render(i.jsx(ll.StrictMode,{children:i.jsx(o1,{})}));
